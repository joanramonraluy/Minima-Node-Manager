function vm(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const v of f.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&i(v)}).observe(document,{childList:!0,subtree:!0});function r(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(o){if(o.ep)return;o.ep=!0;const f=r(o);fetch(o.href,f)}})();function md(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nc={exports:{}},ws={},zc={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rn=Symbol.for("react.element"),vd=Symbol.for("react.portal"),gd=Symbol.for("react.fragment"),Sd=Symbol.for("react.strict_mode"),yd=Symbol.for("react.profiler"),wd=Symbol.for("react.provider"),Cd=Symbol.for("react.context"),Ed=Symbol.for("react.forward_ref"),kd=Symbol.for("react.suspense"),xd=Symbol.for("react.memo"),bd=Symbol.for("react.lazy"),yl=Symbol.iterator;function Ld(e){return e===null||typeof e!="object"?null:(e=yl&&e[yl]||e["@@iterator"],typeof e=="function"?e:null)}var jc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uc=Object.assign,Wc={};function si(e,t,r){this.props=e,this.context=t,this.refs=Wc,this.updater=r||jc}si.prototype.isReactComponent={};si.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};si.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $c(){}$c.prototype=si.prototype;function Ea(e,t,r){this.props=e,this.context=t,this.refs=Wc,this.updater=r||jc}var ka=Ea.prototype=new $c;ka.constructor=Ea;Uc(ka,si.prototype);ka.isPureReactComponent=!0;var wl=Array.isArray,Vc=Object.prototype.hasOwnProperty,xa={current:null},Kc={key:!0,ref:!0,__self:!0,__source:!0};function Gc(e,t,r){var i,o={},f=null,v=null;if(t!=null)for(i in t.ref!==void 0&&(v=t.ref),t.key!==void 0&&(f=""+t.key),t)Vc.call(t,i)&&!Kc.hasOwnProperty(i)&&(o[i]=t[i]);var n=arguments.length-2;if(n===1)o.children=r;else if(1<n){for(var l=Array(n),h=0;h<n;h++)l[h]=arguments[h+2];o.children=l}if(e&&e.defaultProps)for(i in n=e.defaultProps,n)o[i]===void 0&&(o[i]=n[i]);return{$$typeof:rn,type:e,key:f,ref:v,props:o,_owner:xa.current}}function Rd(e,t){return{$$typeof:rn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ba(e){return typeof e=="object"&&e!==null&&e.$$typeof===rn}function Dd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Cl=/\/+/g;function js(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Dd(""+e.key):t.toString(36)}function Mn(e,t,r,i,o){var f=typeof e;(f==="undefined"||f==="boolean")&&(e=null);var v=!1;if(e===null)v=!0;else switch(f){case"string":case"number":v=!0;break;case"object":switch(e.$$typeof){case rn:case vd:v=!0}}if(v)return v=e,o=o(v),e=i===""?"."+js(v,0):i,wl(o)?(r="",e!=null&&(r=e.replace(Cl,"$&/")+"/"),Mn(o,t,r,"",function(h){return h})):o!=null&&(ba(o)&&(o=Rd(o,r+(!o.key||v&&v.key===o.key?"":(""+o.key).replace(Cl,"$&/")+"/")+e)),t.push(o)),1;if(v=0,i=i===""?".":i+":",wl(e))for(var n=0;n<e.length;n++){f=e[n];var l=i+js(f,n);v+=Mn(f,t,r,l,o)}else if(l=Ld(e),typeof l=="function")for(e=l.call(e),n=0;!(f=e.next()).done;)f=f.value,l=i+js(f,n++),v+=Mn(f,t,r,l,o);else if(f==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return v}function ln(e,t,r){if(e==null)return e;var i=[],o=0;return Mn(e,i,"","",function(f){return t.call(r,f,o++)}),i}function Pd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ie={current:null},An={transition:null},Td={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:An,ReactCurrentOwner:xa};function qc(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:ln,forEach:function(e,t,r){ln(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ln(e,function(){t++}),t},toArray:function(e){return ln(e,function(t){return t})||[]},only:function(e){if(!ba(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Component=si;ie.Fragment=gd;ie.Profiler=yd;ie.PureComponent=Ea;ie.StrictMode=Sd;ie.Suspense=kd;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Td;ie.act=qc;ie.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Uc({},e.props),o=e.key,f=e.ref,v=e._owner;if(t!=null){if(t.ref!==void 0&&(f=t.ref,v=xa.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var n=e.type.defaultProps;for(l in t)Vc.call(t,l)&&!Kc.hasOwnProperty(l)&&(i[l]=t[l]===void 0&&n!==void 0?n[l]:t[l])}var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){n=Array(l);for(var h=0;h<l;h++)n[h]=arguments[h+2];i.children=n}return{$$typeof:rn,type:e.type,key:o,ref:f,props:i,_owner:v}};ie.createContext=function(e){return e={$$typeof:Cd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wd,_context:e},e.Consumer=e};ie.createElement=Gc;ie.createFactory=function(e){var t=Gc.bind(null,e);return t.type=e,t};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:Ed,render:e}};ie.isValidElement=ba;ie.lazy=function(e){return{$$typeof:bd,_payload:{_status:-1,_result:e},_init:Pd}};ie.memo=function(e,t){return{$$typeof:xd,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=An.transition;An.transition={};try{e()}finally{An.transition=t}};ie.unstable_act=qc;ie.useCallback=function(e,t){return Ie.current.useCallback(e,t)};ie.useContext=function(e){return Ie.current.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e){return Ie.current.useDeferredValue(e)};ie.useEffect=function(e,t){return Ie.current.useEffect(e,t)};ie.useId=function(){return Ie.current.useId()};ie.useImperativeHandle=function(e,t,r){return Ie.current.useImperativeHandle(e,t,r)};ie.useInsertionEffect=function(e,t){return Ie.current.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return Ie.current.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return Ie.current.useMemo(e,t)};ie.useReducer=function(e,t,r){return Ie.current.useReducer(e,t,r)};ie.useRef=function(e){return Ie.current.useRef(e)};ie.useState=function(e){return Ie.current.useState(e)};ie.useSyncExternalStore=function(e,t,r){return Ie.current.useSyncExternalStore(e,t,r)};ie.useTransition=function(){return Ie.current.useTransition()};ie.version="18.3.1";zc.exports=ie;var re=zc.exports;const Md=md(re);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad=re,Od=Symbol.for("react.element"),Bd=Symbol.for("react.fragment"),Id=Object.prototype.hasOwnProperty,Fd=Ad.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hd={key:!0,ref:!0,__self:!0,__source:!0};function Xc(e,t,r){var i,o={},f=null,v=null;r!==void 0&&(f=""+r),t.key!==void 0&&(f=""+t.key),t.ref!==void 0&&(v=t.ref);for(i in t)Id.call(t,i)&&!Hd.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)o[i]===void 0&&(o[i]=t[i]);return{$$typeof:Od,type:e,key:f,ref:v,props:o,_owner:Fd.current}}ws.Fragment=Bd;ws.jsx=Xc;ws.jsxs=Xc;Nc.exports=ws;var G=Nc.exports;function Nd(e,t){let r=e,i,o;if(t.length>0&&(typeof t[t.length-1]=="function"?(i=t.pop(),t.length>0&&(o=t[0])):o=t[0]),o){if(typeof o=="string")r+=" ".concat(o);else if(typeof o=="object")if(o.params){const f=Object.entries(o.params).map(([v,n])=>typeof n=="object"&&n!==null?"".concat(v,":").concat(JSON.stringify(n)):"".concat(v,":").concat(n)).join(" ");r+=" ".concat(f)}else{const f=Object.entries(o).map(([v,n])=>typeof n=="object"&&n!==null?"".concat(v,":").concat(JSON.stringify(n)):"".concat(v,":").concat(n)).join(" ");r+=" ".concat(f)}}return{commandString:r,callback:i}}function zd(e){return(...t)=>{const{commandString:r,callback:i}=Nd(e,t);return new Promise(o=>{le("cmd",r,f=>{o(f),i&&typeof i=="function"&&i(f)})})}}var Gn,Lr=[];const J={filehost:"",mainhost:"",minidappuid:"",testhost:"",TEST_MODE:!1,logging:!1,DEBUG_HOST:null,DEBUG_PORT:0,DEBUG_MINIDAPPID:"",init:e=>{if(J.log("MDS Inited"),El()){J.TEST_MODE=!0,J.minidappuid="0x00",J.filehost="https://".concat(J.DEBUG_HOST,":").concat(J.DEBUG_PORT,"/"),J.mainhost="http://".concat(J.DEBUG_HOST,":").concat(J.DEBUG_PORT,"/"),J.testhost="http://".concat(J.DEBUG_HOST,":").concat(J.DEBUG_PORT,"/"),Gn=e,e&&e({event:"inited",data:null});return}J.form.getParams("MDS_LOGGING")!=null&&(J.logging=!0);var t=window.location.hostname,r=Number(window.location.port);J.minidappuid=J.form.getParams("uid"),J.minidappuid==null&&(J.minidappuid=J.DEBUG_MINIDAPPID),J.minidappuid=="0x00"&&J.log("No MiniDAPP UID specified.. using test value"),J.filehost="https://"+t+":"+r+"/",J.mainhost="https://"+t+":"+r+"/mdscommand_/",J.testhost="https://"+t+":"+r+"/",J.log("MDS HOST  : "+J.filehost),Gn=e,qn(),La({event:"inited"})},log:e=>{console.log("Minima @ "+new Date().toLocaleString()+" : "+e)},notify:e=>{le(J.mainhost+"notify?uid="+J.minidappuid,e)},notifycancel:()=>{le("notifycancel","*")},cmd:new Proxy({},{get:(e,t)=>{if(t in e)return e[t];const r=zd(t);return e[t]=r,r}}),sql:(e,t)=>new Promise(r=>{le("sql",e,i=>{r(i),t&&t(i)})}),dapplink:(e,t)=>new Promise(r=>{le("dapplink",e,i=>{r(i),t&&t(i)})}),api:{call:(e,t,r)=>{var i=""+Math.random()*1e9,o={};o.id=i,o.callback=r,Lr.push(o);var f=e+"&request&"+i+"&"+t;le("api",f)},reply:(e,t,r,i)=>{var o=e+"&response&"+t+"&"+r;le("api",o,i)}},net:{GET:(e,t)=>{le("net",e,t)},POST:(e,t,r)=>{var i=e+"&"+t;le("netpost",i,r)}},keypair:{get:(e,t)=>{var r="get&"+e;le("keypair",r,t)},set:(e,t,r)=>{var i="set&"+e+"&"+t;le("keypair",i,r)}},comms:{broadcast:(e,t)=>{var r="public&"+e;le("comms",r,t)},solo:(e,t)=>{var r="private&"+e;le("comms",r,t)}},file:{list:(e,t,r)=>{var i="list&"+e;le("file",i,r)},save:(e,t,r)=>{var i="save&"+e+"&"+t;le("file",i,r)},savebinary:function(e,t,r){var i="savebinary&"+e+"&"+t;le("file",i,r)},load:(e,t,r)=>{var i="load&"+e;le("file",i,r)},loadbinary(e,t,r){var i="loadbinary&"+e;le("file",i,r)},delete:(e,t,r)=>{var i="delete&"+e;le("file",i,r)},getpath:(e,t,r)=>{var i="getpath&"+e;le("file",i,r)},makedir:(e,t,r)=>{var i="makedir&"+e;le("file",i,r)},copy:(e,t,r)=>{var i="copy&"+e+"&"+t;le("file",i,r)},move:(e,t,r)=>{var i="move&"+e+"&"+t;le("file",i,r)},download:(e,t,r)=>{var i="download&"+e;le("file",i,r)},upload:(e,t,r)=>{bo(e,0,r)},listweb:(e,t,r)=>{var i="listweb&"+e;le("file",i,r)},copytoweb:(e,t,r)=>{var i="copytoweb&"+e+"&"+t;le("file",i,r)},deletefromweb:(e,t,r)=>{var i="deletefromweb&"+e;le("file",i,r)}},executeRaw:(e,t)=>new Promise(r=>{le("cmd",e,i=>{r(i),t&&t(i)})}),form:{getParams:e=>{var f,v,n;if(El())return null;for(var t=null,r=[],i=window.location.search.substr(1).split("&"),o=0;o<i.length;o++)r=(v=(f=i[o])==null?void 0:f.split("="))!=null?v:[],r[0]===e&&(t=decodeURIComponent((n=r[1])!=null?n:""));return t}},util:{hexToBase64:e=>{var t=e;return e.startsWith("0x")&&(t=e.substring(2)),btoa((t.match(/\w{2}/g)||[]).map(function(r){return String.fromCharCode(parseInt(r,16))}).join(""))},base64ToHex:e=>{const t=atob(e);let r="";for(let i=0;i<t.length;i++){const o=t.charCodeAt(i).toString(16);r+=o.length===2?o:"0"+o}return r.toUpperCase()},base64ToArrayBuffer:e=>{const t=window.atob(e),r=t.length,i=new Uint8Array(r);for(let o=0;o<r;o++)i[o]=t.charCodeAt(o);return i.buffer}}};function La(e){if(Gn){if(e.event=="MDSAPI"&&!e.data.request){for(var t="",r=Lr.length,i=0;i<r;i++)if(Lr[i].id==e.data.id){t=e.data.id;var o={};o.status=e.data.status,o.data=e.data.message,Lr[i].callback(o)}t!=""&&(Lr=Lr.filter(function(f){return f.id!=t}));return}Gn(e)}}var Us=0,Ws=0;function qn(){var e=J.mainhost+"poll?uid="+J.minidappuid,t="series="+Ws+"&counter="+Us;jd(e,t,function(r){Ws!=r.series?(Ws=r.series,Us=r.counter):r.status==!0&&(Us=r.response.counter+1,La(r.response.message)),qn()})}function xo(e,t,r){J.logging&&J.log("** An error occurred during an MDS command!");var i={event:"MDSFAIL",data:{command:e,params:t,status:r}};La(i)}function le(e,t,r){var i=J.TEST_MODE?J.testhost:J.mainhost;i+=e+"?uid="+J.minidappuid;var o="http://"+J.DEBUG_HOST+":"+J.DEBUG_PORT+"/"+t;if(J.logging&&J.log("POST_RPC:"+i+" PARAMS:"+t),J.TEST_MODE){fetch(o).then(v=>v.json()).then(v=>{J.logging&&J.log("RESPONSE:"+JSON.stringify(v)),r&&r(v)}).catch(v=>{xo(i,t,v)});return}var f=new XMLHttpRequest;f.onreadystatechange=function(){var v=f.status;if(f.readyState==XMLHttpRequest.DONE)if(v===0||v>=200&&v<400){if(J.logging&&J.log("RESPONSE:"+f.responseText),r)try{const n=JSON.parse(f.responseText);r(n)}catch(n){console.error("Failed to parse response as JSON",n)}}else xo(i,t,f.status)},f.open("POST",i,!0),f.overrideMimeType&&f.overrideMimeType("text/plain; charset=UTF-8"),f.send(encodeURIComponent(t))}function jd(e,t,r){if(J.logging&&J.log("POST_POLL_RPC:"+e+" PARAMS:"+t),J.TEST_MODE){fetch(e).then(o=>o.json()).then(o=>{J.logging&&J.log("RESPONSE:"+JSON.stringify(o)),r(o)}).catch(o=>{setTimeout(()=>{qn()},1e4)});return}var i=new XMLHttpRequest;i.onreadystatechange=function(){var o=i.status;if(i.readyState==XMLHttpRequest.DONE)if(o===0||o>=200&&o<400){J.logging&&J.log("RESPONSE:"+i.responseText);try{const f=JSON.parse(i.responseText);r(f)}catch(f){console.error("Failed to parse response as JSON",f)}}else xo(e,t,i.status)},i.addEventListener("error",function(){J.log("Error Polling - reconnect in 10s"),setTimeout(function(){qn()},1e4)}),i.open("POST",e,!0),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=UTF-8"),i.send(encodeURIComponent(t))}function bo(e,t,r){var i=e.name,o=e.size,f=1024*1024,v=Math.ceil(o/f);if(!(t>v-1)){var n=f*t,l=n+f;l>o&&(l=o);var h=e.slice(n,l),p=new FormData;p.append("uid",J.minidappuid),p.append("filename",i),p.append("filesize",o),p.append("allchunks",v),p.append("chunknum",t),p.append("fileupload",h);var u=new XMLHttpRequest;u.open("POST","/fileuploadchunk.html"),u.onreadystatechange=function(){var _=u.status;if(u.readyState==XMLHttpRequest.DONE)if(_===0||_>=200&&_<400){if(r){var g={};g.status=!0,g.filename=i,g.size=o,g.allchunks=v,g.chunk=t+1,g.start=n,g.end=l,r(g)}r?bo(e,t+1,r):bo(e,t+1)}else{if(r){var g={};g.status=!1,g.error=u.responseText,g.filename=i,g.size=o,g.allchunks=v,g.chunk=t,g.start=n,g.end=l,r(g)}J.log("MDS FILEUPLOAD CHUNK ERROR: "+u.responseText)}},u.send(p)}}function El(){return typeof window>"u"||J.TEST_MODE}const kl={INITED:"inited",NEWBLOCK:"NEWBLOCK",MINING:"MINING",MINIMALOG:"MINIMALOG",MAXIMA:"MAXIMA",TIMER_10SECONDS:"MDS_TIMER_10SECONDS",TIMER_1HOUR:"MDS_TIMER_1HOUR",SHUTDOWN:"MDS_SHUTDOWN",PENDING:"MDS_PENDING",NEWCOIN:"NEWCOIN",NOTIFYCOIN:"NOTIFYCOIN",NOTIFYCASCADECOIN:"NOTIFYCASCADECOIN"},fr="__TSR_index",xl="popstate",bl="beforeunload";function Yc(e){let t=e.getLocation();const r=new Set,i=v=>{t=e.getLocation(),r.forEach(n=>n({location:t,action:v}))},o=v=>{var n;(n=e.notifyOnIndexChange)==null||n?i(v):t=e.getLocation()},f=async({task:v,navigateOpts:n,...l})=>{var w,S;var h,p;if((w=n==null?void 0:n.ignoreBlocker)!=null?w:!1){v();return}const _=(S=(h=e.getBlockers)==null?void 0:h.call(e))!=null?S:[],g=l.type==="PUSH"||l.type==="REPLACE";if(typeof document<"u"&&_.length&&g)for(const d of _){const c=Hi(l.path,l.state);if(await d.blockerFn({currentLocation:t,nextLocation:c,action:l.type})){(p=e.onBlocked)==null||p.call(e);return}}v()};return{get location(){return t},get length(){return e.getLength()},subscribers:r,subscribe:v=>(r.add(v),()=>{r.delete(v)}),push:(v,n,l)=>{const h=t.state[fr];n=Lo(h+1,n),f({task:()=>{e.pushState(v,n),i({type:"PUSH"})},navigateOpts:l,type:"PUSH",path:v,state:n})},replace:(v,n,l)=>{const h=t.state[fr];n=Lo(h,n),f({task:()=>{e.replaceState(v,n),i({type:"REPLACE"})},navigateOpts:l,type:"REPLACE",path:v,state:n})},go:(v,n)=>{f({task:()=>{e.go(v),o({type:"GO",index:v})},navigateOpts:n,type:"GO"})},back:v=>{f({task:()=>{var n;e.back((n=v==null?void 0:v.ignoreBlocker)!=null?n:!1),o({type:"BACK"})},navigateOpts:v,type:"BACK"})},forward:v=>{f({task:()=>{var n;e.forward((n=v==null?void 0:v.ignoreBlocker)!=null?n:!1),o({type:"FORWARD"})},navigateOpts:v,type:"FORWARD"})},canGoBack:()=>t.state[fr]!==0,createHref:v=>e.createHref(v),block:v=>{var h;var n;if(!e.setBlockers)return()=>{};const l=(h=(n=e.getBlockers)==null?void 0:n.call(e))!=null?h:[];return e.setBlockers([...l,v]),()=>{var g;var p,u;const _=(g=(p=e.getBlockers)==null?void 0:p.call(e))!=null?g:[];(u=e.setBlockers)==null||u.call(e,_.filter(w=>w!==v))}},flush:()=>{var v;return(v=e.flush)==null?void 0:v.call(e)},destroy:()=>{var v;return(v=e.destroy)==null?void 0:v.call(e)},notify:i}}function Lo(e,t){return t||(t={}),{...t,key:Wd(),[fr]:e}}function Ud(e){const t=typeof document<"u"?window:void 0,r=t.history.pushState,i=t.history.replaceState;let o=[];const f=()=>o,v=y=>o=y,n=y=>y,l=()=>Hi("".concat(t.location.pathname).concat(t.location.search).concat(t.location.hash),t.history.state);let h=l(),p,u=!1,_=!1,g=!1,w=!1;const S=()=>h;let d,c;const s=()=>{d&&(k._ignoreSubscribers=!0,(d.isPush?t.history.pushState:t.history.replaceState)(d.state,"",d.href),k._ignoreSubscribers=!1,d=void 0,c=void 0,p=void 0)},a=(y,x,P)=>{const M=n(x);c||(p=h),h=Hi(x,P),d={href:M,state:P,isPush:(d==null?void 0:d.isPush)||y==="push"},c||(c=Promise.resolve().then(()=>s()))},m=y=>{h=l(),k.notify({type:y})},E=async()=>{if(_){_=!1;return}const y=l(),x=y.state[fr]-h.state[fr],P=x===1,M=x===-1,O=!P&&!M||u;u=!1;const R=O?"GO":M?"BACK":"FORWARD",F=O?{type:"GO",index:x}:{type:M?"BACK":"FORWARD"};if(g)g=!1;else{const N=f();if(typeof document<"u"&&N.length){for(const W of N)if(await W.blockerFn({currentLocation:h,nextLocation:y,action:R})){_=!0,t.history.go(1),k.notify(F);return}}}h=l(),k.notify(F)},C=y=>{var M;if(w){w=!1;return}let x=!1;const P=f();if(typeof document<"u"&&P.length)for(const O of P){const R=(M=O.enableBeforeUnload)!=null?M:!0;if(R===!0){x=!0;break}if(typeof R=="function"&&R()===!0){x=!0;break}}if(x)return y.preventDefault(),y.returnValue=""},k=Yc({getLocation:S,getLength:()=>t.history.length,pushState:(y,x)=>a("push",y,x),replaceState:(y,x)=>a("replace",y,x),back:y=>(y&&(g=!0),w=!0,t.history.back()),forward:y=>{y&&(g=!0),w=!0,t.history.forward()},go:y=>{u=!0,t.history.go(y)},createHref:y=>n(y),flush:s,destroy:()=>{t.history.pushState=r,t.history.replaceState=i,t.removeEventListener(bl,C,{capture:!0}),t.removeEventListener(xl,E)},onBlocked:()=>{p&&h!==p&&(h=p)},getBlockers:f,setBlockers:v,notifyOnIndexChange:!1});return t.addEventListener(bl,C,{capture:!0}),t.addEventListener(xl,E),t.history.pushState=function(...y){const x=r.apply(t.history,y);return k._ignoreSubscribers||m("PUSH"),x},t.history.replaceState=function(...y){const x=i.apply(t.history,y);return k._ignoreSubscribers||m("REPLACE"),x},k}function Qc(e={initialEntries:["/"]}){const t=e.initialEntries;let r=e.initialIndex?Math.min(Math.max(e.initialIndex,0),t.length-1):t.length-1;const i=t.map((f,v)=>Lo(v,void 0));return Yc({getLocation:()=>Hi(t[r],i[r]),getLength:()=>t.length,pushState:(f,v)=>{r<t.length-1&&(t.splice(r+1),i.splice(r+1)),i.push(v),t.push(f),r=Math.max(t.length-1,0)},replaceState:(f,v)=>{i[r]=v,t[r]=f},back:()=>{r=Math.max(r-1,0)},forward:()=>{r=Math.min(r+1,t.length-1)},go:f=>{r=Math.min(Math.max(r+f,0),t.length-1)},createHref:f=>f})}function Hi(e,t){const r=e.indexOf("#"),i=e.indexOf("?");return{href:e,pathname:e.substring(0,r>0?i>0?Math.min(r,i):r:i>0?i:e.length),hash:r>-1?e.substring(r):"",search:i>-1?e.slice(i,r===-1?void 0:r):"",state:t||{[fr]:0}}}function Wd(){return(Math.random()+1).toString(36).substring(7)}var $d="Invariant failed";function Ke(e,t){if(!e)throw new Error($d)}const $s=re.createContext(null);function Jc(){return typeof document>"u"?$s:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=$s,$s)}function wr(e){var r;const t=re.useContext(Jc());return(r=e==null?void 0:e.warn)==null,t}var Zc={exports:{}},eu={},tu={exports:{}},ru={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xr=re;function Vd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kd=typeof Object.is=="function"?Object.is:Vd,Gd=Xr.useState,qd=Xr.useEffect,Xd=Xr.useLayoutEffect,Yd=Xr.useDebugValue;function Qd(e,t){var r=t(),i=Gd({inst:{value:r,getSnapshot:t}}),o=i[0].inst,f=i[1];return Xd(function(){o.value=r,o.getSnapshot=t,Vs(o)&&f({inst:o})},[e,r,t]),qd(function(){return Vs(o)&&f({inst:o}),e(function(){Vs(o)&&f({inst:o})})},[e]),Yd(r),r}function Vs(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Kd(e,r)}catch(i){return!0}}function Jd(e,t){return t()}var Zd=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Jd:Qd;ru.useSyncExternalStore=Xr.useSyncExternalStore!==void 0?Xr.useSyncExternalStore:Zd;tu.exports=ru;var ef=tu.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cs=re,tf=ef;function rf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nf=typeof Object.is=="function"?Object.is:rf,sf=tf.useSyncExternalStore,of=Cs.useRef,af=Cs.useEffect,lf=Cs.useMemo,cf=Cs.useDebugValue;eu.useSyncExternalStoreWithSelector=function(e,t,r,i,o){var f=of(null);if(f.current===null){var v={hasValue:!1,value:null};f.current=v}else v=f.current;f=lf(function(){function l(g){if(!h){if(h=!0,p=g,g=i(g),o!==void 0&&v.hasValue){var w=v.value;if(o(w,g))return u=w}return u=g}if(w=u,nf(p,g))return w;var S=i(g);return o!==void 0&&o(w,S)?(p=g,w):(p=g,u=S)}var h=!1,p,u,_=r===void 0?null:r;return[function(){return l(t())},_===null?void 0:function(){return l(_())}]},[t,r,i,o]);var n=sf(e,f[0],f[1]);return af(function(){v.hasValue=!0,v.value=n},[n]),cf(n),n};Zc.exports=eu;var uf=Zc.exports;const jr=new WeakMap,On=new WeakMap,Xn={current:[]};let Ks=!1,bi=0;const yi=new Set,cn=new Map;function iu(e){const t=Array.from(e).sort((r,i)=>r instanceof Ur&&r.options.deps.includes(i)?1:i instanceof Ur&&i.options.deps.includes(r)?-1:0);for(const r of t){if(Xn.current.includes(r))continue;Xn.current.push(r),r.recompute();const i=On.get(r);if(i)for(const o of i){const f=jr.get(o);f&&iu(f)}}}function hf(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function df(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function nu(e){var t;if(bi>0&&!cn.has(e)&&cn.set(e,e.prevState),yi.add(e),!(bi>0)&&!Ks)try{for(Ks=!0;yi.size>0;){const r=Array.from(yi);yi.clear();for(const i of r){const o=(t=cn.get(i))!=null?t:i.prevState;i.prevState=o,hf(i)}for(const i of r){const o=jr.get(i);o&&(Xn.current.push(i),iu(o))}for(const i of r){const o=jr.get(i);if(o)for(const f of o)df(f)}}}finally{Ks=!1,Xn.current=[],cn.clear()}}function Gs(e){bi++;try{e()}finally{if(bi--,bi===0){const t=Array.from(yi)[0];t&&nu(t)}}}class Ro{constructor(t,r){this.listeners=new Set,this.subscribe=i=>{var o,f;this.listeners.add(i);const v=(f=(o=this.options)==null?void 0:o.onSubscribe)==null?void 0:f.call(o,i,this);return()=>{this.listeners.delete(i),v==null||v()}},this.setState=i=>{var o,f,v;this.prevState=this.state,this.state=(o=this.options)!=null&&o.updateFn?this.options.updateFn(this.prevState)(i):i(this.prevState),(v=(f=this.options)==null?void 0:f.onUpdate)==null||v.call(f),nu(this)},this.prevState=t,this.state=t,this.options=r}}class Ur{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{var o;const r=[],i=[];for(const f of this.options.deps)r.push(f.prevState),i.push(f.state);return this.lastSeenDepValues=i,{prevDepVals:r,currDepVals:i,prevVal:(o=this.prevState)!=null?o:void 0}},this.recompute=()=>{var r,i;this.prevState=this.state;const{prevDepVals:o,currDepVals:f,prevVal:v}=this.getDepVals();this.state=this.options.fn({prevDepVals:o,currDepVals:f,prevVal:v}),(i=(r=this.options).onUpdate)==null||i.call(r)},this.checkIfRecalculationNeededDeeply=()=>{for(const f of this.options.deps)f instanceof Ur&&f.checkIfRecalculationNeededDeeply();let r=!1;const i=this.lastSeenDepValues,{currDepVals:o}=this.getDepVals();for(let f=0;f<o.length;f++)if(o[f]!==i[f]){r=!0;break}r&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const r of this._subscriptions)r()}),this.subscribe=r=>{var i,o;this.listeners.add(r);const f=(o=(i=this.options).onSubscribe)==null?void 0:o.call(i,r,this);return()=>{this.listeners.delete(r),f==null||f()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const r of t)if(r instanceof Ur)r.registerOnGraph(),this.registerOnGraph(r.options.deps);else if(r instanceof Ro){let i=jr.get(r);i||(i=new Set,jr.set(r,i)),i.add(this);let o=On.get(this);o||(o=new Set,On.set(this,o)),o.add(r)}}unregisterFromGraph(t=this.options.deps){for(const r of t)if(r instanceof Ur)this.unregisterFromGraph(r.options.deps);else if(r instanceof Ro){const i=jr.get(r);i&&i.delete(this);const o=On.get(this);o&&o.delete(r)}}}function ff(e,t=r=>r){return uf.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,_f)}function _f(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[i,o]of e)if(!t.has(i)||!Object.is(o,t.get(i)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!Object.is(e[r[i]],t[r[i]]))return!1;return!0}const Ve="__root__";function pf(e,t){let r,i,o,f="";for(r in e)if((o=e[r])!==void 0)if(Array.isArray(o))for(i=0;i<o.length;i++)f&&(f+="&"),f+=encodeURIComponent(r)+"="+encodeURIComponent(o[i]);else f&&(f+="&"),f+=encodeURIComponent(r)+"="+encodeURIComponent(o);return""+f}function Ll(e){if(!e)return"";const t=decodeURIComponent(e);return t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t}function mf(e,t){let r,i;const o={},f=e.split("&");for(;r=f.shift();){const v=r.indexOf("=");if(v!==-1){i=r.slice(0,v),i=decodeURIComponent(i);const n=r.slice(v+1);o[i]!==void 0?o[i]=[].concat(o[i],Ll(n)):o[i]=Ll(n)}else i=r,i=decodeURIComponent(i),o[i]=""}return o}const vf=Sf(JSON.parse),gf=yf(JSON.stringify,JSON.parse);function Sf(e){return t=>{t.substring(0,1)==="?"&&(t=t.substring(1));const r=mf(t);for(const i in r){const o=r[i];if(typeof o=="string")try{r[i]=e(o)}catch(f){}}return r}}function yf(e,t){function r(i){if(typeof i=="object"&&i!==null)try{return e(i)}catch(o){}else if(typeof i=="string"&&typeof t=="function")try{return t(i),e(i)}catch(o){}return i}return i=>{i={...i},Object.keys(i).forEach(f=>{const v=i[f];typeof v>"u"||v===void 0?delete i[f]:i[f]=r(v)});const o=pf(i).toString();return o?"?".concat(o):""}}function Li(e){return e[e.length-1]}function wf(e){return typeof e=="function"}function un(e,t){return wf(e)?e(t):e}function Bn(e,t){return t.reduce((r,i)=>(r[i]=e[i],r),{})}function Je(e,t){if(e===t)return e;const r=t,i=Dl(e)&&Dl(r);if(i||Wt(e)&&Wt(r)){const o=i?e:Object.keys(e),f=o.length,v=i?r:Object.keys(r),n=v.length,l=i?[]:{};let h=0;for(let p=0;p<n;p++){const u=i?p:v[p];(!i&&o.includes(u)||i)&&e[u]===void 0&&r[u]===void 0?(l[u]=void 0,h++):(l[u]=Je(e[u],r[u]),l[u]===e[u]&&e[u]!==void 0&&h++)}return f===n&&h===f?e:l}return r}function Wt(e){if(!Rl(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const r=t.prototype;return!(!Rl(r)||!r.hasOwnProperty("isPrototypeOf"))}function Rl(e){return Object.prototype.toString.call(e)==="[object Object]"}function Dl(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Pl(e,t){let r=Object.keys(e);return t&&(r=r.filter(i=>e[i]!==void 0)),r}function Ri(e,t,r){var i;if(e===t)return!0;if(typeof e!=typeof t)return!1;if(Wt(e)&&Wt(t)){const o=(i=r==null?void 0:r.ignoreUndefined)!=null?i:!0,f=Pl(e,o),v=Pl(t,o);return!(r!=null&&r.partial)&&f.length!==v.length?!1:v.every(n=>Ri(e[n],t[n],r))}return Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:!e.some((o,f)=>!Ri(o,t[f],r)):!1}const hn=typeof window<"u"?re.useLayoutEffect:re.useEffect;function Rr(e){let t,r;const i=new Promise((o,f)=>{t=o,r=f});return i.status="pending",i.resolve=o=>{i.status="resolved",i.value=o,t(o),e==null||e(o)},i.reject=o=>{i.status="rejected",r(o)},i}function qs(e){const t=re.useRef({value:e,prev:null}),r=t.current.value;return e!==r&&(t.current={value:e,prev:r}),t.current.prev}function Rt(e){return Es(e.filter(t=>t!==void 0).join("/"))}function Es(e){return e.replace(/\/{2,}/g,"/")}function Ra(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function cr(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function Cf(e){return cr(Ra(e))}function Ef({basepath:e,base:t,to:r,trailingSlash:i="never",caseSensitive:o}){var f,v;t=Yn(e,t,o),r=Yn(e,r,o);let n=Yr(t);const l=Yr(r);n.length>1&&((f=Li(n))==null?void 0:f.value)==="/"&&n.pop(),l.forEach((p,u)=>{p.value==="/"?u?u===l.length-1&&n.push(p):n=[p]:p.value===".."?n.pop():p.value==="."||n.push(p)}),n.length>1&&(((v=Li(n))==null?void 0:v.value)==="/"?i==="never"&&n.pop():i==="always"&&n.push({type:"pathname",value:"/"}));const h=Rt([e,...n.map(p=>p.value)]);return Es(h)}function Yr(e){if(!e)return[];e=Es(e);const t=[];if(e.slice(0,1)==="/"&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),!e)return t;const r=e.split("/").filter(Boolean);return t.push(...r.map(i=>i==="$"||i==="*"?{type:"wildcard",value:i}:i.charAt(0)==="$"?{type:"param",value:i}:{type:"pathname",value:decodeURI(i)})),e.slice(-1)==="/"&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),t}function dn({path:e,params:t,leaveWildcards:r,leaveParams:i,decodeCharMap:o}){const f=Yr(e),v={};for(const[n,l]of Object.entries(t)){const h=typeof l=="string";["*","_splat"].includes(n)?v[n]=h?encodeURI(l):l:v[n]=h?kf(l,o):l}return Rt(f.map(n=>{var l;if(n.type==="wildcard"){const h=v._splat;return r?"".concat(n.value).concat(h!=null?h:""):h}if(n.type==="param"){if(i){const h=v[n.value];return"".concat(n.value).concat(h!=null?h:"")}return(l=v[n.value.substring(1)])!=null?l:"undefined"}return n.value}))}function kf(e,t){let r=encodeURIComponent(e);if(t)for(const[i,o]of t)r=r.replaceAll(i,o);return r}function fn(e,t,r){const i=xf(e,t,r);if(!(r.to&&!i))return i!=null?i:{}}function Yn(e,t,r=!1){const i=r?e:e.toLowerCase(),o=r?t:t.toLowerCase();switch(!0){case i==="/":return t;case o===i:return"";case t.length<e.length:return t;case o[i.length]!=="/":return t;case o.startsWith(i):return t.slice(e.length);default:return t}}function xf(e,t,r){var l;if(e!=="/"&&!t.startsWith(e))return;t=Yn(e,t,r.caseSensitive);const i=Yn(e,"".concat((l=r.to)!=null?l:"$"),r.caseSensitive),o=Yr(t),f=Yr(i);t.startsWith("/")||o.unshift({type:"pathname",value:"/"}),i.startsWith("/")||f.unshift({type:"pathname",value:"/"});const v={};return(()=>{for(let h=0;h<Math.max(o.length,f.length);h++){const p=o[h],u=f[h],_=h>=o.length-1,g=h>=f.length-1;if(u){if(u.type==="wildcard"){const w=decodeURI(Rt(o.slice(h).map(S=>S.value)));return v["*"]=w,v._splat=w,!0}if(u.type==="pathname"){if(u.value==="/"&&!(p!=null&&p.value))return!0;if(p){if(r.caseSensitive){if(u.value!==p.value)return!1}else if(u.value.toLowerCase()!==p.value.toLowerCase())return!1}}if(!p)return!1;if(u.type==="param"){if(p.value==="/")return!1;p.value.charAt(0)!=="$"&&(v[u.value.substring(1)]=decodeURIComponent(p.value))}}if(!_&&g)return v["**"]=Rt(o.slice(h+1).map(w=>w.value)),!!r.fuzzy&&(u==null?void 0:u.value)!=="/"}return!0})()?v:void 0}function or(e){return!!(e!=null&&e.isRedirect)}function Xs(e){return!!(e!=null&&e.isRedirect)&&e.href}function Da(e){var r;const t=(r=e.errorComponent)!=null?r:ks;return G.jsx(bf,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:i,reset:o})=>i?re.createElement(t,{error:i,reset:o}):e.children})}class bf extends re.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,r){r.error&&r.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,r){this.props.onCatch&&this.props.onCatch(t,r)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function ks({error:e}){const[t,r]=re.useState(!1);return G.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[G.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[G.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),G.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>r(i=>!i),children:t?"Hide Error":"Show Error"})]}),G.jsx("div",{style:{height:".25rem"}}),t?G.jsx("div",{children:G.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?G.jsx("code",{children:e.message}):null})}):null]})}function rt(e){const t=wr({warn:(e==null?void 0:e.router)===void 0}),r=(e==null?void 0:e.router)||t,i=re.useRef();return ff(r.__store,o=>{var f;if(e!=null&&e.select){if((f=e.structuralSharing)!=null?f:r.options.defaultStructuralSharing){const v=Je(i.current,e.select(o));return i.current=v,v}return e.select(o)}return o})}function lt(e){return!!(e!=null&&e.isNotFound)}function Lf(e){const t=rt({select:r=>"not-found-".concat(r.location.pathname,"-").concat(r.status)});return G.jsx(Da,{getResetKey:()=>t,onCatch:(r,i)=>{var o;if(lt(r))(o=e.onCatch)==null||o.call(e,r,i);else throw r},errorComponent:({error:r})=>{var i;if(lt(r))return(i=e.fallback)==null?void 0:i.call(e,r);throw r},children:e.children})}function Rf(){return G.jsx("p",{children:"Not Found"})}const wi={stringify:e=>JSON.stringify(e,function(r,i){const o=this[r],f=pn.find(v=>v.stringifyCondition(o));return f?f.stringify(o):i}),parse:e=>JSON.parse(e,function(r,i){const o=this[r];if(Wt(o)){const f=pn.find(v=>v.parseCondition(o));if(f)return f.parse(o)}return i}),encode:e=>{if(Array.isArray(e))return e.map(r=>wi.encode(r));if(Wt(e))return Object.fromEntries(Object.entries(e).map(([r,i])=>[r,wi.encode(i)]));const t=pn.find(r=>r.stringifyCondition(e));return t?t.stringify(e):e},decode:e=>{if(Wt(e)){const t=pn.find(r=>r.parseCondition(e));if(t)return t.parse(e)}return Array.isArray(e)?e.map(t=>wi.decode(t)):Wt(e)?Object.fromEntries(Object.entries(e).map(([t,r])=>[t,wi.decode(r)])):e}},_n=(e,t,r,i)=>({key:e,stringifyCondition:t,stringify:o=>({["$".concat(e)]:r(o)}),parseCondition:o=>Object.hasOwn(o,"$".concat(e)),parse:o=>i(o["$".concat(e)])}),pn=[_n("undefined",e=>e===void 0,()=>0,()=>{}),_n("date",e=>e instanceof Date,e=>e.toISOString(),e=>new Date(e)),_n("error",e=>e instanceof Error,e=>({...e,message:e.message,stack:e.stack,cause:e.cause}),e=>Object.assign(new Error(e.message),e)),_n("formData",e=>e instanceof FormData,e=>{const t={};return e.forEach((r,i)=>{const o=t[i];o!==void 0?Array.isArray(o)?o.push(r):t[i]=[o,r]:t[i]=r}),t},e=>{const t=new FormData;return Object.entries(e).forEach(([r,i])=>{Array.isArray(i)?i.forEach(o=>t.append(r,o)):t.append(r,i)}),t})],su=["component","errorComponent","pendingComponent","notFoundComponent"];function Df(e){var t;for(const r of su)if((t=e.options[r])!=null&&t.preload)return!0;return!1}function Ys(e,t){if(e==null)return{};if("~standard"in e){const r=e["~standard"].validate(t);if(r instanceof Promise)throw new Do("Async validation not supported");if(r.issues)throw new Do(JSON.stringify(r.issues,void 0,2));return r.value}return"parse"in e?e.parse(t):typeof e=="function"?e(t):{}}function Pf(e){return new Tf(e)}class Tf{constructor(t){var r,i,o,f,v;this.tempLocationKey="".concat(Math.round(Math.random()*1e7)),this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=n=>n(),this.update=n=>{var p,u;var l;n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const h=this.options;this.options={...this.options,...n},this.isServer=(p=this.options.isServer)!=null?p:typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(_=>[encodeURIComponent(_),_])):void 0,(!this.basepath||n.basepath&&n.basepath!==h.basepath)&&(n.basepath===void 0||n.basepath===""||n.basepath==="/"?this.basepath="/":this.basepath="/".concat(Cf(n.basepath))),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=(u=this.options.history)!=null?u:this.isServer?Qc({initialEntries:[this.basepath||"/"]}):Ud(),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new Ro(Af(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(_=>!["redirected"].includes(_.status))}}})),typeof window<"u"&&"CSS"in window&&typeof((l=window.CSS)==null?void 0:l.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const n=this.options.notFoundRoute;n&&(n.init({originalIndex:99999999999,defaultSsr:this.options.defaultSsr}),this.routesById[n.id]=n);const l=u=>{u.forEach((_,g)=>{_.init({originalIndex:g,defaultSsr:this.options.defaultSsr});const w=this.routesById[_.id];if(Ke(!w,"Duplicate routes found with id: ".concat(String(_.id))),this.routesById[_.id]=_,!_.isRoot&&_.path){const d=cr(_.fullPath);(!this.routesByPath[d]||_.fullPath.endsWith("/"))&&(this.routesByPath[d]=_)}const S=_.children;S!=null&&S.length&&l(S)})};l([this.routeTree]);const h=[];Object.values(this.routesById).forEach((u,_)=>{var g;if(u.isRoot||!u.path)return;const w=Ra(u.fullPath),S=Yr(w);for(;S.length>1&&((g=S[0])==null?void 0:g.value)==="/";)S.shift();const d=S.map(c=>c.value==="/"?.75:c.type==="param"?.5:c.type==="wildcard"?.25:1);h.push({child:u,trimmed:w,parsed:S,index:_,scores:d})}),this.flatRoutes=h.sort((u,_)=>{const g=Math.min(u.scores.length,_.scores.length);for(let w=0;w<g;w++)if(u.scores[w]!==_.scores[w])return _.scores[w]-u.scores[w];if(u.scores.length!==_.scores.length)return _.scores.length-u.scores.length;for(let w=0;w<g;w++)if(u.parsed[w].value!==_.parsed[w].value)return u.parsed[w].value>_.parsed[w].value?1:-1;return u.index-_.index}).map((u,_)=>(u.child.rank=_,u.child))},this.subscribe=(n,l)=>{const h={eventType:n,fn:l};return this.subscribers.add(h),()=>{this.subscribers.delete(h)}},this.emit=n=>{this.subscribers.forEach(l=>{l.eventType===n.type&&l.fn(n)})},this.parseLocation=(n,l)=>{const h=({pathname:g,search:w,hash:S,state:d})=>{var a;const c=this.options.parseSearch(w),s=this.options.stringifySearch(c);return{pathname:g,searchStr:s,search:Je(n==null?void 0:n.search,c),hash:(a=S.split("#").reverse()[0])!=null?a:"",href:"".concat(g).concat(s).concat(S),state:Je(n==null?void 0:n.state,d)}},p=h(l!=null?l:this.history.location),{__tempLocation:u,__tempKey:_}=p.state;if(u&&(!_||_===this.tempLocationKey)){const g=h(u);return g.state.key=p.state.key,delete g.state.__tempLocation,{...g,maskedLocation:p}}return p},this.resolvePathWithBase=(n,l)=>Ef({basepath:this.basepath,base:n,to:Es(l),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(n,l)=>{let h={};const p=cr(n.pathname),u=S=>{var c;return fn(this.basepath,p,{to:S.fullPath,caseSensitive:(c=S.options.caseSensitive)!=null?c:this.options.caseSensitive,fuzzy:!0})};let _=(l==null?void 0:l.to)!==void 0?this.routesByPath[l.to]:void 0;_?h=u(_):_=this.flatRoutes.find(S=>{const d=u(S);return d?(h=d,!0):!1});let g=_||this.routesById[Ve];const w=[g];for(;g.parentRoute;)g=g.parentRoute,w.unshift(g);return{matchedRoutes:w,routeParams:h,foundRoute:_}},this.cancelMatch=n=>{const l=this.getMatch(n);l&&(l.abortController.abort(),clearTimeout(l.pendingTimeout))},this.cancelMatches=()=>{var n;(n=this.state.pendingMatches)==null||n.forEach(l=>{this.cancelMatch(l.id)})},this.buildLocation=n=>{const l=(p={},u)=>{var W,K;var _,g,w,S,d,c;const s=p._fromLocation?this.matchRoutes(p._fromLocation,{_buildLocation:!0}):this.state.matches,a=p.from!=null?s.find(I=>fn(this.basepath,cr(I.pathname),{to:p.from,caseSensitive:!1,fuzzy:!1})):void 0,m=(a==null?void 0:a.pathname)||this.latestLocation.pathname;Ke(p.from==null||a!=null,"Could not find match for from: "+p.from);const E=(_=this.state.pendingMatches)!=null&&_.length?(g=Li(this.state.pendingMatches))==null?void 0:g.search:((w=Li(s))==null?void 0:w.search)||this.latestLocation.search,C=u==null?void 0:u.matchedRoutes.filter(I=>s.find(b=>b.routeId===I.id));let k;if(p.to)k=this.resolvePathWithBase(m,"".concat(p.to));else{const I=this.routesById[(S=C==null?void 0:C.find(b=>{var A;const D=dn({path:b.fullPath,params:(A=u==null?void 0:u.routeParams)!=null?A:{},decodeCharMap:this.pathParamsDecodeCharMap});return Rt([this.basepath,D])===m}))==null?void 0:S.id];k=this.resolvePathWithBase(m,(W=I==null?void 0:I.to)!=null?W:m)}const y={...(d=Li(s))==null?void 0:d.params};let x=((K=p.params)!=null?K:!0)===!0?y:{...y,...un(p.params,y)};Object.keys(x).length>0&&(u==null||u.matchedRoutes.map(I=>{var D;var b;return(D=(b=I.options.params)==null?void 0:b.stringify)!=null?D:I.options.stringifyParams}).filter(Boolean).forEach(I=>{x={...x,...I(x)}})),k=dn({path:k,params:x!=null?x:{},leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let P=E;if(n._includeValidateSearch&&((c=this.options.search)!=null&&c.strict)){let I={};u==null||u.matchedRoutes.forEach(b=>{var D;try{b.options.validateSearch&&(I={...I,...(D=Ys(b.options.validateSearch,{...I,...P}))!=null?D:{}})}catch(T){}}),P=I}P=(I=>{var A;const b=(A=u==null?void 0:u.matchedRoutes.reduce((H,z)=>{var X;const Y=[];if("search"in z.options)(X=z.options.search)!=null&&X.middlewares&&Y.push(...z.options.search.middlewares);else if(z.options.preSearchFilters||z.options.postSearchFilters){const B=({search:L,next:$})=>{let j=L;"preSearchFilters"in z.options&&z.options.preSearchFilters&&(j=z.options.preSearchFilters.reduce((U,te)=>te(U),L));const q=$(j);return"postSearchFilters"in z.options&&z.options.postSearchFilters?z.options.postSearchFilters.reduce((U,te)=>te(U),q):q};Y.push(B)}if(n._includeValidateSearch&&z.options.validateSearch){const B=({search:L,next:$})=>{var j;try{const q=$(L);return{...q,...(j=Ys(z.options.validateSearch,q))!=null?j:{}}}catch(q){}};Y.push(B)}return H.concat(Y)},[]))!=null?A:[],D=({search:H})=>p.search?p.search===!0?H:un(p.search,H):{};b.push(D);const T=(H,z)=>{if(H>=b.length)return z;const X=b[H];return X({search:z,next:B=>T(H+1,B)})};return T(0,I)})(P),P=Je(E,P);const O=this.options.stringifySearch(P),R=p.hash===!0?this.latestLocation.hash:p.hash?un(p.hash,this.latestLocation.hash):void 0,F=R?"#".concat(R):"";let N=p.state===!0?this.latestLocation.state:p.state?un(p.state,this.latestLocation.state):{};return N=Je(this.latestLocation.state,N),{pathname:k,search:P,searchStr:O,state:N,hash:R!=null?R:"",href:"".concat(k).concat(O).concat(F),unmaskOnReload:p.unmaskOnReload}},h=(p={},u)=>{var _;const g=l(p);let w=u?l(u):void 0;if(!w){let c={};const s=(_=this.options.routeMasks)==null?void 0:_.find(a=>{const m=fn(this.basepath,g.pathname,{to:a.from,caseSensitive:!1,fuzzy:!1});return m?(c=m,!0):!1});if(s){const{from:a,...m}=s;u={...Bn(n,["from"]),...m,params:c},w=l(u)}}const S=this.getMatchedRoutes(g,p),d=l(p,S);if(w){const c=this.getMatchedRoutes(w,u),s=l(u,c);d.maskedLocation=s}return d};return n.mask?h(n,{...Bn(n,["from"]),...n.mask}):h(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:l,...h})=>{var g,w,S,d;const p=()=>{h.state.key=this.latestLocation.state.key;const c=Ri(h.state,this.latestLocation.state);return delete h.state.key,c},u=this.latestLocation.href===h.href,_=this.commitLocationPromise;if(this.commitLocationPromise=Rr(()=>{_==null||_.resolve()}),u&&p())this.load();else{let{maskedLocation:c,hashScrollIntoView:s,...a}=h;c&&(a={...c,state:{...c.state,__tempKey:void 0,__tempLocation:{...a,search:a.searchStr,state:{...a.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(w=(g=a.unmaskOnReload)!=null?g:this.options.unmaskOnReload)!=null&&w&&(a.state.__tempKey=this.tempLocationKey)),a.state.__hashScrollIntoViewOptions=(S=s!=null?s:this.options.defaultHashScrollIntoView)!=null?S:!0,this.shouldViewTransition=n,this.history[h.replace?"replace":"push"](a.href,a.state,{ignoreBlocker:l})}return this.resetNextScroll=(d=h.resetScroll)!=null?d:!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:l,hashScrollIntoView:h,viewTransition:p,ignoreBlocker:u,href:_,...g}={})=>{if(_){const S=this.history.location.state.__TSR_index,d=Hi(_,{__TSR_index:n?S:S+1});g.to=d.pathname,g.search=this.options.parseSearch(d.search),g.hash=d.hash.slice(1)}const w=this.buildLocation({...g,_includeValidateSearch:!0});return this.commitLocation({...w,viewTransition:p,replace:n,resetScroll:l,hashScrollIntoView:h,ignoreBlocker:u})},this.navigate=({to:n,reloadDocument:l,href:h,...p})=>{if(l){h||(h=this.buildLocation({to:n,...p}).href),p.replace?window.location.replace(h):window.location.href=h;return}return this.buildAndCommitLocation({...p,href:h,to:n})},this.load=async n=>{this.latestLocation=this.parseLocation(this.latestLocation);let l,h,p;for(p=new Promise(u=>{this.startReactTransition(async()=>{var _;try{const g=this.latestLocation,w=this.state.resolvedLocation,S=w.href!==g.href,d=w.pathname!==g.pathname;this.cancelMatches();let c;Gs(()=>{c=this.matchRoutes(g),this.__store.setState(s=>({...s,status:"pending",isLoading:!0,location:g,pendingMatches:c,cachedMatches:s.cachedMatches.filter(a=>!c.find(m=>m.id===a.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:w,toLocation:g,pathChanged:d,hrefChanged:S}),this.emit({type:"onBeforeLoad",fromLocation:w,toLocation:g,pathChanged:d,hrefChanged:S}),await this.loadMatches({sync:n==null?void 0:n.sync,matches:c,location:g,onReady:async()=>{this.startViewTransition(async()=>{let s,a,m;Gs(()=>{this.__store.setState(E=>{const C=E.matches,k=E.pendingMatches||E.matches;return s=C.filter(y=>!k.find(x=>x.id===y.id)),a=k.filter(y=>!C.find(x=>x.id===y.id)),m=C.filter(y=>k.find(x=>x.id===y.id)),{...E,isLoading:!1,loadedAt:Date.now(),matches:k,pendingMatches:void 0,cachedMatches:[...E.cachedMatches,...s.filter(y=>y.status!=="error")]}}),this.clearExpiredCache()}),[[s,"onLeave"],[a,"onEnter"],[m,"onStay"]].forEach(([E,C])=>{E.forEach(k=>{var y,x;(x=(y=this.looseRoutesById[k.routeId].options)[C])==null||x.call(y,k)})})})}})}catch(g){Xs(g)?(l=g,this.isServer||this.navigate({...l,replace:!0,ignoreBlocker:!0})):lt(g)&&(h=g),this.__store.setState(w=>({...w,statusCode:l?l.statusCode:h?404:w.matches.some(S=>S.status==="error")?500:200,redirect:l}))}this.latestLoadPromise===p&&((_=this.commitLocationPromise)==null||_.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),u()})}),this.latestLoadPromise=p,await p;this.latestLoadPromise&&p!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=n=>{var h;const l=(h=this.shouldViewTransition)!=null?h:this.options.defaultViewTransition;if(delete this.shouldViewTransition,l&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let p;typeof l=="object"&&this.isViewTransitionTypesSupported?p={update:n,types:l.types}:p=n,document.startViewTransition(p)}else n()},this.updateMatch=(n,l)=>{var h;let p;const u=(h=this.state.pendingMatches)==null?void 0:h.find(S=>S.id===n),_=this.state.matches.find(S=>S.id===n),g=this.state.cachedMatches.find(S=>S.id===n),w=u?"pendingMatches":_?"matches":g?"cachedMatches":"";return w&&this.__store.setState(S=>{var d;return{...S,[w]:(d=S[w])==null?void 0:d.map(c=>c.id===n?p=l(c):c)}}),p},this.getMatch=n=>{var l;return[...this.state.cachedMatches,...(l=this.state.pendingMatches)!=null?l:[],...this.state.matches].find(h=>h.id===n)},this.loadMatches=async({location:n,matches:l,preload:h,onReady:p,updateMatch:u=this.updateMatch,sync:_})=>{let g,w=!1;const S=async()=>{w||(w=!0,await(p==null?void 0:p()))},d=s=>!!(h&&!this.state.matches.find(a=>a.id===s));!this.isServer&&!this.state.matches.length&&S();const c=(s,a)=>{var m,E,C;if(Xs(a)&&!a.reloadDocument)throw a;if(or(a)||lt(a)){if(u(s.id,k=>({...k,status:or(a)?"redirected":lt(a)?"notFound":"error",isFetching:!1,error:a,beforeLoadPromise:void 0,loaderPromise:void 0})),a.routeId||(a.routeId=s.routeId),(m=s.beforeLoadPromise)==null||m.resolve(),(E=s.loaderPromise)==null||E.resolve(),(C=s.loadPromise)==null||C.resolve(),or(a))throw w=!0,a=this.resolveRedirect({...a,_fromLocation:n}),a;if(lt(a))throw this._handleNotFound(l,a,{updateMatch:u}),a}};try{await new Promise((s,a)=>{(async()=>{var k,y,x;var m,E,C;try{const P=(R,F,N)=>{var W,K;const{id:I,routeId:b}=l[R],D=this.looseRoutesById[b];if(F instanceof Promise)throw F;F.routerCode=N,g=g!=null?g:R,c(this.getMatch(I),F);try{(K=(W=D.options).onError)==null||K.call(W,F)}catch(T){F=T,c(this.getMatch(I),F)}u(I,T=>{var A,H;return(A=T.beforeLoadPromise)==null||A.resolve(),(H=T.loadPromise)==null||H.resolve(),{...T,error:F,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[R,{id:F,routeId:N}]of l.entries()){const W=this.getMatch(F),K=(m=l[R-1])==null?void 0:m.id,I=this.looseRoutesById[N],b=(k=I.options.pendingMs)!=null?k:this.options.defaultPendingMs,D=!!(p&&!this.isServer&&!d(F)&&(I.options.loader||I.options.beforeLoad)&&typeof b=="number"&&b!==1/0&&((y=I.options.pendingComponent)!=null?y:this.options.defaultPendingComponent));let T=!0;if((W.beforeLoadPromise||W.loaderPromise)&&(D&&setTimeout(()=>{try{S()}catch(A){}},b),await W.beforeLoadPromise,T=this.getMatch(F).status!=="success"),T){try{u(F,Z=>({...Z,loadPromise:Rr(()=>{var ne;(ne=Z.loadPromise)==null||ne.resolve()}),beforeLoadPromise:Rr()}));const A=new AbortController;let H;D&&(H=setTimeout(()=>{try{S()}catch(Z){}},b));const{paramsError:z,searchError:X}=this.getMatch(F);z&&P(R,z,"PARSE_PARAMS"),X&&P(R,X,"VALIDATE_SEARCH");const Y=()=>{var Z;return K?this.getMatch(K).context:(Z=this.options.context)!=null?Z:{}};u(F,Z=>({...Z,isFetching:"beforeLoad",fetchCount:Z.fetchCount+1,abortController:A,pendingTimeout:H,context:{...Y(),...Z.__routeContext}}));const{search:B,params:L,context:$,cause:j}=this.getMatch(F),q=d(F),U={search:B,abortController:A,params:L,preload:q,context:$,location:n,navigate:Z=>this.navigate({...Z,_fromLocation:n}),buildLocation:this.buildLocation,cause:q?"preload":j,matches:l};let te=(x=await((C=(E=I.options).beforeLoad)==null?void 0:C.call(E,U)))!=null?x:{};this.serializeLoaderData&&(te=this.serializeLoaderData("__beforeLoadContext",te,{router:this,match:this.getMatch(F)})),(or(te)||lt(te))&&P(R,te,"BEFORE_LOAD"),u(F,Z=>({...Z,__beforeLoadContext:te,context:{...Y(),...Z.__routeContext,...te},abortController:A}))}catch(A){P(R,A,"BEFORE_LOAD")}u(F,A=>{var H;return(H=A.beforeLoadPromise)==null||H.resolve(),{...A,beforeLoadPromise:void 0,isFetching:!1}})}}const M=l.slice(0,g),O=[];M.forEach(({id:R,routeId:F},N)=>{O.push((async()=>{var b,D,T,A;const{loaderPromise:W}=this.getMatch(R);let K=!1,I=!1;if(W){await W;const H=this.getMatch(R);H.error&&c(H,H.error)}else{const H=O[N-1],z=this.looseRoutesById[F],X=()=>{const{params:Z,loaderDeps:ne,abortController:ge,context:ee,cause:_t}=this.getMatch(R),wt=d(R);return{params:Z,deps:ne,preload:!!wt,parentMatchPromise:H,abortController:ge,context:ee,location:n,navigate:Bt=>this.navigate({...Bt,_fromLocation:n}),cause:wt?"preload":_t,route:z}},Y=Date.now()-this.getMatch(R).updatedAt,B=d(R),L=B?(D=(b=z.options.preloadStaleTime)!=null?b:this.options.defaultPreloadStaleTime)!=null?D:3e4:(A=(T=z.options.staleTime)!=null?T:this.options.defaultStaleTime)!=null?A:0,$=z.options.shouldReload,j=typeof $=="function"?$(X()):$;u(R,Z=>({...Z,loaderPromise:Rr(),preload:!!B&&!this.state.matches.find(ne=>ne.id===R)}));const q=async()=>{var Z,ne,ge,ee,_t,wt,Bt,kr;try{const Ct=async()=>{const ae=this.getMatch(R);ae.minPendingPromise&&await ae.minPendingPromise};try{this.loadRouteChunk(z),u(R,It=>({...It,isFetching:"loader"}));let ae=await((ne=(Z=z.options).loader)==null?void 0:ne.call(Z,X()));this.serializeLoaderData&&(ae=this.serializeLoaderData("loaderData",ae,{router:this,match:this.getMatch(R)})),c(this.getMatch(R),ae),await z._lazyPromise,await Ct();const Ae=(ee=(ge=z.options).head)==null?void 0:ee.call(ge,{matches:l,match:this.getMatch(R),params:this.getMatch(R).params,loaderData:ae}),xe=Ae==null?void 0:Ae.meta,sr=Ae==null?void 0:Ae.links,li=Ae==null?void 0:Ae.scripts,pt=(wt=(_t=z.options).headers)==null?void 0:wt.call(_t,{loaderData:ae});u(R,It=>({...It,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:ae,meta:xe,links:sr,scripts:li,headers:pt}))}catch(ae){let Ae=ae;await Ct(),c(this.getMatch(R),ae);try{(kr=(Bt=z.options).onError)==null||kr.call(Bt,ae)}catch(xe){Ae=xe,c(this.getMatch(R),xe)}u(R,xe=>({...xe,error:Ae,status:"error",isFetching:!1}))}await z._componentsPromise}catch(Ct){u(R,ae=>({...ae,loaderPromise:void 0})),c(this.getMatch(R),Ct)}},{status:U,invalid:te}=this.getMatch(R);K=U==="success"&&(te||(j!=null?j:Y>L)),B&&z.options.preload===!1||(K&&!_?(I=!0,(async()=>{try{await q();const{loaderPromise:Z,loadPromise:ne}=this.getMatch(R);Z==null||Z.resolve(),ne==null||ne.resolve(),u(R,ge=>({...ge,loaderPromise:void 0}))}catch(Z){Xs(Z)&&await this.navigate(Z)}})()):(U!=="success"||K&&_)&&await q())}if(!I){const{loaderPromise:H,loadPromise:z}=this.getMatch(R);H==null||H.resolve(),z==null||z.resolve()}return u(R,H=>({...H,isFetching:I?H.isFetching:!1,loaderPromise:I?H.loaderPromise:void 0,invalid:!1})),this.getMatch(R)})())}),await Promise.all(O),s()}catch(P){a(P)}})()}),await S()}catch(s){if(or(s)||lt(s))throw lt(s)&&!h&&await S(),s}return l},this.invalidate=n=>{const l=h=>{var u;var p;return(u=(p=n==null?void 0:n.filter)==null?void 0:p.call(n,h))==null||u?{...h,invalid:!0,...h.status==="error"?{status:"pending",error:void 0}:{}}:h};return this.__store.setState(h=>{var p;return{...h,matches:h.matches.map(l),cachedMatches:h.cachedMatches.map(l),pendingMatches:(p=h.pendingMatches)==null?void 0:p.map(l)}}),this.load({sync:n==null?void 0:n.sync})},this.resolveRedirect=n=>{const l=n;return l.href||(l.href=this.buildLocation(l).href),l},this.clearCache=n=>{const l=n==null?void 0:n.filter;l!==void 0?this.__store.setState(h=>({...h,cachedMatches:h.cachedMatches.filter(p=>!l(p))})):this.__store.setState(h=>({...h,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=l=>{var u,_,g;const h=this.looseRoutesById[l.routeId];if(!h.options.loader)return!0;const p=(g=l.preload?(u=h.options.preloadGcTime)!=null?u:this.options.defaultPreloadGcTime:(_=h.options.gcTime)!=null?_:this.options.defaultGcTime)!=null?g:5*60*1e3;return!(l.status!=="error"&&Date.now()-l.updatedAt<p)};this.clearCache({filter:n})},this.loadRouteChunk=n=>(n._lazyPromise===void 0&&(n.lazyFn?n._lazyPromise=n.lazyFn().then(l=>{const{id:h,...p}=l.options;Object.assign(n.options,p)}):n._lazyPromise=Promise.resolve()),n._componentsPromise===void 0&&(n._componentsPromise=n._lazyPromise.then(()=>Promise.all(su.map(async l=>{const h=n.options[l];h!=null&&h.preload&&await h.preload()})))),n._componentsPromise),this.preloadRoute=async n=>{var _;const l=this.buildLocation(n);let h=this.matchRoutes(l,{throwOnError:!0,preload:!0,dest:n});const p=new Set([...this.state.matches,...(_=this.state.pendingMatches)!=null?_:[]].map(g=>g.id)),u=new Set([...p,...this.state.cachedMatches.map(g=>g.id)]);Gs(()=>{h.forEach(g=>{u.has(g.id)||this.__store.setState(w=>({...w,cachedMatches:[...w.cachedMatches,g]}))})});try{return h=await this.loadMatches({matches:h,location:l,preload:!0,updateMatch:(g,w)=>{p.has(g)?h=h.map(S=>S.id===g?w(S):S):this.updateMatch(g,w)}}),h}catch(g){if(or(g))return g.reloadDocument?void 0:await this.preloadRoute({...g,_fromLocation:l});console.error(g);return}},this.matchRoute=(n,l)=>{var w;const h={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},p=this.buildLocation(h);if(l!=null&&l.pending&&this.state.status!=="pending")return!1;const _=((l==null?void 0:l.pending)===void 0?!this.state.isLoading:l.pending)?this.latestLocation:this.state.resolvedLocation,g=fn(this.basepath,_.pathname,{...l,to:p.pathname});return!g||n.params&&!Ri(g,n.params,{partial:!0})?!1:g&&((w=l==null?void 0:l.includeSearch)==null||w)?Ri(_.search,p.search,{partial:!0})?g:!1:g},this.dehydrate=()=>{var h;var n;const l=(h=(n=this.options.errorSerializer)==null?void 0:n.serialize)!=null?h:Of;return{state:{dehydratedMatches:this.state.matches.map(p=>({...Bn(p,["id","status","updatedAt"]),error:p.error?{data:l(p.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var n,l,h;let p;typeof document<"u"&&(p=this.options.transformer.parse((n=window.__TSR__)==null?void 0:n.dehydrated)),Ke(p),this.dehydratedData=p.payload,(h=(l=this.options).hydrate)==null||h.call(l,p.payload);const u=p.router.state,_=this.matchRoutes(this.state.location).map(g=>{const w=u.dehydratedMatches.find(S=>S.id===g.id);return Ke(w,"Could not find a client-side match for dehydrated match with id: ".concat(g.id,"!")),{...g,...w}});this.__store.setState(g=>({...g,matches:_})),this.manifest=p.router.manifest},this.injectedHtml=[],this.injectHtml=n=>{const l=()=>(this.injectedHtml=this.injectedHtml.filter(h=>h!==l),n);this.injectedHtml.push(l)},this.injectScript=(n,l)=>{this.injectHtml("<script class='tsr-once'>".concat(n,"; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()<\/script>"))},this.streamedKeys=new Set,this.getStreamedValue=n=>{var l;if(this.isServer)return;const h=(l=window.__TSR__)==null?void 0:l.streamedValues[n];if(h)return h.parsed||(h.parsed=this.options.transformer.parse(h.value)),h.parsed},this.streamValue=(n,l)=>{var h;this.streamedKeys.has(n),this.streamedKeys.add(n),this.injectScript("__TSR__.streamedValues['".concat(n,"'] = { value: ").concat((h=this.serializer)==null?void 0:h.call(this,this.options.transformer.stringify(l)),"}"))},this._handleNotFound=(n,l,{updateMatch:h=this.updateMatch}={})=>{const p=Object.fromEntries(n.map(g=>[g.routeId,g]));let u=(l.global?this.looseRoutesById[Ve]:this.looseRoutesById[l.routeId])||this.looseRoutesById[Ve];for(;!u.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&u.id!==Ve;)u=u.parentRoute,Ke(u);const _=p[u.id];Ke(_,"Could not find match for route: "+u.id),h(_.id,g=>({...g,status:"notFound",error:l,isFetching:!1})),l.routerCode==="BEFORE_LOAD"&&u.parentRoute&&(l.routeId=u.parentRoute.id,this._handleNotFound(n,l,{updateMatch:h}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:(r=t.caseSensitive)!=null?r:!1,notFoundMode:(i=t.notFoundMode)!=null?i:"fuzzy",stringifySearch:(o=t.stringifySearch)!=null?o:gf,parseSearch:(f=t.parseSearch)!=null?f:vf,transformer:(v=t.transformer)!=null?v:wi}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(t,r,i){return typeof t=="string"?this.matchRoutesInternal({pathname:t,search:r},i):this.matchRoutesInternal(t,r)}matchRoutesInternal(t,r){const{foundRoute:i,matchedRoutes:o,routeParams:f}=this.getMatchedRoutes(t,r==null?void 0:r.dest);let v=!1;(i?i.path!=="/"&&f["**"]:cr(t.pathname))&&(this.options.notFoundRoute?o.push(this.options.notFoundRoute):v=!0);const n=(()=>{if(v){if(this.options.notFoundMode!=="root")for(let u=o.length-1;u>=0;u--){const _=o[u];if(_.children)return _.id}return Ve}})(),l=o.map(u=>{var S;var _;let g;const w=(S=(_=u.options.params)==null?void 0:_.parse)!=null?S:u.options.parseParams;if(w)try{const d=w(f);Object.assign(f,d)}catch(d){if(g=new Mf(d.message,{cause:d}),r!=null&&r.throwOnError)throw g;return g}}),h=[],p=u=>{var w,S,d;return(u==null?void 0:u.id)?(d=(S=u.context)!=null?S:this.options.context)!=null?d:{}:(w=this.options.context)!=null?w:{}};return o.forEach((u,_)=>{var R;var g,w,S,d;const c=h[_-1],[s,a]=(()=>{var N,W;const F=(N=c==null?void 0:c.search)!=null?N:t.search;try{const K=(W=Ys(u.options.validateSearch,F))!=null?W:{};return[{...F,...K},void 0]}catch(K){const I=new Do(K.message,{cause:K});if(r!=null&&r.throwOnError)throw I;return[F,I]}})(),m=(R=(w=(g=u.options).loaderDeps)==null?void 0:w.call(g,{search:s}))!=null?R:"",E=m?JSON.stringify(m):"",C=dn({path:u.fullPath,params:f,decodeCharMap:this.pathParamsDecodeCharMap}),k=dn({path:u.id,params:f,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+E,y=this.getMatch(k),x=this.state.matches.find(F=>F.routeId===u.id),P=x?"stay":"enter";let M;if(y)M={...y,cause:P,params:x?Je(x.params,f):f,search:Je(x?x.search:y.search,s)};else{const F=u.options.loader||u.options.beforeLoad||u.lazyFn||Df(u)?"pending":"success";M={id:k,index:_,routeId:u.id,params:x?Je(x.params,f):f,pathname:Rt([this.basepath,C]),updatedAt:Date.now(),search:x?Je(x.search,s):s,searchError:void 0,status:F,isFetching:!1,error:void 0,paramsError:l[_],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:P,loaderDeps:x?Je(x.loaderDeps,m):m,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:u.options.staticData||{},loadPromise:Rr(),fullPath:u.fullPath}}M.status==="success"&&(M.headers=(d=(S=u.options).headers)==null?void 0:d.call(S,{loaderData:M.loaderData})),r!=null&&r.preload||(M.globalNotFound=n===u.id),M.searchError=a;const O=p(c);M.context={...O,...M.__routeContext,...M.__beforeLoadContext},h.push(M)}),h.forEach((u,_)=>{var m,E;var g,w,S,d;const c=this.looseRoutesById[u.routeId];if(!this.getMatch(u.id)&&(r==null?void 0:r._buildLocation)!==!0){const C=h[_-1],k=p(C),y={deps:u.loaderDeps,params:u.params,context:k,location:t,navigate:x=>this.navigate({...x,_fromLocation:t}),buildLocation:this.buildLocation,cause:u.cause,abortController:u.abortController,preload:!!u.preload,matches:h};u.__routeContext=(m=(w=(g=c.options).context)==null?void 0:w.call(g,y))!=null?m:{},u.context={...k,...u.__routeContext,...u.__beforeLoadContext}}const a=(d=(S=c.options).head)==null?void 0:d.call(S,{matches:h,match:u,params:u.params,loaderData:(E=u.loaderData)!=null?E:void 0});u.links=a==null?void 0:a.links,u.scripts=a==null?void 0:a.scripts,u.meta=a==null?void 0:a.meta}),h}}class Do extends Error{}class Mf extends Error{}function Af(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...e},location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Of(e){return e instanceof Error?{name:e.name,message:e.message}:{data:e}}function Tl(e){return!(typeof e=="object"&&e&&"data"in e)||!("__isServerError"in e&&e.__isServerError)||!(typeof e.data=="object"&&e.data)?!1:e.__isServerError===!0}function Ml(e){if("name"in e&&"message"in e){const t=new Error(e.message);return t.name=e.name,t}return e.data}const xs=re.createContext(void 0),Bf=re.createContext(void 0);function Qr(e){const t=re.useContext(e.from?Bf:xs);return rt({select:i=>{var f;const o=i.matches.find(v=>e.from?e.from===v.routeId:v.id===t);if(Ke(!(((f=e.shouldThrow)==null||f)&&!o),"Could not find ".concat(e.from?'an active match from "'.concat(e.from,'"'):"a nearest match!")),o!==void 0)return e.select?e.select(o):o},structuralSharing:e.structuralSharing})}function If(e){return Qr({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.loaderData):t.loaderData})}function Ff(e){const{select:t,...r}=e;return Qr({...r,select:i=>t?t(i.loaderDeps):i.loaderDeps})}function Hf(e){return Qr({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.params):t.params})}function Nf(e){return Qr({from:e.from,strict:e.strict,structuralSharing:e.structuralSharing,select:t=>e.select?e.select(t.search):t.search})}function zf(e){const{navigate:t}=wr();return re.useCallback(r=>t({...r}),[t])}let ou=class{constructor(t){this.init=r=>{var u,_;var i,o;this.originalIndex=r.originalIndex;const f=this.options,v=!(f!=null&&f.path)&&!(f!=null&&f.id);this.parentRoute=(o=(i=this.options).getParentRoute)==null?void 0:o.call(i),v?this._path=Ve:Ke(this.parentRoute);let n=v?Ve:f.path;n&&n!=="/"&&(n=Ra(n));const l=(f==null?void 0:f.id)||n;let h=v?Ve:Rt([this.parentRoute.id===Ve?"":this.parentRoute.id,l]);n===Ve&&(n="/"),h!==Ve&&(h=Rt(["/",h]));const p=h===Ve?"/":Rt([this.parentRoute.fullPath,n]);this._path=n,this._id=h,this._fullPath=p,this._to=p,this._ssr=(_=(u=f==null?void 0:f.ssr)!=null?u:r.defaultSsr)!=null?_:!0},this.updateLoader=r=>(Object.assign(this.options,r),this),this.update=r=>(Object.assign(this.options,r),this),this.lazy=r=>(this.lazyFn=r,this),this.useMatch=r=>Qr({select:r==null?void 0:r.select,from:this.id,structuralSharing:r==null?void 0:r.structuralSharing}),this.useRouteContext=r=>Qr({...r,from:this.id,select:i=>r!=null&&r.select?r.select(i.context):i.context}),this.useSearch=r=>Nf({select:r==null?void 0:r.select,structuralSharing:r==null?void 0:r.structuralSharing,from:this.id}),this.useParams=r=>Hf({select:r==null?void 0:r.select,structuralSharing:r==null?void 0:r.structuralSharing,from:this.id}),this.useLoaderDeps=r=>Ff({...r,from:this.id}),this.useLoaderData=r=>If({...r,from:this.id}),this.useNavigate=()=>zf({from:this.id}),this.options=t||{},this.isRoot=!(t!=null&&t.getParentRoute),Ke(!(t!=null&&t.id&&(t!=null&&t.path))),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(t){return this._addFileChildren(t)}_addFileChildren(t){return Array.isArray(t)&&(this.children=t),typeof t=="object"&&t!==null&&(this.children=Object.values(t)),this}};function jf(e){return new ou(e)}class Uf extends ou{constructor(t){super(t)}addChildren(t){return super.addChildren(t),this}_addFileChildren(t){return super._addFileChildren(t),this}_addFileTypes(){return this}}function Wf(e){return new Uf(e)}function $f(e){return new Vf(e,{silent:!0}).createRoute}class Vf{constructor(t,r){this.path=t,this.createRoute=i=>{this.silent;const o=jf(i);return o.isRoot=!1,o},this.silent=r==null?void 0:r.silent}}function In(e){return G.jsx(G.Fragment,{children:e.children})}function au(e,t,r){return t.options.notFoundComponent?G.jsx(t.options.notFoundComponent,{data:r}):e.options.defaultNotFoundComponent?G.jsx(e.options.defaultNotFoundComponent,{data:r}):G.jsx(Rf,{})}const lu=re.memo(function({matchId:t}){var d,c,s,a,m,E;var r,i;const o=wr(),f=rt({select:C=>{var k;return(k=C.matches.find(y=>y.id===t))==null?void 0:k.routeId}});Ke(f);const v=o.routesById[f],n=(d=v.options.pendingComponent)!=null?d:o.options.defaultPendingComponent,l=n?G.jsx(n,{}):null,h=(c=v.options.errorComponent)!=null?c:o.options.defaultErrorComponent,p=(s=v.options.onCatch)!=null?s:o.options.defaultOnCatch,u=v.isRoot?(a=v.options.notFoundComponent)!=null?a:(r=o.options.notFoundRoute)==null?void 0:r.options.component:v.options.notFoundComponent,_=(!v.isRoot||v.options.wrapInSuspense)&&((E=(m=v.options.wrapInSuspense)!=null?m:n)!=null?E:(i=v.options.errorComponent)!=null&&i.preload)?re.Suspense:In,g=h?Da:In,w=u?Lf:In,S=rt({select:C=>C.loadedAt});return G.jsx(xs.Provider,{value:t,children:G.jsx(_,{fallback:l,children:G.jsx(g,{getResetKey:()=>S,errorComponent:h||ks,onCatch:(C,k)=>{if(lt(C))throw C;p==null||p(C,k)},children:G.jsx(w,{fallback:C=>{if(!u||C.routeId&&C.routeId!==f||!C.routeId&&!v.isRoot)throw C;return re.createElement(u,C)},children:G.jsx(Kf,{matchId:t})})})})})}),Kf=re.memo(function({matchId:t}){var w,S,d,c;var r,i,o,f,v;const n=wr(),{match:l,matchIndex:h,routeId:p}=rt({select:s=>{const a=s.matches.findIndex(C=>C.id===t),m=s.matches[a];return{routeId:m.routeId,matchIndex:a,match:Bn(m,["id","status","error"])}},structuralSharing:!0}),u=n.routesById[p],_=re.useMemo(()=>{var a;const s=(a=u.options.component)!=null?a:n.options.defaultComponent;return s?G.jsx(s,{}):G.jsx(cu,{})},[u.options.component,n.options.defaultComponent]),g=((w=u.options.errorComponent)!=null?w:n.options.defaultErrorComponent)||ks;if(l.status==="notFound"){let s;return Tl(l.error)?s=((S=(r=n.options.errorSerializer)==null?void 0:r.deserialize)!=null?S:Ml)(l.error.data):s=l.error,Ke(lt(s)),au(n,u,s)}if(l.status==="redirected")throw Ke(or(l.error)),(i=n.getMatch(l.id))==null?void 0:i.loadPromise;if(l.status==="error"){if(n.isServer)return G.jsx(g,{error:l.error,info:{componentStack:""}});throw Tl(l.error)?((d=(o=n.options.errorSerializer)==null?void 0:o.deserialize)!=null?d:Ml)(l.error.data):l.error}if(l.status==="pending"){const s=(c=u.options.pendingMinMs)!=null?c:n.options.defaultPendingMinMs;if(s&&!((f=n.getMatch(l.id))!=null&&f.minPendingPromise)&&!n.isServer){const a=Rr();Promise.resolve().then(()=>{n.updateMatch(l.id,m=>({...m,minPendingPromise:a}))}),setTimeout(()=>{a.resolve(),n.updateMatch(l.id,m=>({...m,minPendingPromise:void 0}))},s)}throw(v=n.getMatch(l.id))==null?void 0:v.loadPromise}return G.jsxs(G.Fragment,{children:[_,n.AfterEachMatch?G.jsx(n.AfterEachMatch,{match:l,matchIndex:h}):null]})}),cu=re.memo(function(){const t=wr(),r=re.useContext(xs),i=rt({select:h=>{var p;return(p=h.matches.find(u=>u.id===r))==null?void 0:p.routeId}}),o=t.routesById[i],f=rt({select:h=>{const u=h.matches.find(_=>_.id===r);return Ke(u),u.globalNotFound}}),v=rt({select:h=>{var p;const u=h.matches,_=u.findIndex(g=>g.id===r);return(p=u[_+1])==null?void 0:p.id}});if(f)return au(t,o,void 0);if(!v)return null;const n=G.jsx(lu,{matchId:v}),l=t.options.defaultPendingComponent?G.jsx(t.options.defaultPendingComponent,{}):null;return r===Ve?G.jsx(re.Suspense,{fallback:l,children:n}):n});var uu={exports:{}},Ye={},hu={exports:{}},du={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,b){var D=I.length;I.push(b);e:for(;0<D;){var T=D-1>>>1,A=I[T];if(0<o(A,b))I[T]=b,I[D]=A,D=T;else break e}}function r(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var b=I[0],D=I.pop();if(D!==b){I[0]=D;e:for(var T=0,A=I.length,H=A>>>1;T<H;){var z=2*(T+1)-1,X=I[z],Y=z+1,B=I[Y];if(0>o(X,D))Y<A&&0>o(B,X)?(I[T]=B,I[Y]=D,T=Y):(I[T]=X,I[z]=D,T=z);else if(Y<A&&0>o(B,D))I[T]=B,I[Y]=D,T=Y;else break e}}return b}function o(I,b){var D=I.sortIndex-b.sortIndex;return D!==0?D:I.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;e.unstable_now=function(){return f.now()}}else{var v=Date,n=v.now();e.unstable_now=function(){return v.now()-n}}var l=[],h=[],p=1,u=null,_=3,g=!1,w=!1,S=!1,d=typeof setTimeout=="function"?setTimeout:null,c=typeof clearTimeout=="function"?clearTimeout:null,s=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function a(I){for(var b=r(h);b!==null;){if(b.callback===null)i(h);else if(b.startTime<=I)i(h),b.sortIndex=b.expirationTime,t(l,b);else break;b=r(h)}}function m(I){if(S=!1,a(I),!w)if(r(l)!==null)w=!0,W(E);else{var b=r(h);b!==null&&K(m,b.startTime-I)}}function E(I,b){w=!1,S&&(S=!1,c(y),y=-1),g=!0;var D=_;try{for(a(b),u=r(l);u!==null&&(!(u.expirationTime>b)||I&&!M());){var T=u.callback;if(typeof T=="function"){u.callback=null,_=u.priorityLevel;var A=T(u.expirationTime<=b);b=e.unstable_now(),typeof A=="function"?u.callback=A:u===r(l)&&i(l),a(b)}else i(l);u=r(l)}if(u!==null)var H=!0;else{var z=r(h);z!==null&&K(m,z.startTime-b),H=!1}return H}finally{u=null,_=D,g=!1}}var C=!1,k=null,y=-1,x=5,P=-1;function M(){return!(e.unstable_now()-P<x)}function O(){if(k!==null){var I=e.unstable_now();P=I;var b=!0;try{b=k(!0,I)}finally{b?R():(C=!1,k=null)}}else C=!1}var R;if(typeof s=="function")R=function(){s(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,N=F.port2;F.port1.onmessage=O,R=function(){N.postMessage(null)}}else R=function(){d(O,0)};function W(I){k=I,C||(C=!0,R())}function K(I,b){y=d(function(){I(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,W(E))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return _},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(I){switch(_){case 1:case 2:case 3:var b=3;break;default:b=_}var D=_;_=b;try{return I()}finally{_=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,b){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var D=_;_=I;try{return b()}finally{_=D}},e.unstable_scheduleCallback=function(I,b,D){var T=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?T+D:T):D=T,I){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=D+A,I={id:p++,callback:b,priorityLevel:I,startTime:D,expirationTime:A,sortIndex:-1},D>T?(I.sortIndex=D,t(h,I),r(l)===null&&I===r(h)&&(S?(c(y),y=-1):S=!0,K(m,D-T))):(I.sortIndex=A,t(l,I),w||g||(w=!0,W(E))),I},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(I){var b=_;return function(){var D=_;_=b;try{return I.apply(this,arguments)}finally{_=D}}}})(du);hu.exports=du;var Gf=hu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qf=re,Xe=Gf;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fu=new Set,Ni={};function Cr(e,t){Jr(e,t),Jr(e+"Capture",t)}function Jr(e,t){for(Ni[e]=t,e=0;e<t.length;e++)fu.add(t[e])}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Po=Object.prototype.hasOwnProperty,Xf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Al={},Ol={};function Yf(e){return Po.call(Ol,e)?!0:Po.call(Al,e)?!1:Xf.test(e)?Ol[e]=!0:(Al[e]=!0,!1)}function Qf(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jf(e,t,r,i){if(t===null||typeof t>"u"||Qf(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fe(e,t,r,i,o,f,v){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=v}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new Fe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new Fe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new Fe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new Fe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new Fe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new Fe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new Fe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new Fe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new Fe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pa=/[\-:]([a-z])/g;function Ta(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pa,Ta);Re[t]=new Fe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pa,Ta);Re[t]=new Fe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pa,Ta);Re[t]=new Fe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new Fe(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new Fe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ma(e,t,r,i){var o=Re.hasOwnProperty(t)?Re[t]:null;(o!==null?o.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Jf(t,r,o,i)&&(r=null),i||o===null?Yf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,i=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var Ot=qf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mn=Symbol.for("react.element"),Dr=Symbol.for("react.portal"),Pr=Symbol.for("react.fragment"),Aa=Symbol.for("react.strict_mode"),To=Symbol.for("react.profiler"),_u=Symbol.for("react.provider"),pu=Symbol.for("react.context"),Oa=Symbol.for("react.forward_ref"),Mo=Symbol.for("react.suspense"),Ao=Symbol.for("react.suspense_list"),Ba=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),mu=Symbol.for("react.offscreen"),Bl=Symbol.iterator;function ui(e){return e===null||typeof e!="object"?null:(e=Bl&&e[Bl]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,Qs;function Ci(e){if(Qs===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Qs=t&&t[1]||""}return"\n"+Qs+e}var Js=!1;function Zs(e,t){if(!e||Js)return"";Js=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var i=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){i=h}e.call(t.prototype)}else{try{throw Error()}catch(h){i=h}e()}}catch(h){if(h&&i&&typeof h.stack=="string"){for(var o=h.stack.split("\n"),f=i.stack.split("\n"),v=o.length-1,n=f.length-1;1<=v&&0<=n&&o[v]!==f[n];)n--;for(;1<=v&&0<=n;v--,n--)if(o[v]!==f[n]){if(v!==1||n!==1)do if(v--,n--,0>n||o[v]!==f[n]){var l="\n"+o[v].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=v&&0<=n);break}}}finally{Js=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ci(e):""}function Zf(e){switch(e.tag){case 5:return Ci(e.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 2:case 15:return e=Zs(e.type,!1),e;case 11:return e=Zs(e.type.render,!1),e;case 1:return e=Zs(e.type,!0),e;default:return""}}function Oo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pr:return"Fragment";case Dr:return"Portal";case To:return"Profiler";case Aa:return"StrictMode";case Mo:return"Suspense";case Ao:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pu:return(e.displayName||"Context")+".Consumer";case _u:return(e._context.displayName||"Context")+".Provider";case Oa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ba:return t=e.displayName||null,t!==null?t:Oo(e.type)||"Memo";case Nt:t=e._payload,e=e._init;try{return Oo(e(t))}catch(r){}}return null}function e_(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oo(t);case 8:return t===Aa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function t_(e){var t=vu(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(v){i=""+v,f.call(this,v)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vn(e){e._valueTracker||(e._valueTracker=t_(e))}function gu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=vu(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function Qn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Bo(e,t){var r=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function Il(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=er(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Su(e,t){t=t.checked,t!=null&&Ma(e,"checked",t,!1)}function Io(e,t){Su(e,t);var r=er(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fo(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fo(e,t.type,er(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fl(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Fo(e,t,r){(t!=="number"||Qn(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ei=Array.isArray;function Wr(e,t,r,i){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&i&&(e[r].defaultSelected=!0)}else{for(r=""+er(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ho(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hl(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(V(92));if(Ei(r)){if(1<r.length)throw Error(V(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:er(r)}}function yu(e,t){var r=er(t.value),i=er(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function Nl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function No(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gn,Cu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gn=gn||document.createElement("div"),gn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r_=["Webkit","ms","Moz","O"];Object.keys(Di).forEach(function(e){r_.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Di[t]=Di[e]})});function Eu(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Di.hasOwnProperty(e)&&Di[e]?(""+t).trim():t+"px"}function ku(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,o=Eu(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,o):e[r]=o}}var i_=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zo(e,t){if(t){if(i_[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function jo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uo=null;function Ia(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wo=null,$r=null,Vr=null;function zl(e){if(e=on(e)){if(typeof Wo!="function")throw Error(V(280));var t=e.stateNode;t&&(t=Ps(t),Wo(e.stateNode,e.type,t))}}function xu(e){$r?Vr?Vr.push(e):Vr=[e]:$r=e}function bu(){if($r){var e=$r,t=Vr;if(Vr=$r=null,zl(e),t)for(e=0;e<t.length;e++)zl(t[e])}}function Lu(e,t){return e(t)}function Ru(){}var eo=!1;function Du(e,t,r){if(eo)return e(t,r);eo=!0;try{return Lu(e,t,r)}finally{eo=!1,($r!==null||Vr!==null)&&(Ru(),bu())}}function ji(e,t){var r=e.stateNode;if(r===null)return null;var i=Ps(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(V(231,t,typeof r));return r}var $o=!1;if(Pt)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){$o=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch(e){$o=!1}function n_(e,t,r,i,o,f,v,n,l){var h=Array.prototype.slice.call(arguments,3);try{t.apply(r,h)}catch(p){this.onError(p)}}var Pi=!1,Jn=null,Zn=!1,Vo=null,s_={onError:function(e){Pi=!0,Jn=e}};function o_(e,t,r,i,o,f,v,n,l){Pi=!1,Jn=null,n_.apply(s_,arguments)}function a_(e,t,r,i,o,f,v,n,l){if(o_.apply(this,arguments),Pi){if(Pi){var h=Jn;Pi=!1,Jn=null}else throw Error(V(198));Zn||(Zn=!0,Vo=h)}}function Er(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Pu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jl(e){if(Er(e)!==e)throw Error(V(188))}function l_(e){var t=e.alternate;if(!t){if(t=Er(e),t===null)throw Error(V(188));return t!==e?null:e}for(var r=e,i=t;;){var o=r.return;if(o===null)break;var f=o.alternate;if(f===null){if(i=o.return,i!==null){r=i;continue}break}if(o.child===f.child){for(f=o.child;f;){if(f===r)return jl(o),e;if(f===i)return jl(o),t;f=f.sibling}throw Error(V(188))}if(r.return!==i.return)r=o,i=f;else{for(var v=!1,n=o.child;n;){if(n===r){v=!0,r=o,i=f;break}if(n===i){v=!0,i=o,r=f;break}n=n.sibling}if(!v){for(n=f.child;n;){if(n===r){v=!0,r=f,i=o;break}if(n===i){v=!0,i=f,r=o;break}n=n.sibling}if(!v)throw Error(V(189))}}if(r.alternate!==i)throw Error(V(190))}if(r.tag!==3)throw Error(V(188));return r.stateNode.current===r?e:t}function Tu(e){return e=l_(e),e!==null?Mu(e):null}function Mu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Mu(e);if(t!==null)return t;e=e.sibling}return null}var Au=Xe.unstable_scheduleCallback,Ul=Xe.unstable_cancelCallback,c_=Xe.unstable_shouldYield,u_=Xe.unstable_requestPaint,Se=Xe.unstable_now,h_=Xe.unstable_getCurrentPriorityLevel,Fa=Xe.unstable_ImmediatePriority,Ou=Xe.unstable_UserBlockingPriority,es=Xe.unstable_NormalPriority,d_=Xe.unstable_LowPriority,Bu=Xe.unstable_IdlePriority,bs=null,St=null;function f_(e){if(St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(bs,e,void 0,(e.current.flags&128)===128)}catch(t){}}var ht=Math.clz32?Math.clz32:m_,__=Math.log,p_=Math.LN2;function m_(e){return e>>>=0,e===0?32:31-(__(e)/p_|0)|0}var Sn=64,yn=4194304;function ki(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ts(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,o=e.suspendedLanes,f=e.pingedLanes,v=r&268435455;if(v!==0){var n=v&~o;n!==0?i=ki(n):(f&=v,f!==0&&(i=ki(f)))}else v=r&~o,v!==0?i=ki(v):f!==0&&(i=ki(f));if(i===0)return 0;if(t!==0&&t!==i&&!(t&o)&&(o=i&-i,f=t&-t,o>=f||o===16&&(f&4194240)!==0))return t;if(i&4&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-ht(t),o=1<<r,i|=e[r],t&=~o;return i}function v_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g_(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,f=e.pendingLanes;0<f;){var v=31-ht(f),n=1<<v,l=o[v];l===-1?(!(n&r)||n&i)&&(o[v]=v_(n,t)):l<=t&&(e.expiredLanes|=n),f&=~n}}function Ko(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Iu(){var e=Sn;return Sn<<=1,!(Sn&4194240)&&(Sn=64),e}function to(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function nn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ht(t),e[t]=r}function S_(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-ht(r),f=1<<o;t[o]=0,i[o]=-1,e[o]=-1,r&=~f}}function Ha(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-ht(r),o=1<<i;o&t|e[i]&t&&(e[i]|=t),r&=~o}}var oe=0;function Fu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Hu,Na,Nu,zu,ju,Go=!1,wn=[],Kt=null,Gt=null,qt=null,Ui=new Map,Wi=new Map,jt=[],y_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wl(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":Ui.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wi.delete(t.pointerId)}}function di(e,t,r,i,o,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:f,targetContainers:[o]},t!==null&&(t=on(t),t!==null&&Na(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function w_(e,t,r,i,o){switch(t){case"focusin":return Kt=di(Kt,e,t,r,i,o),!0;case"dragenter":return Gt=di(Gt,e,t,r,i,o),!0;case"mouseover":return qt=di(qt,e,t,r,i,o),!0;case"pointerover":var f=o.pointerId;return Ui.set(f,di(Ui.get(f)||null,e,t,r,i,o)),!0;case"gotpointercapture":return f=o.pointerId,Wi.set(f,di(Wi.get(f)||null,e,t,r,i,o)),!0}return!1}function Uu(e){var t=ur(e.target);if(t!==null){var r=Er(t);if(r!==null){if(t=r.tag,t===13){if(t=Pu(r),t!==null){e.blockedOn=t,ju(e.priority,function(){Nu(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=qo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);Uo=i,r.target.dispatchEvent(i),Uo=null}else return t=on(r),t!==null&&Na(t),e.blockedOn=r,!1;t.shift()}return!0}function $l(e,t,r){Fn(e)&&r.delete(t)}function C_(){Go=!1,Kt!==null&&Fn(Kt)&&(Kt=null),Gt!==null&&Fn(Gt)&&(Gt=null),qt!==null&&Fn(qt)&&(qt=null),Ui.forEach($l),Wi.forEach($l)}function fi(e,t){e.blockedOn===t&&(e.blockedOn=null,Go||(Go=!0,Xe.unstable_scheduleCallback(Xe.unstable_NormalPriority,C_)))}function $i(e){function t(o){return fi(o,e)}if(0<wn.length){fi(wn[0],e);for(var r=1;r<wn.length;r++){var i=wn[r];i.blockedOn===e&&(i.blockedOn=null)}}for(Kt!==null&&fi(Kt,e),Gt!==null&&fi(Gt,e),qt!==null&&fi(qt,e),Ui.forEach(t),Wi.forEach(t),r=0;r<jt.length;r++)i=jt[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<jt.length&&(r=jt[0],r.blockedOn===null);)Uu(r),r.blockedOn===null&&jt.shift()}var Kr=Ot.ReactCurrentBatchConfig,rs=!0;function E_(e,t,r,i){var o=oe,f=Kr.transition;Kr.transition=null;try{oe=1,za(e,t,r,i)}finally{oe=o,Kr.transition=f}}function k_(e,t,r,i){var o=oe,f=Kr.transition;Kr.transition=null;try{oe=4,za(e,t,r,i)}finally{oe=o,Kr.transition=f}}function za(e,t,r,i){if(rs){var o=qo(e,t,r,i);if(o===null)ho(e,t,i,is,r),Wl(e,i);else if(w_(o,e,t,r,i))i.stopPropagation();else if(Wl(e,i),t&4&&-1<y_.indexOf(e)){for(;o!==null;){var f=on(o);if(f!==null&&Hu(f),f=qo(e,t,r,i),f===null&&ho(e,t,i,is,r),f===o)break;o=f}o!==null&&i.stopPropagation()}else ho(e,t,i,null,r)}}var is=null;function qo(e,t,r,i){if(is=null,e=Ia(i),e=ur(e),e!==null)if(t=Er(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Pu(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return is=e,null}function Wu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h_()){case Fa:return 1;case Ou:return 4;case es:case d_:return 16;case Bu:return 536870912;default:return 16}default:return 16}}var $t=null,ja=null,Hn=null;function $u(){if(Hn)return Hn;var e,t=ja,r=t.length,i,o="value"in $t?$t.value:$t.textContent,f=o.length;for(e=0;e<r&&t[e]===o[e];e++);var v=r-e;for(i=1;i<=v&&t[r-i]===o[f-i];i++);return Hn=o.slice(e,1<i?1-i:void 0)}function Nn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cn(){return!0}function Vl(){return!1}function Qe(e){function t(r,i,o,f,v){this._reactName=r,this._targetInst=o,this.type=i,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var n in e)e.hasOwnProperty(n)&&(r=e[n],this[n]=r?r(f):f[n]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Cn:Vl,this.isPropagationStopped=Vl,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cn)},persist:function(){},isPersistent:Cn}),t}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=Qe(oi),sn=me({},oi,{view:0,detail:0}),x_=Qe(sn),ro,io,_i,Ls=me({},sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(ro=e.screenX-_i.screenX,io=e.screenY-_i.screenY):io=ro=0,_i=e),ro)},movementY:function(e){return"movementY"in e?e.movementY:io}}),Kl=Qe(Ls),b_=me({},Ls,{dataTransfer:0}),L_=Qe(b_),R_=me({},sn,{relatedTarget:0}),no=Qe(R_),D_=me({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),P_=Qe(D_),T_=me({},oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),M_=Qe(T_),A_=me({},oi,{data:0}),Gl=Qe(A_),O_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=I_[e])?!!t[e]:!1}function Wa(){return F_}var H_=me({},sn,{key:function(e){if(e.key){var t=O_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?B_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wa,charCode:function(e){return e.type==="keypress"?Nn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),N_=Qe(H_),z_=me({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ql=Qe(z_),j_=me({},sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wa}),U_=Qe(j_),W_=me({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),$_=Qe(W_),V_=me({},Ls,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),K_=Qe(V_),G_=[9,13,27,32],$a=Pt&&"CompositionEvent"in window,Ti=null;Pt&&"documentMode"in document&&(Ti=document.documentMode);var q_=Pt&&"TextEvent"in window&&!Ti,Vu=Pt&&(!$a||Ti&&8<Ti&&11>=Ti),Xl=" ",Yl=!1;function Ku(e,t){switch(e){case"keyup":return G_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tr=!1;function X_(e,t){switch(e){case"compositionend":return Gu(t);case"keypress":return t.which!==32?null:(Yl=!0,Xl);case"textInput":return e=t.data,e===Xl&&Yl?null:e;default:return null}}function Y_(e,t){if(Tr)return e==="compositionend"||!$a&&Ku(e,t)?(e=$u(),Hn=ja=$t=null,Tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vu&&t.locale!=="ko"?null:t.data;default:return null}}var Q_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ql(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Q_[e.type]:t==="textarea"}function qu(e,t,r,i){xu(i),t=ns(t,"onChange"),0<t.length&&(r=new Ua("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var Mi=null,Vi=null;function J_(e){sh(e,0)}function Rs(e){var t=Or(e);if(gu(t))return e}function Z_(e,t){if(e==="change")return t}var Xu=!1;if(Pt){var so;if(Pt){var oo="oninput"in document;if(!oo){var Jl=document.createElement("div");Jl.setAttribute("oninput","return;"),oo=typeof Jl.oninput=="function"}so=oo}else so=!1;Xu=so&&(!document.documentMode||9<document.documentMode)}function Zl(){Mi&&(Mi.detachEvent("onpropertychange",Yu),Vi=Mi=null)}function Yu(e){if(e.propertyName==="value"&&Rs(Vi)){var t=[];qu(t,Vi,e,Ia(e)),Du(J_,t)}}function ep(e,t,r){e==="focusin"?(Zl(),Mi=t,Vi=r,Mi.attachEvent("onpropertychange",Yu)):e==="focusout"&&Zl()}function tp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rs(Vi)}function rp(e,t){if(e==="click")return Rs(t)}function ip(e,t){if(e==="input"||e==="change")return Rs(t)}function np(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ft=typeof Object.is=="function"?Object.is:np;function Ki(e,t){if(ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var o=r[i];if(!Po.call(t,o)||!ft(e[o],t[o]))return!1}return!0}function ec(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tc(e,t){var r=ec(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ec(r)}}function Qu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ju(){for(var e=window,t=Qn();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch(i){r=!1}if(r)e=t.contentWindow;else break;t=Qn(e.document)}return t}function Va(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sp(e){var t=Ju(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Qu(r.ownerDocument.documentElement,r)){if(i!==null&&Va(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,f=Math.min(i.start,o);i=i.end===void 0?f:Math.min(i.end,o),!e.extend&&f>i&&(o=i,i=f,f=o),o=tc(r,f);var v=tc(r,i);o&&v&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),f>i?(e.addRange(t),e.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var op=Pt&&"documentMode"in document&&11>=document.documentMode,Mr=null,Xo=null,Ai=null,Yo=!1;function rc(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yo||Mr==null||Mr!==Qn(i)||(i=Mr,"selectionStart"in i&&Va(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ai&&Ki(Ai,i)||(Ai=i,i=ns(Xo,"onSelect"),0<i.length&&(t=new Ua("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=Mr)))}function En(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ar={animationend:En("Animation","AnimationEnd"),animationiteration:En("Animation","AnimationIteration"),animationstart:En("Animation","AnimationStart"),transitionend:En("Transition","TransitionEnd")},ao={},Zu={};Pt&&(Zu=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function Ds(e){if(ao[e])return ao[e];if(!Ar[e])return e;var t=Ar[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Zu)return ao[e]=t[r];return e}var eh=Ds("animationend"),th=Ds("animationiteration"),rh=Ds("animationstart"),ih=Ds("transitionend"),nh=new Map,ic="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rr(e,t){nh.set(e,t),Cr(t,[e])}for(var lo=0;lo<ic.length;lo++){var co=ic[lo],ap=co.toLowerCase(),lp=co[0].toUpperCase()+co.slice(1);rr(ap,"on"+lp)}rr(eh,"onAnimationEnd");rr(th,"onAnimationIteration");rr(rh,"onAnimationStart");rr("dblclick","onDoubleClick");rr("focusin","onFocus");rr("focusout","onBlur");rr(ih,"onTransitionEnd");Jr("onMouseEnter",["mouseout","mouseover"]);Jr("onMouseLeave",["mouseout","mouseover"]);Jr("onPointerEnter",["pointerout","pointerover"]);Jr("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cp=new Set("cancel close invalid load scroll toggle".split(" ").concat(xi));function nc(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,a_(i,t,void 0,e),e.currentTarget=null}function sh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],o=i.event;i=i.listeners;e:{var f=void 0;if(t)for(var v=i.length-1;0<=v;v--){var n=i[v],l=n.instance,h=n.currentTarget;if(n=n.listener,l!==f&&o.isPropagationStopped())break e;nc(o,n,h),f=l}else for(v=0;v<i.length;v++){if(n=i[v],l=n.instance,h=n.currentTarget,n=n.listener,l!==f&&o.isPropagationStopped())break e;nc(o,n,h),f=l}}}if(Zn)throw e=Vo,Zn=!1,Vo=null,e}function ue(e,t){var r=t[ta];r===void 0&&(r=t[ta]=new Set);var i=e+"__bubble";r.has(i)||(oh(t,e,2,!1),r.add(i))}function uo(e,t,r){var i=0;t&&(i|=4),oh(r,e,i,t)}var kn="_reactListening"+Math.random().toString(36).slice(2);function Gi(e){if(!e[kn]){e[kn]=!0,fu.forEach(function(r){r!=="selectionchange"&&(cp.has(r)||uo(r,!1,e),uo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kn]||(t[kn]=!0,uo("selectionchange",!1,t))}}function oh(e,t,r,i){switch(Wu(t)){case 1:var o=E_;break;case 4:o=k_;break;default:o=za}r=o.bind(null,t,r,e),o=void 0,!$o||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function ho(e,t,r,i,o){var f=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var v=i.tag;if(v===3||v===4){var n=i.stateNode.containerInfo;if(n===o||n.nodeType===8&&n.parentNode===o)break;if(v===4)for(v=i.return;v!==null;){var l=v.tag;if((l===3||l===4)&&(l=v.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;v=v.return}for(;n!==null;){if(v=ur(n),v===null)return;if(l=v.tag,l===5||l===6){i=f=v;continue e}n=n.parentNode}}i=i.return}Du(function(){var h=f,p=Ia(r),u=[];e:{var _=nh.get(e);if(_!==void 0){var g=Ua,w=e;switch(e){case"keypress":if(Nn(r)===0)break e;case"keydown":case"keyup":g=N_;break;case"focusin":w="focus",g=no;break;case"focusout":w="blur",g=no;break;case"beforeblur":case"afterblur":g=no;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=L_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=U_;break;case eh:case th:case rh:g=P_;break;case ih:g=$_;break;case"scroll":g=x_;break;case"wheel":g=K_;break;case"copy":case"cut":case"paste":g=M_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ql}var S=(t&4)!==0,d=!S&&e==="scroll",c=S?_!==null?_+"Capture":null:_;S=[];for(var s=h,a;s!==null;){a=s;var m=a.stateNode;if(a.tag===5&&m!==null&&(a=m,c!==null&&(m=ji(s,c),m!=null&&S.push(qi(s,m,a)))),d)break;s=s.return}0<S.length&&(_=new g(_,w,null,r,p),u.push({event:_,listeners:S}))}}if(!(t&7)){e:{if(_=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",_&&r!==Uo&&(w=r.relatedTarget||r.fromElement)&&(ur(w)||w[Tt]))break e;if((g||_)&&(_=p.window===p?p:(_=p.ownerDocument)?_.defaultView||_.parentWindow:window,g?(w=r.relatedTarget||r.toElement,g=h,w=w?ur(w):null,w!==null&&(d=Er(w),w!==d||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=h),g!==w)){if(S=Kl,m="onMouseLeave",c="onMouseEnter",s="mouse",(e==="pointerout"||e==="pointerover")&&(S=ql,m="onPointerLeave",c="onPointerEnter",s="pointer"),d=g==null?_:Or(g),a=w==null?_:Or(w),_=new S(m,s+"leave",g,r,p),_.target=d,_.relatedTarget=a,m=null,ur(p)===h&&(S=new S(c,s+"enter",w,r,p),S.target=a,S.relatedTarget=d,m=S),d=m,g&&w)t:{for(S=g,c=w,s=0,a=S;a;a=xr(a))s++;for(a=0,m=c;m;m=xr(m))a++;for(;0<s-a;)S=xr(S),s--;for(;0<a-s;)c=xr(c),a--;for(;s--;){if(S===c||c!==null&&S===c.alternate)break t;S=xr(S),c=xr(c)}S=null}else S=null;g!==null&&sc(u,_,g,S,!1),w!==null&&d!==null&&sc(u,d,w,S,!0)}}e:{if(_=h?Or(h):window,g=_.nodeName&&_.nodeName.toLowerCase(),g==="select"||g==="input"&&_.type==="file")var E=Z_;else if(Ql(_))if(Xu)E=ip;else{E=tp;var C=ep}else(g=_.nodeName)&&g.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(E=rp);if(E&&(E=E(e,h))){qu(u,E,r,p);break e}C&&C(e,_,h),e==="focusout"&&(C=_._wrapperState)&&C.controlled&&_.type==="number"&&Fo(_,"number",_.value)}switch(C=h?Or(h):window,e){case"focusin":(Ql(C)||C.contentEditable==="true")&&(Mr=C,Xo=h,Ai=null);break;case"focusout":Ai=Xo=Mr=null;break;case"mousedown":Yo=!0;break;case"contextmenu":case"mouseup":case"dragend":Yo=!1,rc(u,r,p);break;case"selectionchange":if(op)break;case"keydown":case"keyup":rc(u,r,p)}var k;if($a)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Tr?Ku(e,r)&&(y="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(y="onCompositionStart");y&&(Vu&&r.locale!=="ko"&&(Tr||y!=="onCompositionStart"?y==="onCompositionEnd"&&Tr&&(k=$u()):($t=p,ja="value"in $t?$t.value:$t.textContent,Tr=!0)),C=ns(h,y),0<C.length&&(y=new Gl(y,e,null,r,p),u.push({event:y,listeners:C}),k?y.data=k:(k=Gu(r),k!==null&&(y.data=k)))),(k=q_?X_(e,r):Y_(e,r))&&(h=ns(h,"onBeforeInput"),0<h.length&&(p=new Gl("onBeforeInput","beforeinput",null,r,p),u.push({event:p,listeners:h}),p.data=k))}sh(u,t)})}function qi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ns(e,t){for(var r=t+"Capture",i=[];e!==null;){var o=e,f=o.stateNode;o.tag===5&&f!==null&&(o=f,f=ji(e,r),f!=null&&i.unshift(qi(e,f,o)),f=ji(e,t),f!=null&&i.push(qi(e,f,o))),e=e.return}return i}function xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sc(e,t,r,i,o){for(var f=t._reactName,v=[];r!==null&&r!==i;){var n=r,l=n.alternate,h=n.stateNode;if(l!==null&&l===i)break;n.tag===5&&h!==null&&(n=h,o?(l=ji(r,f),l!=null&&v.unshift(qi(r,l,n))):o||(l=ji(r,f),l!=null&&v.push(qi(r,l,n)))),r=r.return}v.length!==0&&e.push({event:t,listeners:v})}var up=/\r\n?/g,hp=/\u0000|\uFFFD/g;function oc(e){return(typeof e=="string"?e:""+e).replace(up,"\n").replace(hp,"")}function xn(e,t,r){if(t=oc(t),oc(e)!==t&&r)throw Error(V(425))}function ss(){}var Qo=null,Jo=null;function Zo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ea=typeof setTimeout=="function"?setTimeout:void 0,dp=typeof clearTimeout=="function"?clearTimeout:void 0,ac=typeof Promise=="function"?Promise:void 0,fp=typeof queueMicrotask=="function"?queueMicrotask:typeof ac<"u"?function(e){return ac.resolve(null).then(e).catch(_p)}:ea;function _p(e){setTimeout(function(){throw e})}function fo(e,t){var r=t,i=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(i===0){e.removeChild(o),$i(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=o}while(r);$i(t)}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ai=Math.random().toString(36).slice(2),gt="__reactFiber$"+ai,Xi="__reactProps$"+ai,Tt="__reactContainer$"+ai,ta="__reactEvents$"+ai,pp="__reactListeners$"+ai,mp="__reactHandles$"+ai;function ur(e){var t=e[gt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Tt]||r[gt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=lc(e);e!==null;){if(r=e[gt])return r;e=lc(e)}return t}e=r,r=e.parentNode}return null}function on(e){return e=e[gt]||e[Tt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function Ps(e){return e[Xi]||null}var ra=[],Br=-1;function ir(e){return{current:e}}function he(e){0>Br||(e.current=ra[Br],ra[Br]=null,Br--)}function ce(e,t){Br++,ra[Br]=e.current,e.current=t}var tr={},Me=ir(tr),ze=ir(!1),mr=tr;function Zr(e,t){var r=e.type.contextTypes;if(!r)return tr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o={},f;for(f in r)o[f]=t[f];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function je(e){return e=e.childContextTypes,e!=null}function os(){he(ze),he(Me)}function cc(e,t,r){if(Me.current!==tr)throw Error(V(168));ce(Me,t),ce(ze,r)}function ah(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var o in i)if(!(o in t))throw Error(V(108,e_(e)||"Unknown",o));return me({},r,i)}function as(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tr,mr=Me.current,ce(Me,e),ce(ze,ze.current),!0}function uc(e,t,r){var i=e.stateNode;if(!i)throw Error(V(169));r?(e=ah(e,t,mr),i.__reactInternalMemoizedMergedChildContext=e,he(ze),he(Me),ce(Me,e)):he(ze),ce(ze,r)}var xt=null,Ts=!1,_o=!1;function lh(e){xt===null?xt=[e]:xt.push(e)}function vp(e){Ts=!0,lh(e)}function nr(){if(!_o&&xt!==null){_o=!0;var e=0,t=oe;try{var r=xt;for(oe=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}xt=null,Ts=!1}catch(o){throw xt!==null&&(xt=xt.slice(e+1)),Au(Fa,nr),o}finally{oe=t,_o=!1}}return null}var Ir=[],Fr=0,ls=null,cs=0,Ze=[],et=0,vr=null,bt=1,Lt="";function ar(e,t){Ir[Fr++]=cs,Ir[Fr++]=ls,ls=e,cs=t}function ch(e,t,r){Ze[et++]=bt,Ze[et++]=Lt,Ze[et++]=vr,vr=e;var i=bt;e=Lt;var o=32-ht(i)-1;i&=~(1<<o),r+=1;var f=32-ht(t)+o;if(30<f){var v=o-o%5;f=(i&(1<<v)-1).toString(32),i>>=v,o-=v,bt=1<<32-ht(t)+o|r<<o|i,Lt=f+e}else bt=1<<f|r<<o|i,Lt=e}function Ka(e){e.return!==null&&(ar(e,1),ch(e,1,0))}function Ga(e){for(;e===ls;)ls=Ir[--Fr],Ir[Fr]=null,cs=Ir[--Fr],Ir[Fr]=null;for(;e===vr;)vr=Ze[--et],Ze[et]=null,Lt=Ze[--et],Ze[et]=null,bt=Ze[--et],Ze[et]=null}var qe=null,Ge=null,de=!1,ut=null;function uh(e,t){var r=tt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function hc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qe=e,Ge=Xt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qe=e,Ge=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=vr!==null?{id:bt,overflow:Lt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=tt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,qe=e,Ge=null,!0):!1;default:return!1}}function ia(e){return(e.mode&1)!==0&&(e.flags&128)===0}function na(e){if(de){var t=Ge;if(t){var r=t;if(!hc(e,t)){if(ia(e))throw Error(V(418));t=Xt(r.nextSibling);var i=qe;t&&hc(e,t)?uh(i,r):(e.flags=e.flags&-4097|2,de=!1,qe=e)}}else{if(ia(e))throw Error(V(418));e.flags=e.flags&-4097|2,de=!1,qe=e}}}function dc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qe=e}function bn(e){if(e!==qe)return!1;if(!de)return dc(e),de=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zo(e.type,e.memoizedProps)),t&&(t=Ge)){if(ia(e))throw hh(),Error(V(418));for(;t;)uh(e,t),t=Xt(t.nextSibling)}if(dc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ge=Xt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ge=null}}else Ge=qe?Xt(e.stateNode.nextSibling):null;return!0}function hh(){for(var e=Ge;e;)e=Xt(e.nextSibling)}function ei(){Ge=qe=null,de=!1}function qa(e){ut===null?ut=[e]:ut.push(e)}var gp=Ot.ReactCurrentBatchConfig;function pi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(V(309));var i=r.stateNode}if(!i)throw Error(V(147,e));var o=i,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(v){var n=o.refs;v===null?delete n[f]:n[f]=v},t._stringRef=f,t)}if(typeof e!="string")throw Error(V(284));if(!r._owner)throw Error(V(290,e))}return e}function Ln(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fc(e){var t=e._init;return t(e._payload)}function dh(e){function t(c,s){if(e){var a=c.deletions;a===null?(c.deletions=[s],c.flags|=16):a.push(s)}}function r(c,s){if(!e)return null;for(;s!==null;)t(c,s),s=s.sibling;return null}function i(c,s){for(c=new Map;s!==null;)s.key!==null?c.set(s.key,s):c.set(s.index,s),s=s.sibling;return c}function o(c,s){return c=Zt(c,s),c.index=0,c.sibling=null,c}function f(c,s,a){return c.index=a,e?(a=c.alternate,a!==null?(a=a.index,a<s?(c.flags|=2,s):a):(c.flags|=2,s)):(c.flags|=1048576,s)}function v(c){return e&&c.alternate===null&&(c.flags|=2),c}function n(c,s,a,m){return s===null||s.tag!==6?(s=wo(a,c.mode,m),s.return=c,s):(s=o(s,a),s.return=c,s)}function l(c,s,a,m){var E=a.type;return E===Pr?p(c,s,a.props.children,m,a.key):s!==null&&(s.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Nt&&fc(E)===s.type)?(m=o(s,a.props),m.ref=pi(c,s,a),m.return=c,m):(m=Kn(a.type,a.key,a.props,null,c.mode,m),m.ref=pi(c,s,a),m.return=c,m)}function h(c,s,a,m){return s===null||s.tag!==4||s.stateNode.containerInfo!==a.containerInfo||s.stateNode.implementation!==a.implementation?(s=Co(a,c.mode,m),s.return=c,s):(s=o(s,a.children||[]),s.return=c,s)}function p(c,s,a,m,E){return s===null||s.tag!==7?(s=pr(a,c.mode,m,E),s.return=c,s):(s=o(s,a),s.return=c,s)}function u(c,s,a){if(typeof s=="string"&&s!==""||typeof s=="number")return s=wo(""+s,c.mode,a),s.return=c,s;if(typeof s=="object"&&s!==null){switch(s.$$typeof){case mn:return a=Kn(s.type,s.key,s.props,null,c.mode,a),a.ref=pi(c,null,s),a.return=c,a;case Dr:return s=Co(s,c.mode,a),s.return=c,s;case Nt:var m=s._init;return u(c,m(s._payload),a)}if(Ei(s)||ui(s))return s=pr(s,c.mode,a,null),s.return=c,s;Ln(c,s)}return null}function _(c,s,a,m){var E=s!==null?s.key:null;if(typeof a=="string"&&a!==""||typeof a=="number")return E!==null?null:n(c,s,""+a,m);if(typeof a=="object"&&a!==null){switch(a.$$typeof){case mn:return a.key===E?l(c,s,a,m):null;case Dr:return a.key===E?h(c,s,a,m):null;case Nt:return E=a._init,_(c,s,E(a._payload),m)}if(Ei(a)||ui(a))return E!==null?null:p(c,s,a,m,null);Ln(c,a)}return null}function g(c,s,a,m,E){if(typeof m=="string"&&m!==""||typeof m=="number")return c=c.get(a)||null,n(s,c,""+m,E);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case mn:return c=c.get(m.key===null?a:m.key)||null,l(s,c,m,E);case Dr:return c=c.get(m.key===null?a:m.key)||null,h(s,c,m,E);case Nt:var C=m._init;return g(c,s,a,C(m._payload),E)}if(Ei(m)||ui(m))return c=c.get(a)||null,p(s,c,m,E,null);Ln(s,m)}return null}function w(c,s,a,m){for(var E=null,C=null,k=s,y=s=0,x=null;k!==null&&y<a.length;y++){k.index>y?(x=k,k=null):x=k.sibling;var P=_(c,k,a[y],m);if(P===null){k===null&&(k=x);break}e&&k&&P.alternate===null&&t(c,k),s=f(P,s,y),C===null?E=P:C.sibling=P,C=P,k=x}if(y===a.length)return r(c,k),de&&ar(c,y),E;if(k===null){for(;y<a.length;y++)k=u(c,a[y],m),k!==null&&(s=f(k,s,y),C===null?E=k:C.sibling=k,C=k);return de&&ar(c,y),E}for(k=i(c,k);y<a.length;y++)x=g(k,c,y,a[y],m),x!==null&&(e&&x.alternate!==null&&k.delete(x.key===null?y:x.key),s=f(x,s,y),C===null?E=x:C.sibling=x,C=x);return e&&k.forEach(function(M){return t(c,M)}),de&&ar(c,y),E}function S(c,s,a,m){var E=ui(a);if(typeof E!="function")throw Error(V(150));if(a=E.call(a),a==null)throw Error(V(151));for(var C=E=null,k=s,y=s=0,x=null,P=a.next();k!==null&&!P.done;y++,P=a.next()){k.index>y?(x=k,k=null):x=k.sibling;var M=_(c,k,P.value,m);if(M===null){k===null&&(k=x);break}e&&k&&M.alternate===null&&t(c,k),s=f(M,s,y),C===null?E=M:C.sibling=M,C=M,k=x}if(P.done)return r(c,k),de&&ar(c,y),E;if(k===null){for(;!P.done;y++,P=a.next())P=u(c,P.value,m),P!==null&&(s=f(P,s,y),C===null?E=P:C.sibling=P,C=P);return de&&ar(c,y),E}for(k=i(c,k);!P.done;y++,P=a.next())P=g(k,c,y,P.value,m),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?y:P.key),s=f(P,s,y),C===null?E=P:C.sibling=P,C=P);return e&&k.forEach(function(O){return t(c,O)}),de&&ar(c,y),E}function d(c,s,a,m){if(typeof a=="object"&&a!==null&&a.type===Pr&&a.key===null&&(a=a.props.children),typeof a=="object"&&a!==null){switch(a.$$typeof){case mn:e:{for(var E=a.key,C=s;C!==null;){if(C.key===E){if(E=a.type,E===Pr){if(C.tag===7){r(c,C.sibling),s=o(C,a.props.children),s.return=c,c=s;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Nt&&fc(E)===C.type){r(c,C.sibling),s=o(C,a.props),s.ref=pi(c,C,a),s.return=c,c=s;break e}r(c,C);break}else t(c,C);C=C.sibling}a.type===Pr?(s=pr(a.props.children,c.mode,m,a.key),s.return=c,c=s):(m=Kn(a.type,a.key,a.props,null,c.mode,m),m.ref=pi(c,s,a),m.return=c,c=m)}return v(c);case Dr:e:{for(C=a.key;s!==null;){if(s.key===C)if(s.tag===4&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){r(c,s.sibling),s=o(s,a.children||[]),s.return=c,c=s;break e}else{r(c,s);break}else t(c,s);s=s.sibling}s=Co(a,c.mode,m),s.return=c,c=s}return v(c);case Nt:return C=a._init,d(c,s,C(a._payload),m)}if(Ei(a))return w(c,s,a,m);if(ui(a))return S(c,s,a,m);Ln(c,a)}return typeof a=="string"&&a!==""||typeof a=="number"?(a=""+a,s!==null&&s.tag===6?(r(c,s.sibling),s=o(s,a),s.return=c,c=s):(r(c,s),s=wo(a,c.mode,m),s.return=c,c=s),v(c)):r(c,s)}return d}var ti=dh(!0),fh=dh(!1),us=ir(null),hs=null,Hr=null,Xa=null;function Ya(){Xa=Hr=hs=null}function Qa(e){var t=us.current;he(us),e._currentValue=t}function sa(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Gr(e,t){hs=e,Xa=Hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ne=!0),e.firstContext=null)}function nt(e){var t=e._currentValue;if(Xa!==e)if(e={context:e,memoizedValue:t,next:null},Hr===null){if(hs===null)throw Error(V(308));Hr=e,hs.dependencies={lanes:0,firstContext:e}}else Hr=Hr.next=e;return t}var hr=null;function Ja(e){hr===null?hr=[e]:hr.push(e)}function _h(e,t,r,i){var o=t.interleaved;return o===null?(r.next=r,Ja(t)):(r.next=o.next,o.next=r),t.interleaved=r,Mt(e,i)}function Mt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zt=!1;function Za(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ph(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yt(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,se&2){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,Mt(e,r)}return o=i.interleaved,o===null?(t.next=t,Ja(i)):(t.next=o.next,o.next=t),i.interleaved=t,Mt(e,r)}function zn(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Ha(e,r)}}function _c(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var o=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};f===null?o=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?o=f=t:f=f.next=t}else o=f=t;r={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:f,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ds(e,t,r,i){var o=e.updateQueue;zt=!1;var f=o.firstBaseUpdate,v=o.lastBaseUpdate,n=o.shared.pending;if(n!==null){o.shared.pending=null;var l=n,h=l.next;l.next=null,v===null?f=h:v.next=h,v=l;var p=e.alternate;p!==null&&(p=p.updateQueue,n=p.lastBaseUpdate,n!==v&&(n===null?p.firstBaseUpdate=h:n.next=h,p.lastBaseUpdate=l))}if(f!==null){var u=o.baseState;v=0,p=h=l=null,n=f;do{var _=n.lane,g=n.eventTime;if((i&_)===_){p!==null&&(p=p.next={eventTime:g,lane:0,tag:n.tag,payload:n.payload,callback:n.callback,next:null});e:{var w=e,S=n;switch(_=t,g=r,S.tag){case 1:if(w=S.payload,typeof w=="function"){u=w.call(g,u,_);break e}u=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,_=typeof w=="function"?w.call(g,u,_):w,_==null)break e;u=me({},u,_);break e;case 2:zt=!0}}n.callback!==null&&n.lane!==0&&(e.flags|=64,_=o.effects,_===null?o.effects=[n]:_.push(n))}else g={eventTime:g,lane:_,tag:n.tag,payload:n.payload,callback:n.callback,next:null},p===null?(h=p=g,l=u):p=p.next=g,v|=_;if(n=n.next,n===null){if(n=o.shared.pending,n===null)break;_=n,n=_.next,_.next=null,o.lastBaseUpdate=_,o.shared.pending=null}}while(!0);if(p===null&&(l=u),o.baseState=l,o.firstBaseUpdate=h,o.lastBaseUpdate=p,t=o.shared.interleaved,t!==null){o=t;do v|=o.lane,o=o.next;while(o!==t)}else f===null&&(o.shared.lanes=0);Sr|=v,e.lanes=v,e.memoizedState=u}}function pc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(o!==null){if(i.callback=null,i=r,typeof o!="function")throw Error(V(191,o));o.call(i)}}}var an={},yt=ir(an),Yi=ir(an),Qi=ir(an);function dr(e){if(e===an)throw Error(V(174));return e}function el(e,t){switch(ce(Qi,t),ce(Yi,e),ce(yt,an),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:No(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=No(t,e)}he(yt),ce(yt,t)}function ri(){he(yt),he(Yi),he(Qi)}function mh(e){dr(Qi.current);var t=dr(yt.current),r=No(t,e.type);t!==r&&(ce(Yi,e),ce(yt,r))}function tl(e){Yi.current===e&&(he(yt),he(Yi))}var _e=ir(0);function fs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var po=[];function rl(){for(var e=0;e<po.length;e++)po[e]._workInProgressVersionPrimary=null;po.length=0}var jn=Ot.ReactCurrentDispatcher,mo=Ot.ReactCurrentBatchConfig,gr=0,pe=null,we=null,Ee=null,_s=!1,Oi=!1,Ji=0,Sp=0;function De(){throw Error(V(321))}function il(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ft(e[r],t[r]))return!1;return!0}function nl(e,t,r,i,o,f){if(gr=f,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jn.current=e===null||e.memoizedState===null?Ep:kp,e=r(i,o),Oi){f=0;do{if(Oi=!1,Ji=0,25<=f)throw Error(V(301));f+=1,Ee=we=null,t.updateQueue=null,jn.current=xp,e=r(i,o)}while(Oi)}if(jn.current=ps,t=we!==null&&we.next!==null,gr=0,Ee=we=pe=null,_s=!1,t)throw Error(V(300));return e}function sl(){var e=Ji!==0;return Ji=0,e}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?pe.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function st(){if(we===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=Ee===null?pe.memoizedState:Ee.next;if(t!==null)Ee=t,we=e;else{if(e===null)throw Error(V(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Ee===null?pe.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Zi(e,t){return typeof t=="function"?t(e):t}function vo(e){var t=st(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var i=we,o=i.baseQueue,f=r.pending;if(f!==null){if(o!==null){var v=o.next;o.next=f.next,f.next=v}i.baseQueue=o=f,r.pending=null}if(o!==null){f=o.next,i=i.baseState;var n=v=null,l=null,h=f;do{var p=h.lane;if((gr&p)===p)l!==null&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:e(i,h.action);else{var u={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};l===null?(n=l=u,v=i):l=l.next=u,pe.lanes|=p,Sr|=p}h=h.next}while(h!==null&&h!==f);l===null?v=i:l.next=n,ft(i,t.memoizedState)||(Ne=!0),t.memoizedState=i,t.baseState=v,t.baseQueue=l,r.lastRenderedState=i}if(e=r.interleaved,e!==null){o=e;do f=o.lane,pe.lanes|=f,Sr|=f,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function go(e){var t=st(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var i=r.dispatch,o=r.pending,f=t.memoizedState;if(o!==null){r.pending=null;var v=o=o.next;do f=e(f,v.action),v=v.next;while(v!==o);ft(f,t.memoizedState)||(Ne=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,i]}function vh(){}function gh(e,t){var r=pe,i=st(),o=t(),f=!ft(i.memoizedState,o);if(f&&(i.memoizedState=o,Ne=!0),i=i.queue,ol(wh.bind(null,r,i,e),[e]),i.getSnapshot!==t||f||Ee!==null&&Ee.memoizedState.tag&1){if(r.flags|=2048,en(9,yh.bind(null,r,i,o,t),void 0,null),ke===null)throw Error(V(349));gr&30||Sh(r,t,o)}return o}function Sh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function yh(e,t,r,i){t.value=r,t.getSnapshot=i,Ch(t)&&Eh(e)}function wh(e,t,r){return r(function(){Ch(t)&&Eh(e)})}function Ch(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ft(e,r)}catch(i){return!0}}function Eh(e){var t=Mt(e,1);t!==null&&dt(t,e,1,-1)}function mc(e){var t=vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:e},t.queue=e,e=e.dispatch=Cp.bind(null,pe,e),[t.memoizedState,e]}function en(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function kh(){return st().memoizedState}function Un(e,t,r,i){var o=vt();pe.flags|=e,o.memoizedState=en(1|t,r,void 0,i===void 0?null:i)}function Ms(e,t,r,i){var o=st();i=i===void 0?null:i;var f=void 0;if(we!==null){var v=we.memoizedState;if(f=v.destroy,i!==null&&il(i,v.deps)){o.memoizedState=en(t,r,f,i);return}}pe.flags|=e,o.memoizedState=en(1|t,r,f,i)}function vc(e,t){return Un(8390656,8,e,t)}function ol(e,t){return Ms(2048,8,e,t)}function xh(e,t){return Ms(4,2,e,t)}function bh(e,t){return Ms(4,4,e,t)}function Lh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Rh(e,t,r){return r=r!=null?r.concat([e]):null,Ms(4,4,Lh.bind(null,t,e),r)}function al(){}function Dh(e,t){var r=st();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&il(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function Ph(e,t){var r=st();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&il(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function Th(e,t,r){return gr&21?(ft(r,t)||(r=Iu(),pe.lanes|=r,Sr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ne=!0),e.memoizedState=r)}function yp(e,t){var r=oe;oe=r!==0&&4>r?r:4,e(!0);var i=mo.transition;mo.transition={};try{e(!1),t()}finally{oe=r,mo.transition=i}}function Mh(){return st().memoizedState}function wp(e,t,r){var i=Jt(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},Ah(e))Oh(t,r);else if(r=_h(e,t,r,i),r!==null){var o=Be();dt(r,e,i,o),Bh(r,t,i)}}function Cp(e,t,r){var i=Jt(e),o={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ah(e))Oh(t,o);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var v=t.lastRenderedState,n=f(v,r);if(o.hasEagerState=!0,o.eagerState=n,ft(n,v)){var l=t.interleaved;l===null?(o.next=o,Ja(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch(h){}finally{}r=_h(e,t,o,i),r!==null&&(o=Be(),dt(r,e,i,o),Bh(r,t,i))}}function Ah(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function Oh(e,t){Oi=_s=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Bh(e,t,r){if(r&4194240){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Ha(e,r)}}var ps={readContext:nt,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},Ep={readContext:nt,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:vc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Un(4194308,4,Lh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Un(4194308,4,e,t)},useInsertionEffect:function(e,t){return Un(4,2,e,t)},useMemo:function(e,t){var r=vt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=vt();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=wp.bind(null,pe,e),[i.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:mc,useDebugValue:al,useDeferredValue:function(e){return vt().memoizedState=e},useTransition:function(){var e=mc(!1),t=e[0];return e=yp.bind(null,e[1]),vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=pe,o=vt();if(de){if(r===void 0)throw Error(V(407));r=r()}else{if(r=t(),ke===null)throw Error(V(349));gr&30||Sh(i,t,r)}o.memoizedState=r;var f={value:r,getSnapshot:t};return o.queue=f,vc(wh.bind(null,i,f,e),[e]),i.flags|=2048,en(9,yh.bind(null,i,f,r,t),void 0,null),r},useId:function(){var e=vt(),t=ke.identifierPrefix;if(de){var r=Lt,i=bt;r=(i&~(1<<32-ht(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ji++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Sp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},kp={readContext:nt,useCallback:Dh,useContext:nt,useEffect:ol,useImperativeHandle:Rh,useInsertionEffect:xh,useLayoutEffect:bh,useMemo:Ph,useReducer:vo,useRef:kh,useState:function(){return vo(Zi)},useDebugValue:al,useDeferredValue:function(e){var t=st();return Th(t,we.memoizedState,e)},useTransition:function(){var e=vo(Zi)[0],t=st().memoizedState;return[e,t]},useMutableSource:vh,useSyncExternalStore:gh,useId:Mh,unstable_isNewReconciler:!1},xp={readContext:nt,useCallback:Dh,useContext:nt,useEffect:ol,useImperativeHandle:Rh,useInsertionEffect:xh,useLayoutEffect:bh,useMemo:Ph,useReducer:go,useRef:kh,useState:function(){return go(Zi)},useDebugValue:al,useDeferredValue:function(e){var t=st();return we===null?t.memoizedState=e:Th(t,we.memoizedState,e)},useTransition:function(){var e=go(Zi)[0],t=st().memoizedState;return[e,t]},useMutableSource:vh,useSyncExternalStore:gh,useId:Mh,unstable_isNewReconciler:!1};function at(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function oa(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var As={isMounted:function(e){return(e=e._reactInternals)?Er(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=Be(),o=Jt(e),f=Dt(i,o);f.payload=t,r!=null&&(f.callback=r),t=Yt(e,f,o),t!==null&&(dt(t,e,o,i),zn(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=Be(),o=Jt(e),f=Dt(i,o);f.tag=1,f.payload=t,r!=null&&(f.callback=r),t=Yt(e,f,o),t!==null&&(dt(t,e,o,i),zn(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Be(),i=Jt(e),o=Dt(r,i);o.tag=2,t!=null&&(o.callback=t),t=Yt(e,o,i),t!==null&&(dt(t,e,i,r),zn(t,e,i))}};function gc(e,t,r,i,o,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,f,v):t.prototype&&t.prototype.isPureReactComponent?!Ki(r,i)||!Ki(o,f):!0}function Ih(e,t,r){var i=!1,o=tr,f=t.contextType;return typeof f=="object"&&f!==null?f=nt(f):(o=je(t)?mr:Me.current,i=t.contextTypes,f=(i=i!=null)?Zr(e,o):tr),t=new t(r,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=As,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=f),t}function Sc(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&As.enqueueReplaceState(t,t.state,null)}function aa(e,t,r,i){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Za(e);var f=t.contextType;typeof f=="object"&&f!==null?o.context=nt(f):(f=je(t)?mr:Me.current,o.context=Zr(e,f)),o.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(oa(e,t,f,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&As.enqueueReplaceState(o,o.state,null),ds(e,r,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ii(e,t){try{var r="",i=t;do r+=Zf(i),i=i.return;while(i);var o=r}catch(f){o="\nError generating stack: "+f.message+"\n"+f.stack}return{value:e,source:t,stack:o,digest:null}}function So(e,t,r){return{value:e,source:null,stack:r!=null?r:null,digest:t!=null?t:null}}function la(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var bp=typeof WeakMap=="function"?WeakMap:Map;function Fh(e,t,r){r=Dt(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){vs||(vs=!0,ga=i),la(e,t)},r}function Hh(e,t,r){r=Dt(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=t.value;r.payload=function(){return i(o)},r.callback=function(){la(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(r.callback=function(){la(e,t),typeof i!="function"&&(Qt===null?Qt=new Set([this]):Qt.add(this));var v=t.stack;this.componentDidCatch(t.value,{componentStack:v!==null?v:""})}),r}function yc(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new bp;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(r)||(o.add(r),e=zp.bind(null,e,t,r),t.then(e,e))}function wc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cc(e,t,r,i,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Dt(-1,1),t.tag=2,Yt(r,t,1))),r.lanes|=1),e)}var Lp=Ot.ReactCurrentOwner,Ne=!1;function Oe(e,t,r,i){t.child=e===null?fh(t,null,r,i):ti(t,e.child,r,i)}function Ec(e,t,r,i,o){r=r.render;var f=t.ref;return Gr(t,o),i=nl(e,t,r,i,f,o),r=sl(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,At(e,t,o)):(de&&r&&Ka(t),t.flags|=1,Oe(e,t,i,o),t.child)}function kc(e,t,r,i,o){if(e===null){var f=r.type;return typeof f=="function"&&!pl(f)&&f.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=f,Nh(e,t,f,i,o)):(e=Kn(r.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!(e.lanes&o)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ki,r(v,i)&&e.ref===t.ref)return At(e,t,o)}return t.flags|=1,e=Zt(f,i),e.ref=t.ref,e.return=t,t.child=e}function Nh(e,t,r,i,o){if(e!==null){var f=e.memoizedProps;if(Ki(f,i)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=i=f,(e.lanes&o)!==0)e.flags&131072&&(Ne=!0);else return t.lanes=e.lanes,At(e,t,o)}return ca(e,t,r,i,o)}function zh(e,t,r){var i=t.pendingProps,o=i.children,f=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(zr,$e),$e|=r;else{if(!(r&1073741824))return e=f!==null?f.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(zr,$e),$e|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=f!==null?f.baseLanes:r,ce(zr,$e),$e|=i}else f!==null?(i=f.baseLanes|r,t.memoizedState=null):i=r,ce(zr,$e),$e|=i;return Oe(e,t,o,r),t.child}function jh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ca(e,t,r,i,o){var f=je(r)?mr:Me.current;return f=Zr(t,f),Gr(t,o),r=nl(e,t,r,i,f,o),i=sl(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,At(e,t,o)):(de&&i&&Ka(t),t.flags|=1,Oe(e,t,r,o),t.child)}function xc(e,t,r,i,o){if(je(r)){var f=!0;as(t)}else f=!1;if(Gr(t,o),t.stateNode===null)Wn(e,t),Ih(t,r,i),aa(t,r,i,o),i=!0;else if(e===null){var v=t.stateNode,n=t.memoizedProps;v.props=n;var l=v.context,h=r.contextType;typeof h=="object"&&h!==null?h=nt(h):(h=je(r)?mr:Me.current,h=Zr(t,h));var p=r.getDerivedStateFromProps,u=typeof p=="function"||typeof v.getSnapshotBeforeUpdate=="function";u||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(n!==i||l!==h)&&Sc(t,v,i,h),zt=!1;var _=t.memoizedState;v.state=_,ds(t,i,v,o),l=t.memoizedState,n!==i||_!==l||ze.current||zt?(typeof p=="function"&&(oa(t,r,p,i),l=t.memoizedState),(n=zt||gc(t,r,n,i,_,l,h))?(u||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(t.flags|=4194308)):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),v.props=i,v.state=l,v.context=h,i=n):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{v=t.stateNode,ph(e,t),n=t.memoizedProps,h=t.type===t.elementType?n:at(t.type,n),v.props=h,u=t.pendingProps,_=v.context,l=r.contextType,typeof l=="object"&&l!==null?l=nt(l):(l=je(r)?mr:Me.current,l=Zr(t,l));var g=r.getDerivedStateFromProps;(p=typeof g=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(n!==u||_!==l)&&Sc(t,v,i,l),zt=!1,_=t.memoizedState,v.state=_,ds(t,i,v,o);var w=t.memoizedState;n!==u||_!==w||ze.current||zt?(typeof g=="function"&&(oa(t,r,g,i),w=t.memoizedState),(h=zt||gc(t,r,h,i,_,w,l)||!1)?(p||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(i,w,l),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(i,w,l)),typeof v.componentDidUpdate=="function"&&(t.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof v.componentDidUpdate!="function"||n===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||n===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=w),v.props=i,v.state=w,v.context=l,i=h):(typeof v.componentDidUpdate!="function"||n===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||n===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),i=!1)}return ua(e,t,r,i,f,o)}function ua(e,t,r,i,o,f){jh(e,t);var v=(t.flags&128)!==0;if(!i&&!v)return o&&uc(t,r,!1),At(e,t,f);i=t.stateNode,Lp.current=t;var n=v&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&v?(t.child=ti(t,e.child,null,f),t.child=ti(t,null,n,f)):Oe(e,t,n,f),t.memoizedState=i.state,o&&uc(t,r,!0),t.child}function Uh(e){var t=e.stateNode;t.pendingContext?cc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cc(e,t.context,!1),el(e,t.containerInfo)}function bc(e,t,r,i,o){return ei(),qa(o),t.flags|=256,Oe(e,t,r,i),t.child}var ha={dehydrated:null,treeContext:null,retryLane:0};function da(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wh(e,t,r){var i=t.pendingProps,o=_e.current,f=!1,v=(t.flags&128)!==0,n;if((n=v)||(n=e!==null&&e.memoizedState===null?!1:(o&2)!==0),n?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ce(_e,o&1),e===null)return na(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(v=i.children,e=i.fallback,f?(i=t.mode,f=t.child,v={mode:"hidden",children:v},!(i&1)&&f!==null?(f.childLanes=0,f.pendingProps=v):f=Is(v,i,0,null),e=pr(e,i,r,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=da(r),t.memoizedState=ha,e):ll(t,v));if(o=e.memoizedState,o!==null&&(n=o.dehydrated,n!==null))return Rp(e,t,v,i,n,o,r);if(f){f=i.fallback,v=t.mode,o=e.child,n=o.sibling;var l={mode:"hidden",children:i.children};return!(v&1)&&t.child!==o?(i=t.child,i.childLanes=0,i.pendingProps=l,t.deletions=null):(i=Zt(o,l),i.subtreeFlags=o.subtreeFlags&14680064),n!==null?f=Zt(n,f):(f=pr(f,v,r,null),f.flags|=2),f.return=t,i.return=t,i.sibling=f,t.child=i,i=f,f=t.child,v=e.child.memoizedState,v=v===null?da(r):{baseLanes:v.baseLanes|r,cachePool:null,transitions:v.transitions},f.memoizedState=v,f.childLanes=e.childLanes&~r,t.memoizedState=ha,i}return f=e.child,e=f.sibling,i=Zt(f,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function ll(e,t){return t=Is({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rn(e,t,r,i){return i!==null&&qa(i),ti(t,e.child,null,r),e=ll(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rp(e,t,r,i,o,f,v){if(r)return t.flags&256?(t.flags&=-257,i=So(Error(V(422))),Rn(e,t,v,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=i.fallback,o=t.mode,i=Is({mode:"visible",children:i.children},o,0,null),f=pr(f,o,v,null),f.flags|=2,i.return=t,f.return=t,i.sibling=f,t.child=i,t.mode&1&&ti(t,e.child,null,v),t.child.memoizedState=da(v),t.memoizedState=ha,f);if(!(t.mode&1))return Rn(e,t,v,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var n=i.dgst;return i=n,f=Error(V(419)),i=So(f,i,void 0),Rn(e,t,v,i)}if(n=(v&e.childLanes)!==0,Ne||n){if(i=ke,i!==null){switch(v&-v){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|v)?0:o,o!==0&&o!==f.retryLane&&(f.retryLane=o,Mt(e,o),dt(i,e,o,-1))}return _l(),i=So(Error(V(421))),Rn(e,t,v,i)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=jp.bind(null,e),o._reactRetry=t,null):(e=f.treeContext,Ge=Xt(o.nextSibling),qe=t,de=!0,ut=null,e!==null&&(Ze[et++]=bt,Ze[et++]=Lt,Ze[et++]=vr,bt=e.id,Lt=e.overflow,vr=t),t=ll(t,i.children),t.flags|=4096,t)}function Lc(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),sa(e.return,t,r)}function yo(e,t,r,i,o){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:o}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=r,f.tailMode=o)}function $h(e,t,r){var i=t.pendingProps,o=i.revealOrder,f=i.tail;if(Oe(e,t,i.children,r),i=_e.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lc(e,r,t);else if(e.tag===19)Lc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ce(_e,i),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&fs(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),yo(t,!1,o,r,f);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&fs(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}yo(t,!0,r,null,f);break;case"together":yo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wn(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function At(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Sr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,r=Zt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Zt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Dp(e,t,r){switch(t.tag){case 3:Uh(t),ei();break;case 5:mh(t);break;case 1:je(t.type)&&as(t);break;case 4:el(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,o=t.memoizedProps.value;ce(us,i._currentValue),i._currentValue=o;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(ce(_e,_e.current&1),t.flags|=128,null):r&t.child.childLanes?Wh(e,t,r):(ce(_e,_e.current&1),e=At(e,t,r),e!==null?e.sibling:null);ce(_e,_e.current&1);break;case 19:if(i=(r&t.childLanes)!==0,e.flags&128){if(i)return $h(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ce(_e,_e.current),i)break;return null;case 22:case 23:return t.lanes=0,zh(e,t,r)}return At(e,t,r)}var Vh,fa,Kh,Gh;Vh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fa=function(){};Kh=function(e,t,r,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,dr(yt.current);var f=null;switch(r){case"input":o=Bo(e,o),i=Bo(e,i),f=[];break;case"select":o=me({},o,{value:void 0}),i=me({},i,{value:void 0}),f=[];break;case"textarea":o=Ho(e,o),i=Ho(e,i),f=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=ss)}zo(r,i);var v;r=null;for(h in o)if(!i.hasOwnProperty(h)&&o.hasOwnProperty(h)&&o[h]!=null)if(h==="style"){var n=o[h];for(v in n)n.hasOwnProperty(v)&&(r||(r={}),r[v]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ni.hasOwnProperty(h)?f||(f=[]):(f=f||[]).push(h,null));for(h in i){var l=i[h];if(n=o!=null?o[h]:void 0,i.hasOwnProperty(h)&&l!==n&&(l!=null||n!=null))if(h==="style")if(n){for(v in n)!n.hasOwnProperty(v)||l&&l.hasOwnProperty(v)||(r||(r={}),r[v]="");for(v in l)l.hasOwnProperty(v)&&n[v]!==l[v]&&(r||(r={}),r[v]=l[v])}else r||(f||(f=[]),f.push(h,r)),r=l;else h==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,n=n?n.__html:void 0,l!=null&&n!==l&&(f=f||[]).push(h,l)):h==="children"?typeof l!="string"&&typeof l!="number"||(f=f||[]).push(h,""+l):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Ni.hasOwnProperty(h)?(l!=null&&h==="onScroll"&&ue("scroll",e),f||n===l||(f=[])):(f=f||[]).push(h,l))}r&&(f=f||[]).push("style",r);var h=f;(t.updateQueue=h)&&(t.flags|=4)}};Gh=function(e,t,r,i){r!==i&&(t.flags|=4)};function mi(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function Pp(e,t,r){var i=t.pendingProps;switch(Ga(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return je(t.type)&&os(),Pe(t),null;case 3:return i=t.stateNode,ri(),he(ze),he(Me),rl(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(bn(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ut!==null&&(wa(ut),ut=null))),fa(e,t),Pe(t),null;case 5:tl(t);var o=dr(Qi.current);if(r=t.type,e!==null&&t.stateNode!=null)Kh(e,t,r,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(V(166));return Pe(t),null}if(e=dr(yt.current),bn(t)){i=t.stateNode,r=t.type;var f=t.memoizedProps;switch(i[gt]=t,i[Xi]=f,e=(t.mode&1)!==0,r){case"dialog":ue("cancel",i),ue("close",i);break;case"iframe":case"object":case"embed":ue("load",i);break;case"video":case"audio":for(o=0;o<xi.length;o++)ue(xi[o],i);break;case"source":ue("error",i);break;case"img":case"image":case"link":ue("error",i),ue("load",i);break;case"details":ue("toggle",i);break;case"input":Il(i,f),ue("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!f.multiple},ue("invalid",i);break;case"textarea":Hl(i,f),ue("invalid",i)}zo(r,f),o=null;for(var v in f)if(f.hasOwnProperty(v)){var n=f[v];v==="children"?typeof n=="string"?i.textContent!==n&&(f.suppressHydrationWarning!==!0&&xn(i.textContent,n,e),o=["children",n]):typeof n=="number"&&i.textContent!==""+n&&(f.suppressHydrationWarning!==!0&&xn(i.textContent,n,e),o=["children",""+n]):Ni.hasOwnProperty(v)&&n!=null&&v==="onScroll"&&ue("scroll",i)}switch(r){case"input":vn(i),Fl(i,f,!0);break;case"textarea":vn(i),Nl(i);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(i.onclick=ss)}i=o,t.updateQueue=i,i!==null&&(t.flags|=4)}else{v=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wu(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=v.createElement(r,{is:i.is}):(e=v.createElement(r),r==="select"&&(v=e,i.multiple?v.multiple=!0:i.size&&(v.size=i.size))):e=v.createElementNS(e,r),e[gt]=t,e[Xi]=i,Vh(e,t,!1,!1),t.stateNode=e;e:{switch(v=jo(r,i),r){case"dialog":ue("cancel",e),ue("close",e),o=i;break;case"iframe":case"object":case"embed":ue("load",e),o=i;break;case"video":case"audio":for(o=0;o<xi.length;o++)ue(xi[o],e);o=i;break;case"source":ue("error",e),o=i;break;case"img":case"image":case"link":ue("error",e),ue("load",e),o=i;break;case"details":ue("toggle",e),o=i;break;case"input":Il(e,i),o=Bo(e,i),ue("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=me({},i,{value:void 0}),ue("invalid",e);break;case"textarea":Hl(e,i),o=Ho(e,i),ue("invalid",e);break;default:o=i}zo(r,o),n=o;for(f in n)if(n.hasOwnProperty(f)){var l=n[f];f==="style"?ku(e,l):f==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Cu(e,l)):f==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&zi(e,l):typeof l=="number"&&zi(e,""+l):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Ni.hasOwnProperty(f)?l!=null&&f==="onScroll"&&ue("scroll",e):l!=null&&Ma(e,f,l,v))}switch(r){case"input":vn(e),Fl(e,i,!1);break;case"textarea":vn(e),Nl(e);break;case"option":i.value!=null&&e.setAttribute("value",""+er(i.value));break;case"select":e.multiple=!!i.multiple,f=i.value,f!=null?Wr(e,!!i.multiple,f,!1):i.defaultValue!=null&&Wr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ss)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pe(t),null;case 6:if(e&&t.stateNode!=null)Gh(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(V(166));if(r=dr(Qi.current),dr(yt.current),bn(t)){if(i=t.stateNode,r=t.memoizedProps,i[gt]=t,(f=i.nodeValue!==r)&&(e=qe,e!==null))switch(e.tag){case 3:xn(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xn(i.nodeValue,r,(e.mode&1)!==0)}f&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[gt]=t,t.stateNode=i}return Pe(t),null;case 13:if(he(_e),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(de&&Ge!==null&&t.mode&1&&!(t.flags&128))hh(),ei(),t.flags|=98560,f=!1;else if(f=bn(t),i!==null&&i.dehydrated!==null){if(e===null){if(!f)throw Error(V(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(V(317));f[gt]=t}else ei(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pe(t),f=!1}else ut!==null&&(wa(ut),ut=null),f=!0;if(!f)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||_e.current&1?Ce===0&&(Ce=3):_l())),t.updateQueue!==null&&(t.flags|=4),Pe(t),null);case 4:return ri(),fa(e,t),e===null&&Gi(t.stateNode.containerInfo),Pe(t),null;case 10:return Qa(t.type._context),Pe(t),null;case 17:return je(t.type)&&os(),Pe(t),null;case 19:if(he(_e),f=t.memoizedState,f===null)return Pe(t),null;if(i=(t.flags&128)!==0,v=f.rendering,v===null)if(i)mi(f,!1);else{if(Ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(v=fs(e),v!==null){for(t.flags|=128,mi(f,!1),i=v.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)f=r,e=i,f.flags&=14680066,v=f.alternate,v===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=v.childLanes,f.lanes=v.lanes,f.child=v.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=v.memoizedProps,f.memoizedState=v.memoizedState,f.updateQueue=v.updateQueue,f.type=v.type,e=v.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ce(_e,_e.current&1|2),t.child}e=e.sibling}f.tail!==null&&Se()>ni&&(t.flags|=128,i=!0,mi(f,!1),t.lanes=4194304)}else{if(!i)if(e=fs(v),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),mi(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!de)return Pe(t),null}else 2*Se()-f.renderingStartTime>ni&&r!==1073741824&&(t.flags|=128,i=!0,mi(f,!1),t.lanes=4194304);f.isBackwards?(v.sibling=t.child,t.child=v):(r=f.last,r!==null?r.sibling=v:t.child=v,f.last=v)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Se(),t.sibling=null,r=_e.current,ce(_e,i?r&1|2:r&1),t):(Pe(t),null);case 22:case 23:return fl(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?$e&1073741824&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function Tp(e,t){switch(Ga(t),t.tag){case 1:return je(t.type)&&os(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ri(),he(ze),he(Me),rl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tl(t),null;case 13:if(he(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));ei()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(_e),null;case 4:return ri(),null;case 10:return Qa(t.type._context),null;case 22:case 23:return fl(),null;case 24:return null;default:return null}}var Dn=!1,Te=!1,Mp=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Nr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){ve(e,t,i)}else r.current=null}function _a(e,t,r){try{r()}catch(i){ve(e,t,i)}}var Rc=!1;function Ap(e,t){if(Qo=rs,e=Ju(),Va(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var o=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{r.nodeType,f.nodeType}catch(m){r=null;break e}var v=0,n=-1,l=-1,h=0,p=0,u=e,_=null;t:for(;;){for(var g;u!==r||o!==0&&u.nodeType!==3||(n=v+o),u!==f||i!==0&&u.nodeType!==3||(l=v+i),u.nodeType===3&&(v+=u.nodeValue.length),(g=u.firstChild)!==null;)_=u,u=g;for(;;){if(u===e)break t;if(_===r&&++h===o&&(n=v),_===f&&++p===i&&(l=v),(g=u.nextSibling)!==null)break;u=_,_=u.parentNode}u=g}r=n===-1||l===-1?null:{start:n,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jo={focusedElem:e,selectionRange:r},rs=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,d=w.memoizedState,c=t.stateNode,s=c.getSnapshotBeforeUpdate(t.elementType===t.type?S:at(t.type,S),d);c.__reactInternalSnapshotBeforeUpdate=s}break;case 3:var a=t.stateNode.containerInfo;a.nodeType===1?a.textContent="":a.nodeType===9&&a.documentElement&&a.removeChild(a.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(m){ve(t,t.return,m)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return w=Rc,Rc=!1,w}function Bi(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var f=o.destroy;o.destroy=void 0,f!==void 0&&_a(t,r,f)}o=o.next}while(o!==i)}}function Os(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function pa(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function qh(e){var t=e.alternate;t!==null&&(e.alternate=null,qh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gt],delete t[Xi],delete t[ta],delete t[pp],delete t[mp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xh(e){return e.tag===5||e.tag===3||e.tag===4}function Dc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ma(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ss));else if(i!==4&&(e=e.child,e!==null))for(ma(e,t,r),e=e.sibling;e!==null;)ma(e,t,r),e=e.sibling}function va(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(va(e,t,r),e=e.sibling;e!==null;)va(e,t,r),e=e.sibling}var be=null,ct=!1;function Ht(e,t,r){for(r=r.child;r!==null;)Yh(e,t,r),r=r.sibling}function Yh(e,t,r){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(bs,r)}catch(n){}switch(r.tag){case 5:Te||Nr(r,t);case 6:var i=be,o=ct;be=null,Ht(e,t,r),be=i,ct=o,be!==null&&(ct?(e=be,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):be.removeChild(r.stateNode));break;case 18:be!==null&&(ct?(e=be,r=r.stateNode,e.nodeType===8?fo(e.parentNode,r):e.nodeType===1&&fo(e,r),$i(e)):fo(be,r.stateNode));break;case 4:i=be,o=ct,be=r.stateNode.containerInfo,ct=!0,Ht(e,t,r),be=i,ct=o;break;case 0:case 11:case 14:case 15:if(!Te&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var f=o,v=f.destroy;f=f.tag,v!==void 0&&(f&2||f&4)&&_a(r,t,v),o=o.next}while(o!==i)}Ht(e,t,r);break;case 1:if(!Te&&(Nr(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(n){ve(r,t,n)}Ht(e,t,r);break;case 21:Ht(e,t,r);break;case 22:r.mode&1?(Te=(i=Te)||r.memoizedState!==null,Ht(e,t,r),Te=i):Ht(e,t,r);break;default:Ht(e,t,r)}}function Pc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Mp),t.forEach(function(i){var o=Up.bind(null,e,i);r.has(i)||(r.add(i),i.then(o,o))})}}function ot(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var o=r[i];try{var f=e,v=t,n=v;e:for(;n!==null;){switch(n.tag){case 5:be=n.stateNode,ct=!1;break e;case 3:be=n.stateNode.containerInfo,ct=!0;break e;case 4:be=n.stateNode.containerInfo,ct=!0;break e}n=n.return}if(be===null)throw Error(V(160));Yh(f,v,o),be=null,ct=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(h){ve(o,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Qh(t,e),t=t.sibling}function Qh(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ot(t,e),mt(e),i&4){try{Bi(3,e,e.return),Os(3,e)}catch(S){ve(e,e.return,S)}try{Bi(5,e,e.return)}catch(S){ve(e,e.return,S)}}break;case 1:ot(t,e),mt(e),i&512&&r!==null&&Nr(r,r.return);break;case 5:if(ot(t,e),mt(e),i&512&&r!==null&&Nr(r,r.return),e.flags&32){var o=e.stateNode;try{zi(o,"")}catch(S){ve(e,e.return,S)}}if(i&4&&(o=e.stateNode,o!=null)){var f=e.memoizedProps,v=r!==null?r.memoizedProps:f,n=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{n==="input"&&f.type==="radio"&&f.name!=null&&Su(o,f),jo(n,v);var h=jo(n,f);for(v=0;v<l.length;v+=2){var p=l[v],u=l[v+1];p==="style"?ku(o,u):p==="dangerouslySetInnerHTML"?Cu(o,u):p==="children"?zi(o,u):Ma(o,p,u,h)}switch(n){case"input":Io(o,f);break;case"textarea":yu(o,f);break;case"select":var _=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!f.multiple;var g=f.value;g!=null?Wr(o,!!f.multiple,g,!1):_!==!!f.multiple&&(f.defaultValue!=null?Wr(o,!!f.multiple,f.defaultValue,!0):Wr(o,!!f.multiple,f.multiple?[]:"",!1))}o[Xi]=f}catch(S){ve(e,e.return,S)}}break;case 6:if(ot(t,e),mt(e),i&4){if(e.stateNode===null)throw Error(V(162));o=e.stateNode,f=e.memoizedProps;try{o.nodeValue=f}catch(S){ve(e,e.return,S)}}break;case 3:if(ot(t,e),mt(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{$i(t.containerInfo)}catch(S){ve(e,e.return,S)}break;case 4:ot(t,e),mt(e);break;case 13:ot(t,e),mt(e),o=e.child,o.flags&8192&&(f=o.memoizedState!==null,o.stateNode.isHidden=f,!f||o.alternate!==null&&o.alternate.memoizedState!==null||(hl=Se())),i&4&&Pc(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(Te=(h=Te)||p,ot(t,e),Te=h):ot(t,e),mt(e),i&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!p&&e.mode&1)for(Q=e,p=e.child;p!==null;){for(u=Q=p;Q!==null;){switch(_=Q,g=_.child,_.tag){case 0:case 11:case 14:case 15:Bi(4,_,_.return);break;case 1:Nr(_,_.return);var w=_.stateNode;if(typeof w.componentWillUnmount=="function"){i=_,r=_.return;try{t=i,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(S){ve(i,r,S)}}break;case 5:Nr(_,_.return);break;case 22:if(_.memoizedState!==null){Mc(u);continue}}g!==null?(g.return=_,Q=g):Mc(u)}p=p.sibling}e:for(p=null,u=e;;){if(u.tag===5){if(p===null){p=u;try{o=u.stateNode,h?(f=o.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(n=u.stateNode,l=u.memoizedProps.style,v=l!=null&&l.hasOwnProperty("display")?l.display:null,n.style.display=Eu("display",v))}catch(S){ve(e,e.return,S)}}}else if(u.tag===6){if(p===null)try{u.stateNode.nodeValue=h?"":u.memoizedProps}catch(S){ve(e,e.return,S)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===e)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;u.sibling===null;){if(u.return===null||u.return===e)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:ot(t,e),mt(e),i&4&&Pc(e);break;case 21:break;default:ot(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Xh(r)){var i=r;break e}r=r.return}throw Error(V(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(zi(o,""),i.flags&=-33);var f=Dc(e);va(e,f,o);break;case 3:case 4:var v=i.stateNode.containerInfo,n=Dc(e);ma(e,n,v);break;default:throw Error(V(161))}}catch(l){ve(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Op(e,t,r){Q=e,Jh(e)}function Jh(e,t,r){for(var i=(e.mode&1)!==0;Q!==null;){var o=Q,f=o.child;if(o.tag===22&&i){var v=o.memoizedState!==null||Dn;if(!v){var n=o.alternate,l=n!==null&&n.memoizedState!==null||Te;n=Dn;var h=Te;if(Dn=v,(Te=l)&&!h)for(Q=o;Q!==null;)v=Q,l=v.child,v.tag===22&&v.memoizedState!==null?Ac(o):l!==null?(l.return=v,Q=l):Ac(o);for(;f!==null;)Q=f,Jh(f),f=f.sibling;Q=o,Dn=n,Te=h}Tc(e)}else o.subtreeFlags&8772&&f!==null?(f.return=o,Q=f):Tc(e)}}function Tc(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||Os(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Te)if(r===null)i.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:at(t.type,r.memoizedProps);i.componentDidUpdate(o,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&pc(t,f,i);break;case 3:var v=t.updateQueue;if(v!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}pc(t,v,r)}break;case 5:var n=t.stateNode;if(r===null&&t.flags&4){r=n;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var u=p.dehydrated;u!==null&&$i(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Te||t.flags&512&&pa(t)}catch(_){ve(t,t.return,_)}}if(t===e){Q=null;break}if(r=t.sibling,r!==null){r.return=t.return,Q=r;break}Q=t.return}}function Mc(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Q=r;break}Q=t.return}}function Ac(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Os(4,t)}catch(l){ve(t,r,l)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var o=t.return;try{i.componentDidMount()}catch(l){ve(t,o,l)}}var f=t.return;try{pa(t)}catch(l){ve(t,f,l)}break;case 5:var v=t.return;try{pa(t)}catch(l){ve(t,v,l)}}}catch(l){ve(t,t.return,l)}if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}var Bp=Math.ceil,ms=Ot.ReactCurrentDispatcher,cl=Ot.ReactCurrentOwner,it=Ot.ReactCurrentBatchConfig,se=0,ke=null,ye=null,Le=0,$e=0,zr=ir(0),Ce=0,tn=null,Sr=0,Bs=0,ul=0,Ii=null,He=null,hl=0,ni=1/0,kt=null,vs=!1,ga=null,Qt=null,Pn=!1,Vt=null,gs=0,Fi=0,Sa=null,$n=-1,Vn=0;function Be(){return se&6?Se():$n!==-1?$n:$n=Se()}function Jt(e){return e.mode&1?se&2&&Le!==0?Le&-Le:gp.transition!==null?(Vn===0&&(Vn=Iu()),Vn):(e=oe,e!==0||(e=window.event,e=e===void 0?16:Wu(e.type)),e):1}function dt(e,t,r,i){if(50<Fi)throw Fi=0,Sa=null,Error(V(185));nn(e,r,i),(!(se&2)||e!==ke)&&(e===ke&&(!(se&2)&&(Bs|=r),Ce===4&&Ut(e,Le)),Ue(e,i),r===1&&se===0&&!(t.mode&1)&&(ni=Se()+500,Ts&&nr()))}function Ue(e,t){var r=e.callbackNode;g_(e,t);var i=ts(e,e===ke?Le:0);if(i===0)r!==null&&Ul(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&Ul(r),t===1)e.tag===0?vp(Oc.bind(null,e)):lh(Oc.bind(null,e)),fp(function(){!(se&6)&&nr()}),r=null;else{switch(Fu(i)){case 1:r=Fa;break;case 4:r=Ou;break;case 16:r=es;break;case 536870912:r=Bu;break;default:r=es}r=od(r,Zh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Zh(e,t){if($n=-1,Vn=0,se&6)throw Error(V(327));var r=e.callbackNode;if(qr()&&e.callbackNode!==r)return null;var i=ts(e,e===ke?Le:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Ss(e,i);else{t=i;var o=se;se|=2;var f=td();(ke!==e||Le!==t)&&(kt=null,ni=Se()+500,_r(e,t));do try{Hp();break}catch(n){ed(e,n)}while(!0);Ya(),ms.current=f,se=o,ye!==null?t=0:(ke=null,Le=0,t=Ce)}if(t!==0){if(t===2&&(o=Ko(e),o!==0&&(i=o,t=ya(e,o))),t===1)throw r=tn,_r(e,0),Ut(e,i),Ue(e,Se()),r;if(t===6)Ut(e,i);else{if(o=e.current.alternate,!(i&30)&&!Ip(o)&&(t=Ss(e,i),t===2&&(f=Ko(e),f!==0&&(i=f,t=ya(e,f))),t===1))throw r=tn,_r(e,0),Ut(e,i),Ue(e,Se()),r;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(V(345));case 2:lr(e,He,kt);break;case 3:if(Ut(e,i),(i&130023424)===i&&(t=hl+500-Se(),10<t)){if(ts(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){Be(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ea(lr.bind(null,e,He,kt),t);break}lr(e,He,kt);break;case 4:if(Ut(e,i),(i&4194240)===i)break;for(t=e.eventTimes,o=-1;0<i;){var v=31-ht(i);f=1<<v,v=t[v],v>o&&(o=v),i&=~f}if(i=o,i=Se()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Bp(i/1960))-i,10<i){e.timeoutHandle=ea(lr.bind(null,e,He,kt),i);break}lr(e,He,kt);break;case 5:lr(e,He,kt);break;default:throw Error(V(329))}}}return Ue(e,Se()),e.callbackNode===r?Zh.bind(null,e):null}function ya(e,t){var r=Ii;return e.current.memoizedState.isDehydrated&&(_r(e,t).flags|=256),e=Ss(e,t),e!==2&&(t=He,He=r,t!==null&&wa(t)),e}function wa(e){He===null?He=e:He.push.apply(He,e)}function Ip(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var o=r[i],f=o.getSnapshot;o=o.value;try{if(!ft(f(),o))return!1}catch(v){return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ut(e,t){for(t&=~ul,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ht(t),i=1<<r;e[r]=-1,t&=~i}}function Oc(e){if(se&6)throw Error(V(327));qr();var t=ts(e,0);if(!(t&1))return Ue(e,Se()),null;var r=Ss(e,t);if(e.tag!==0&&r===2){var i=Ko(e);i!==0&&(t=i,r=ya(e,i))}if(r===1)throw r=tn,_r(e,0),Ut(e,t),Ue(e,Se()),r;if(r===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lr(e,He,kt),Ue(e,Se()),null}function dl(e,t){var r=se;se|=1;try{return e(t)}finally{se=r,se===0&&(ni=Se()+500,Ts&&nr())}}function yr(e){Vt!==null&&Vt.tag===0&&!(se&6)&&qr();var t=se;se|=1;var r=it.transition,i=oe;try{if(it.transition=null,oe=1,e)return e()}finally{oe=i,it.transition=r,se=t,!(se&6)&&nr()}}function fl(){$e=zr.current,he(zr)}function _r(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,dp(r)),ye!==null)for(r=ye.return;r!==null;){var i=r;switch(Ga(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&os();break;case 3:ri(),he(ze),he(Me),rl();break;case 5:tl(i);break;case 4:ri();break;case 13:he(_e);break;case 19:he(_e);break;case 10:Qa(i.type._context);break;case 22:case 23:fl()}r=r.return}if(ke=e,ye=e=Zt(e.current,null),Le=$e=t,Ce=0,tn=null,ul=Bs=Sr=0,He=Ii=null,hr!==null){for(t=0;t<hr.length;t++)if(r=hr[t],i=r.interleaved,i!==null){r.interleaved=null;var o=i.next,f=r.pending;if(f!==null){var v=f.next;f.next=o,i.next=v}r.pending=i}hr=null}return e}function ed(e,t){do{var r=ye;try{if(Ya(),jn.current=ps,_s){for(var i=pe.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}_s=!1}if(gr=0,Ee=we=pe=null,Oi=!1,Ji=0,cl.current=null,r===null||r.return===null){Ce=1,tn=t,ye=null;break}e:{var f=e,v=r.return,n=r,l=t;if(t=Le,n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=l,p=n,u=p.tag;if(!(p.mode&1)&&(u===0||u===11||u===15)){var _=p.alternate;_?(p.updateQueue=_.updateQueue,p.memoizedState=_.memoizedState,p.lanes=_.lanes):(p.updateQueue=null,p.memoizedState=null)}var g=wc(v);if(g!==null){g.flags&=-257,Cc(g,v,n,f,t),g.mode&1&&yc(f,h,t),t=g,l=h;var w=t.updateQueue;if(w===null){var S=new Set;S.add(l),t.updateQueue=S}else w.add(l);break e}else{if(!(t&1)){yc(f,h,t),_l();break e}l=Error(V(426))}}else if(de&&n.mode&1){var d=wc(v);if(d!==null){!(d.flags&65536)&&(d.flags|=256),Cc(d,v,n,f,t),qa(ii(l,n));break e}}f=l=ii(l,n),Ce!==4&&(Ce=2),Ii===null?Ii=[f]:Ii.push(f),f=v;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var c=Fh(f,l,t);_c(f,c);break e;case 1:n=l;var s=f.type,a=f.stateNode;if(!(f.flags&128)&&(typeof s.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Qt===null||!Qt.has(a)))){f.flags|=65536,t&=-t,f.lanes|=t;var m=Hh(f,n,t);_c(f,m);break e}}f=f.return}while(f!==null)}id(r)}catch(E){t=E,ye===r&&r!==null&&(ye=r=r.return);continue}break}while(!0)}function td(){var e=ms.current;return ms.current=ps,e===null?ps:e}function _l(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),ke===null||!(Sr&268435455)&&!(Bs&268435455)||Ut(ke,Le)}function Ss(e,t){var r=se;se|=2;var i=td();(ke!==e||Le!==t)&&(kt=null,_r(e,t));do try{Fp();break}catch(o){ed(e,o)}while(!0);if(Ya(),se=r,ms.current=i,ye!==null)throw Error(V(261));return ke=null,Le=0,Ce}function Fp(){for(;ye!==null;)rd(ye)}function Hp(){for(;ye!==null&&!c_();)rd(ye)}function rd(e){var t=sd(e.alternate,e,$e);e.memoizedProps=e.pendingProps,t===null?id(e):ye=t,cl.current=null}function id(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Tp(r,t),r!==null){r.flags&=32767,ye=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ce=6,ye=null;return}}else if(r=Pp(r,t,$e),r!==null){ye=r;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);Ce===0&&(Ce=5)}function lr(e,t,r){var i=oe,o=it.transition;try{it.transition=null,oe=1,Np(e,t,r,i)}finally{it.transition=o,oe=i}return null}function Np(e,t,r,i){do qr();while(Vt!==null);if(se&6)throw Error(V(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var f=r.lanes|r.childLanes;if(S_(e,f),e===ke&&(ye=ke=null,Le=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Pn||(Pn=!0,od(es,function(){return qr(),null})),f=(r.flags&15990)!==0,r.subtreeFlags&15990||f){f=it.transition,it.transition=null;var v=oe;oe=1;var n=se;se|=4,cl.current=null,Ap(e,r),Qh(r,e),sp(Jo),rs=!!Qo,Jo=Qo=null,e.current=r,Op(r),u_(),se=n,oe=v,it.transition=f}else e.current=r;if(Pn&&(Pn=!1,Vt=e,gs=o),f=e.pendingLanes,f===0&&(Qt=null),f_(r.stateNode),Ue(e,Se()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],i(o.value,{componentStack:o.stack,digest:o.digest});if(vs)throw vs=!1,e=ga,ga=null,e;return gs&1&&e.tag!==0&&qr(),f=e.pendingLanes,f&1?e===Sa?Fi++:(Fi=0,Sa=e):Fi=0,nr(),null}function qr(){if(Vt!==null){var e=Fu(gs),t=it.transition,r=oe;try{if(it.transition=null,oe=16>e?16:e,Vt===null)var i=!1;else{if(e=Vt,Vt=null,gs=0,se&6)throw Error(V(331));var o=se;for(se|=4,Q=e.current;Q!==null;){var f=Q,v=f.child;if(Q.flags&16){var n=f.deletions;if(n!==null){for(var l=0;l<n.length;l++){var h=n[l];for(Q=h;Q!==null;){var p=Q;switch(p.tag){case 0:case 11:case 15:Bi(8,p,f)}var u=p.child;if(u!==null)u.return=p,Q=u;else for(;Q!==null;){p=Q;var _=p.sibling,g=p.return;if(qh(p),p===h){Q=null;break}if(_!==null){_.return=g,Q=_;break}Q=g}}}var w=f.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var d=S.sibling;S.sibling=null,S=d}while(S!==null)}}Q=f}}if(f.subtreeFlags&2064&&v!==null)v.return=f,Q=v;else e:for(;Q!==null;){if(f=Q,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Bi(9,f,f.return)}var c=f.sibling;if(c!==null){c.return=f.return,Q=c;break e}Q=f.return}}var s=e.current;for(Q=s;Q!==null;){v=Q;var a=v.child;if(v.subtreeFlags&2064&&a!==null)a.return=v,Q=a;else e:for(v=s;Q!==null;){if(n=Q,n.flags&2048)try{switch(n.tag){case 0:case 11:case 15:Os(9,n)}}catch(E){ve(n,n.return,E)}if(n===v){Q=null;break e}var m=n.sibling;if(m!==null){m.return=n.return,Q=m;break e}Q=n.return}}if(se=o,nr(),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(bs,e)}catch(E){}i=!0}return i}finally{oe=r,it.transition=t}}return!1}function Bc(e,t,r){t=ii(r,t),t=Fh(e,t,1),e=Yt(e,t,1),t=Be(),e!==null&&(nn(e,1,t),Ue(e,t))}function ve(e,t,r){if(e.tag===3)Bc(e,e,r);else for(;t!==null;){if(t.tag===3){Bc(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Qt===null||!Qt.has(i))){e=ii(r,e),e=Hh(t,e,1),t=Yt(t,e,1),e=Be(),t!==null&&(nn(t,1,e),Ue(t,e));break}}t=t.return}}function zp(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=Be(),e.pingedLanes|=e.suspendedLanes&r,ke===e&&(Le&r)===r&&(Ce===4||Ce===3&&(Le&130023424)===Le&&500>Se()-hl?_r(e,0):ul|=r),Ue(e,t)}function nd(e,t){t===0&&(e.mode&1?(t=yn,yn<<=1,!(yn&130023424)&&(yn=4194304)):t=1);var r=Be();e=Mt(e,t),e!==null&&(nn(e,t,r),Ue(e,r))}function jp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),nd(e,r)}function Up(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(V(314))}i!==null&&i.delete(t),nd(e,r)}var sd;sd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ze.current)Ne=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ne=!1,Dp(e,t,r);Ne=!!(e.flags&131072)}else Ne=!1,de&&t.flags&1048576&&ch(t,cs,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Wn(e,t),e=t.pendingProps;var o=Zr(t,Me.current);Gr(t,r),o=nl(null,t,i,e,o,r);var f=sl();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,je(i)?(f=!0,as(t)):f=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Za(t),o.updater=As,t.stateNode=o,o._reactInternals=t,aa(t,i,e,r),t=ua(null,t,i,!0,f,r)):(t.tag=0,de&&f&&Ka(t),Oe(null,t,o,r),t=t.child),t;case 16:i=t.elementType;e:{switch(Wn(e,t),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=$p(i),e=at(i,e),o){case 0:t=ca(null,t,i,e,r);break e;case 1:t=xc(null,t,i,e,r);break e;case 11:t=Ec(null,t,i,e,r);break e;case 14:t=kc(null,t,i,at(i.type,e),r);break e}throw Error(V(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:at(i,o),ca(e,t,i,o,r);case 1:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:at(i,o),xc(e,t,i,o,r);case 3:e:{if(Uh(t),e===null)throw Error(V(387));i=t.pendingProps,f=t.memoizedState,o=f.element,ph(e,t),ds(t,i,null,r);var v=t.memoizedState;if(i=v.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){o=ii(Error(V(423)),t),t=bc(e,t,i,r,o);break e}else if(i!==o){o=ii(Error(V(424)),t),t=bc(e,t,i,r,o);break e}else for(Ge=Xt(t.stateNode.containerInfo.firstChild),qe=t,de=!0,ut=null,r=fh(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ei(),i===o){t=At(e,t,r);break e}Oe(e,t,i,r)}t=t.child}return t;case 5:return mh(t),e===null&&na(t),i=t.type,o=t.pendingProps,f=e!==null?e.memoizedProps:null,v=o.children,Zo(i,o)?v=null:f!==null&&Zo(i,f)&&(t.flags|=32),jh(e,t),Oe(e,t,v,r),t.child;case 6:return e===null&&na(t),null;case 13:return Wh(e,t,r);case 4:return el(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ti(t,null,i,r):Oe(e,t,i,r),t.child;case 11:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:at(i,o),Ec(e,t,i,o,r);case 7:return Oe(e,t,t.pendingProps,r),t.child;case 8:return Oe(e,t,t.pendingProps.children,r),t.child;case 12:return Oe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,o=t.pendingProps,f=t.memoizedProps,v=o.value,ce(us,i._currentValue),i._currentValue=v,f!==null)if(ft(f.value,v)){if(f.children===o.children&&!ze.current){t=At(e,t,r);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var n=f.dependencies;if(n!==null){v=f.child;for(var l=n.firstContext;l!==null;){if(l.context===i){if(f.tag===1){l=Dt(-1,r&-r),l.tag=2;var h=f.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?l.next=l:(l.next=p.next,p.next=l),h.pending=l}}f.lanes|=r,l=f.alternate,l!==null&&(l.lanes|=r),sa(f.return,r,t),n.lanes|=r;break}l=l.next}}else if(f.tag===10)v=f.type===t.type?null:f.child;else if(f.tag===18){if(v=f.return,v===null)throw Error(V(341));v.lanes|=r,n=v.alternate,n!==null&&(n.lanes|=r),sa(v,r,t),v=f.sibling}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}Oe(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,Gr(t,r),o=nt(o),i=i(o),t.flags|=1,Oe(e,t,i,r),t.child;case 14:return i=t.type,o=at(i,t.pendingProps),o=at(i.type,o),kc(e,t,i,o,r);case 15:return Nh(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:at(i,o),Wn(e,t),t.tag=1,je(i)?(e=!0,as(t)):e=!1,Gr(t,r),Ih(t,i,o),aa(t,i,o,r),ua(null,t,i,!0,e,r);case 19:return $h(e,t,r);case 22:return zh(e,t,r)}throw Error(V(156,t.tag))};function od(e,t){return Au(e,t)}function Wp(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(e,t,r,i){return new Wp(e,t,r,i)}function pl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $p(e){if(typeof e=="function")return pl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Oa)return 11;if(e===Ba)return 14}return 2}function Zt(e,t){var r=e.alternate;return r===null?(r=tt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Kn(e,t,r,i,o,f){var v=2;if(i=e,typeof e=="function")pl(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case Pr:return pr(r.children,o,f,t);case Aa:v=8,o|=8;break;case To:return e=tt(12,r,t,o|2),e.elementType=To,e.lanes=f,e;case Mo:return e=tt(13,r,t,o),e.elementType=Mo,e.lanes=f,e;case Ao:return e=tt(19,r,t,o),e.elementType=Ao,e.lanes=f,e;case mu:return Is(r,o,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _u:v=10;break e;case pu:v=9;break e;case Oa:v=11;break e;case Ba:v=14;break e;case Nt:v=16,i=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=tt(v,r,t,o),t.elementType=e,t.type=i,t.lanes=f,t}function pr(e,t,r,i){return e=tt(7,e,i,t),e.lanes=r,e}function Is(e,t,r,i){return e=tt(22,e,i,t),e.elementType=mu,e.lanes=r,e.stateNode={isHidden:!1},e}function wo(e,t,r){return e=tt(6,e,null,t),e.lanes=r,e}function Co(e,t,r){return t=tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vp(e,t,r,i,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=to(0),this.expirationTimes=to(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=to(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ml(e,t,r,i,o,f,v,n,l){return e=new Vp(e,t,r,n,l),t===1?(t=1,f===!0&&(t|=8)):t=0,f=tt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Za(f),e}function Kp(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dr,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function ad(e){if(!e)return tr;e=e._reactInternals;e:{if(Er(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var r=e.type;if(je(r))return ah(e,r,t)}return t}function ld(e,t,r,i,o,f,v,n,l){return e=ml(r,i,!0,e,o,f,v,n,l),e.context=ad(null),r=e.current,i=Be(),o=Jt(r),f=Dt(i,o),f.callback=t!=null?t:null,Yt(r,f,o),e.current.lanes=o,nn(e,o,i),Ue(e,i),e}function Fs(e,t,r,i){var o=t.current,f=Be(),v=Jt(o);return r=ad(r),t.context===null?t.context=r:t.pendingContext=r,t=Dt(f,v),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Yt(o,t,v),e!==null&&(dt(e,o,v,f),zn(e,o,v)),v}function ys(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ic(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function vl(e,t){Ic(e,t),(e=e.alternate)&&Ic(e,t)}var cd=typeof reportError=="function"?reportError:function(e){console.error(e)};function gl(e){this._internalRoot=e}Hs.prototype.render=gl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));Fs(e,t,null,null)};Hs.prototype.unmount=gl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yr(function(){Fs(null,e,null,null)}),t[Tt]=null}};function Hs(e){this._internalRoot=e}Hs.prototype.unstable_scheduleHydration=function(e){if(e){var t=zu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<jt.length&&t!==0&&t<jt[r].priority;r++);jt.splice(r,0,e),r===0&&Uu(e)}};function Sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ns(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fc(){}function Gp(e,t,r,i,o){if(o){if(typeof i=="function"){var f=i;i=function(){var h=ys(v);f.call(h)}}var v=ld(t,i,e,0,null,!1,!1,"",Fc);return e._reactRootContainer=v,e[Tt]=v.current,Gi(e.nodeType===8?e.parentNode:e),yr(),v}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var n=i;i=function(){var h=ys(l);n.call(h)}}var l=ml(e,0,!1,null,null,!1,!1,"",Fc);return e._reactRootContainer=l,e[Tt]=l.current,Gi(e.nodeType===8?e.parentNode:e),yr(function(){Fs(t,l,r,i)}),l}function zs(e,t,r,i,o){var f=r._reactRootContainer;if(f){var v=f;if(typeof o=="function"){var n=o;o=function(){var l=ys(v);n.call(l)}}Fs(t,v,e,o)}else v=Gp(r,t,e,o,i);return ys(v)}Hu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ki(t.pendingLanes);r!==0&&(Ha(t,r|1),Ue(t,Se()),!(se&6)&&(ni=Se()+500,nr()))}break;case 13:yr(function(){var i=Mt(e,1);if(i!==null){var o=Be();dt(i,e,1,o)}}),vl(e,1)}};Na=function(e){if(e.tag===13){var t=Mt(e,134217728);if(t!==null){var r=Be();dt(t,e,134217728,r)}vl(e,134217728)}};Nu=function(e){if(e.tag===13){var t=Jt(e),r=Mt(e,t);if(r!==null){var i=Be();dt(r,e,t,i)}vl(e,t)}};zu=function(){return oe};ju=function(e,t){var r=oe;try{return oe=e,t()}finally{oe=r}};Wo=function(e,t,r){switch(t){case"input":if(Io(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var o=Ps(i);if(!o)throw Error(V(90));gu(i),Io(i,o)}}}break;case"textarea":yu(e,r);break;case"select":t=r.value,t!=null&&Wr(e,!!r.multiple,t,!1)}};Lu=dl;Ru=yr;var qp={usingClientEntryPoint:!1,Events:[on,Or,Ps,xu,bu,dl]},vi={findFiberByHostInstance:ur,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xp={bundleType:vi.bundleType,version:vi.version,rendererPackageName:vi.rendererPackageName,rendererConfig:vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ot.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tu(e),e===null?null:e.stateNode},findFiberByHostInstance:vi.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tn.isDisabled&&Tn.supportsFiber)try{bs=Tn.inject(Xp),St=Tn}catch(e){}}Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qp;Ye.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sl(t))throw Error(V(200));return Kp(e,t,null,r)};Ye.createRoot=function(e,t){if(!Sl(e))throw Error(V(299));var r=!1,i="",o=cd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ml(e,1,!1,null,null,r,!1,i,o),e[Tt]=t.current,Gi(e.nodeType===8?e.parentNode:e),new gl(t)};Ye.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=Tu(t),e=e===null?null:e.stateNode,e};Ye.flushSync=function(e){return yr(e)};Ye.hydrate=function(e,t,r){if(!Ns(t))throw Error(V(200));return zs(null,e,t,!0,r)};Ye.hydrateRoot=function(e,t,r){if(!Sl(e))throw Error(V(405));var i=r!=null&&r.hydratedSources||null,o=!1,f="",v=cd;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),t=ld(t,null,e,1,r!=null?r:null,o,!1,f,v),e[Tt]=t.current,Gi(e),i)for(e=0;e<i.length;e++)r=i[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new Hs(t)};Ye.render=function(e,t,r){if(!Ns(t))throw Error(V(200));return zs(null,e,t,!1,r)};Ye.unmountComponentAtNode=function(e){if(!Ns(e))throw Error(V(40));return e._reactRootContainer?(yr(function(){zs(null,null,e,!1,function(){e._reactRootContainer=null,e[Tt]=null})}),!0):!1};Ye.unstable_batchedUpdates=dl;Ye.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!Ns(r))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return zs(e,t,r,!1,i)};Ye.version="18.3.1-next-f1338f8080-20240426";function ud(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ud)}catch(e){console.error(e)}}ud(),uu.exports=Ye;var Yp=uu.exports;function Qp(){const e=wr(),t=re.useRef({router:e,mounted:!1}),r=rt({select:({isLoading:u})=>u}),[i,o]=re.useState(!1),f=rt({select:u=>u.matches.some(_=>_.status==="pending"),structuralSharing:!0}),v=qs(r),n=r||i||f,l=qs(n),h=r||f,p=qs(h);return e.isServer||(e.startReactTransition=u=>{o(!0),re.startTransition(()=>{u(),o(!1)})}),re.useEffect(()=>{const u=e.history.subscribe(e.load),_=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return cr(e.latestLocation.href)!==cr(_.href)&&e.commitLocation({..._,replace:!0}),()=>{u()}},[e,e.history]),hn(()=>{var u;if(typeof window<"u"&&((u=window.__TSR__)!=null&&u.dehydrated)||t.current.router===e&&t.current.mounted)return;t.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(g){console.error(g)}})()},[e]),hn(()=>{if(v&&!r){const u=e.state.location,_=e.state.resolvedLocation,g=_.pathname!==u.pathname,w=_.href!==u.href;e.emit({type:"onLoad",fromLocation:_,toLocation:u,pathChanged:g,hrefChanged:w})}},[v,e,r]),hn(()=>{if(p&&!h){const u=e.state.location,_=e.state.resolvedLocation,g=_.pathname!==u.pathname,w=_.href!==u.href;e.emit({type:"onBeforeRouteMount",fromLocation:_,toLocation:u,pathChanged:g,hrefChanged:w})}},[h,p,e]),hn(()=>{var u;if(l&&!n){const _=e.state.location,g=e.state.resolvedLocation,w=g.pathname!==_.pathname,S=g.href!==_.href;if(e.emit({type:"onResolved",fromLocation:g,toLocation:_,pathChanged:w,hrefChanged:S}),e.__store.setState(d=>({...d,status:"idle",resolvedLocation:d.location})),typeof document<"u"&&document.querySelector){const d=(u=e.state.location.state.__hashScrollIntoViewOptions)!=null?u:!0;if(d&&e.state.location.hash!==""){const c=document.getElementById(e.state.location.hash);c&&c.scrollIntoView(d)}}}},[n,l,e]),null}function Jp(){const e=wr(),t=e.options.defaultPendingComponent?G.jsx(e.options.defaultPendingComponent,{}):null,r=e.isServer||typeof document<"u"&&window.__TSR__?In:re.Suspense,i=G.jsxs(r,{fallback:t,children:[G.jsx(Qp,{}),G.jsx(Zp,{})]});return e.options.InnerWrap?G.jsx(e.options.InnerWrap,{children:i}):i}function Zp(){const e=rt({select:r=>{var i;return(i=r.matches[0])==null?void 0:i.id}}),t=rt({select:r=>r.loadedAt});return G.jsx(xs.Provider,{value:e,children:G.jsx(Da,{getResetKey:()=>t,errorComponent:ks,onCatch:r=>{r.message||r.toString()},children:e?G.jsx(lu,{matchId:e}):null})})}function em({router:e,children:t,...r}){e.update({...e.options,...r,context:{...e.options.context,...r.context}});const i=Jc(),o=G.jsx(i.Provider,{value:e,children:t});return e.options.Wrap?G.jsx(e.options.Wrap,{children:o}):o}function tm({router:e,...t}){return G.jsx(em,{router:e,...t,children:G.jsx(Jp,{})})}var Ca={},Hc=Yp;Ca.createRoot=Hc.createRoot,Ca.hydrateRoot=Hc.hydrateRoot;const rm=re.createContext({loaded:!1}),im=({children:e})=>{const t=re.useRef(!1),[r,i]=re.useState(!1);re.useEffect(()=>{t.current||(t.current=!0,J.init(async f=>{f.event===kl.INITED&&i(!0),f.event===kl.MINIMALOG&&window.dispatchEvent(new CustomEvent("minima-log",{detail:f.data}))}))},[]);const o={loaded:r};return G.jsx(rm.Provider,{value:o,children:e})},hd=Wf({component:()=>G.jsx(cu,{}),notFoundComponent:()=>G.jsx("div",{className:"p-2",children:G.jsx("h1",{children:"404"})})});var dd={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(self,()=>(()=>{var r={};return(()=>{var i=r;Object.defineProperty(i,"__esModule",{value:!0}),i.FitAddon=void 0,i.FitAddon=class{activate(o){this._terminal=o}dispose(){}fit(){const o=this.proposeDimensions();if(!o||!this._terminal||isNaN(o.cols)||isNaN(o.rows))return;const f=this._terminal._core;this._terminal.rows===o.rows&&this._terminal.cols===o.cols||(f._renderService.clear(),this._terminal.resize(o.cols,o.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const o=this._terminal._core,f=o._renderService.dimensions;if(f.css.cell.width===0||f.css.cell.height===0)return;const v=this._terminal.options.scrollback===0?0:o.viewport.scrollBarWidth,n=window.getComputedStyle(this._terminal.element.parentElement),l=parseInt(n.getPropertyValue("height")),h=Math.max(0,parseInt(n.getPropertyValue("width"))),p=window.getComputedStyle(this._terminal.element),u=l-(parseInt(p.getPropertyValue("padding-top"))+parseInt(p.getPropertyValue("padding-bottom"))),_=h-(parseInt(p.getPropertyValue("padding-right"))+parseInt(p.getPropertyValue("padding-left")))-v;return{cols:Math.max(2,Math.floor(_/f.css.cell.width)),rows:Math.max(1,Math.floor(u/f.css.cell.height))}}}})(),r})())})(dd);var nm=dd.exports,fd={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(globalThis,()=>(()=>{var r={4567:function(v,n,l){var h=this&&this.__decorate||function(s,a,m,E){var C,k=arguments.length,y=k<3?a:E===null?E=Object.getOwnPropertyDescriptor(a,m):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(s,a,m,E);else for(var x=s.length-1;x>=0;x--)(C=s[x])&&(y=(k<3?C(y):k>3?C(a,m,y):C(a,m))||y);return k>3&&y&&Object.defineProperty(a,m,y),y},p=this&&this.__param||function(s,a){return function(m,E){a(m,E,s)}};Object.defineProperty(n,"__esModule",{value:!0}),n.AccessibilityManager=void 0;const u=l(9042),_=l(9924),g=l(844),w=l(4725),S=l(2585),d=l(3656);let c=n.AccessibilityManager=class extends g.Disposable{constructor(s,a,m,E){super(),this._terminal=s,this._coreBrowserService=m,this._renderService=E,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let C=0;C<this._terminal.rows;C++)this._rowElements[C]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[C]);if(this._topBoundaryFocusListener=C=>this._handleBoundaryFocus(C,0),this._bottomBoundaryFocusListener=C=>this._handleBoundaryFocus(C,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new _.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(C=>this._handleResize(C.rows))),this.register(this._terminal.onRender(C=>this._refreshRows(C.start,C.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(C=>this._handleChar(C))),this.register(this._terminal.onLineFeed(()=>this._handleChar("\n"))),this.register(this._terminal.onA11yTab(C=>this._handleTab(C))),this.register(this._terminal.onKey(C=>this._handleKey(C.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this.register((0,d.addDisposableDomListener)(document,"selectionchange",()=>this._handleSelectionChange())),this.register(this._coreBrowserService.onDprChange(()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,g.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(s){for(let a=0;a<s;a++)this._handleChar(" ")}_handleChar(s){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==s&&(this._charsToAnnounce+=s):this._charsToAnnounce+=s,s==="\n"&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=u.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(s){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(s)||this._charsToConsume.push(s)}_refreshRows(s,a){this._liveRegionDebouncer.refresh(s,a,this._terminal.rows)}_renderRows(s,a){const m=this._terminal.buffer,E=m.lines.length.toString();for(let C=s;C<=a;C++){const k=m.lines.get(m.ydisp+C),y=[],x=(k==null?void 0:k.translateToString(!0,void 0,void 0,y))||"",P=(m.ydisp+C+1).toString(),M=this._rowElements[C];M&&(x.length===0?(M.innerText="",this._rowColumns.set(M,[0,1])):(M.textContent=x,this._rowColumns.set(M,y)),M.setAttribute("aria-posinset",P),M.setAttribute("aria-setsize",E))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(s,a){const m=s.target,E=this._rowElements[a===0?1:this._rowElements.length-2];if(m.getAttribute("aria-posinset")===(a===0?"1":"".concat(this._terminal.buffer.lines.length))||s.relatedTarget!==E)return;let C,k;if(a===0?(C=m,k=this._rowElements.pop(),this._rowContainer.removeChild(k)):(C=this._rowElements.shift(),k=m,this._rowContainer.removeChild(C)),C.removeEventListener("focus",this._topBoundaryFocusListener),k.removeEventListener("focus",this._bottomBoundaryFocusListener),a===0){const y=this._createAccessibilityTreeNode();this._rowElements.unshift(y),this._rowContainer.insertAdjacentElement("afterbegin",y)}else{const y=this._createAccessibilityTreeNode();this._rowElements.push(y),this._rowContainer.appendChild(y)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(a===0?-1:1),this._rowElements[a===0?1:this._rowElements.length-2].focus(),s.preventDefault(),s.stopImmediatePropagation()}_handleSelectionChange(){var x,P;if(this._rowElements.length===0)return;const s=document.getSelection();if(!s)return;if(s.isCollapsed)return void(this._rowContainer.contains(s.anchorNode)&&this._terminal.clearSelection());if(!s.anchorNode||!s.focusNode)return void console.error("anchorNode and/or focusNode are null");let a={node:s.anchorNode,offset:s.anchorOffset},m={node:s.focusNode,offset:s.focusOffset};if((a.node.compareDocumentPosition(m.node)&Node.DOCUMENT_POSITION_PRECEDING||a.node===m.node&&a.offset>m.offset)&&([a,m]=[m,a]),a.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(a={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(a.node))return;const E=this._rowElements.slice(-1)[0];if(m.node.compareDocumentPosition(E)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(m={node:E,offset:(P=(x=E.textContent)==null?void 0:x.length)!=null?P:0}),!this._rowContainer.contains(m.node))return;const C=({node:M,offset:O})=>{const R=M instanceof Text?M.parentNode:M;let F=parseInt(R==null?void 0:R.getAttribute("aria-posinset"),10)-1;if(isNaN(F))return console.warn("row is invalid. Race condition?"),null;const N=this._rowColumns.get(R);if(!N)return console.warn("columns is null. Race condition?"),null;let W=O<N.length?N[O]:N.slice(-1)[0]+1;return W>=this._terminal.cols&&(++F,W=0),{row:F,column:W}},k=C(a),y=C(m);if(k&&y){if(k.row>y.row||k.row===y.row&&k.column>=y.column)throw new Error("invalid range");this._terminal.select(k.column,k.row,(y.row-k.row)*this._terminal.cols-k.column+y.column)}}_handleResize(s){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let a=this._rowContainer.children.length;a<this._terminal.rows;a++)this._rowElements[a]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[a]);for(;this._rowElements.length>s;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const s=this._coreBrowserService.mainDocument.createElement("div");return s.setAttribute("role","listitem"),s.tabIndex=-1,this._refreshRowDimensions(s),s}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width="".concat(this._renderService.dimensions.css.canvas.width,"px"),this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let s=0;s<this._terminal.rows;s++)this._refreshRowDimensions(this._rowElements[s])}}_refreshRowDimensions(s){s.style.height="".concat(this._renderService.dimensions.css.cell.height,"px")}};n.AccessibilityManager=c=h([p(1,S.IInstantiationService),p(2,w.ICoreBrowserService),p(3,w.IRenderService)],c)},3614:(v,n)=>{function l(_){return _.replace(/\r?\n/g,"\r")}function h(_,g){return g?"\x1B[200~"+_+"\x1B[201~":_}function p(_,g,w,S){_=h(_=l(_),w.decPrivateModes.bracketedPasteMode&&S.rawOptions.ignoreBracketedPasteMode!==!0),w.triggerDataEvent(_,!0),g.value=""}function u(_,g,w){const S=w.getBoundingClientRect(),d=_.clientX-S.left-10,c=_.clientY-S.top-10;g.style.width="20px",g.style.height="20px",g.style.left="".concat(d,"px"),g.style.top="".concat(c,"px"),g.style.zIndex="1000",g.focus()}Object.defineProperty(n,"__esModule",{value:!0}),n.rightClickHandler=n.moveTextAreaUnderMouseCursor=n.paste=n.handlePasteEvent=n.copyHandler=n.bracketTextForPaste=n.prepareTextForTerminal=void 0,n.prepareTextForTerminal=l,n.bracketTextForPaste=h,n.copyHandler=function(_,g){_.clipboardData&&_.clipboardData.setData("text/plain",g.selectionText),_.preventDefault()},n.handlePasteEvent=function(_,g,w,S){_.stopPropagation(),_.clipboardData&&p(_.clipboardData.getData("text/plain"),g,w,S)},n.paste=p,n.moveTextAreaUnderMouseCursor=u,n.rightClickHandler=function(_,g,w,S,d){u(_,g,w),d&&S.rightClickSelect(_),g.value=S.selectionText,g.select()}},7239:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorContrastCache=void 0;const h=l(1505);n.ColorContrastCache=class{constructor(){this._color=new h.TwoKeyMap,this._css=new h.TwoKeyMap}setCss(p,u,_){this._css.set(p,u,_)}getCss(p,u){return this._css.get(p,u)}setColor(p,u,_){this._color.set(p,u,_)}getColor(p,u){return this._color.get(p,u)}clear(){this._color.clear(),this._css.clear()}}},3656:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.addDisposableDomListener=void 0,n.addDisposableDomListener=function(l,h,p,u){l.addEventListener(h,p,u);let _=!1;return{dispose:()=>{_||(_=!0,l.removeEventListener(h,p,u))}}}},3551:function(v,n,l){var h=this&&this.__decorate||function(c,s,a,m){var E,C=arguments.length,k=C<3?s:m===null?m=Object.getOwnPropertyDescriptor(s,a):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(c,s,a,m);else for(var y=c.length-1;y>=0;y--)(E=c[y])&&(k=(C<3?E(k):C>3?E(s,a,k):E(s,a))||k);return C>3&&k&&Object.defineProperty(s,a,k),k},p=this&&this.__param||function(c,s){return function(a,m){s(a,m,c)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Linkifier=void 0;const u=l(3656),_=l(8460),g=l(844),w=l(2585),S=l(4725);let d=n.Linkifier=class extends g.Disposable{get currentLink(){return this._currentLink}constructor(c,s,a,m,E){super(),this._element=c,this._mouseService=s,this._renderService=a,this._bufferService=m,this._linkProviderService=E,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new _.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new _.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,g.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,g.toDisposable)(()=>{var C;this._lastMouseEvent=void 0,(C=this._activeProviderReplies)==null||C.clear()})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0})),this.register((0,u.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,u.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,u.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,u.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(c){this._lastMouseEvent=c;const s=this._positionFromMouseEvent(c,this._element,this._mouseService);if(!s)return;this._isMouseOut=!1;const a=c.composedPath();for(let m=0;m<a.length;m++){const E=a[m];if(E.classList.contains("xterm"))break;if(E.classList.contains("xterm-hover"))return}this._lastBufferCell&&s.x===this._lastBufferCell.x&&s.y===this._lastBufferCell.y||(this._handleHover(s),this._lastBufferCell=s)}_handleHover(c){if(this._activeLine!==c.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(c,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,c)||(this._clearCurrentLink(),this._askForLink(c,!0))}_askForLink(c,s){var m,E;this._activeProviderReplies&&s||((m=this._activeProviderReplies)==null||m.forEach(C=>{C==null||C.forEach(k=>{k.link.dispose&&k.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=c.y);let a=!1;for(const[C,k]of this._linkProviderService.linkProviders.entries())s?(E=this._activeProviderReplies)!=null&&E.get(C)&&(a=this._checkLinkProviderResult(C,c,a)):k.provideLinks(c.y,y=>{var P,M;if(this._isMouseOut)return;const x=y==null?void 0:y.map(O=>({link:O}));(P=this._activeProviderReplies)==null||P.set(C,x),a=this._checkLinkProviderResult(C,c,a),((M=this._activeProviderReplies)==null?void 0:M.size)===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(c.y,this._activeProviderReplies)})}_removeIntersectingLinks(c,s){const a=new Set;for(let m=0;m<s.size;m++){const E=s.get(m);if(E)for(let C=0;C<E.length;C++){const k=E[C],y=k.link.range.start.y<c?0:k.link.range.start.x,x=k.link.range.end.y>c?this._bufferService.cols:k.link.range.end.x;for(let P=y;P<=x;P++){if(a.has(P)){E.splice(C--,1);break}a.add(P)}}}}_checkLinkProviderResult(c,s,a){var C;if(!this._activeProviderReplies)return a;const m=this._activeProviderReplies.get(c);let E=!1;for(let k=0;k<c;k++)this._activeProviderReplies.has(k)&&!this._activeProviderReplies.get(k)||(E=!0);if(!E&&m){const k=m.find(y=>this._linkAtPosition(y.link,s));k&&(a=!0,this._handleNewLink(k))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!a)for(let k=0;k<this._activeProviderReplies.size;k++){const y=(C=this._activeProviderReplies.get(k))==null?void 0:C.find(x=>this._linkAtPosition(x.link,s));if(y){a=!0,this._handleNewLink(y);break}}return a}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(c){if(!this._currentLink)return;const s=this._positionFromMouseEvent(c,this._element,this._mouseService);s&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,s)&&this._currentLink.link.activate(c,this._currentLink.link.text)}_clearCurrentLink(c,s){this._currentLink&&this._lastMouseEvent&&(!c||!s||this._currentLink.link.range.start.y>=c&&this._currentLink.link.range.end.y<=s)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,g.disposeArray)(this._linkCacheDisposables))}_handleNewLink(c){if(!this._lastMouseEvent)return;const s=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);s&&this._linkAtPosition(c.link,s)&&(this._currentLink=c,this._currentLink.state={decorations:{underline:c.link.decorations===void 0||c.link.decorations.underline,pointerCursor:c.link.decorations===void 0||c.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,c.link,this._lastMouseEvent),c.link.decorations={},Object.defineProperties(c.link.decorations,{pointerCursor:{get:()=>{var a,m;return(m=(a=this._currentLink)==null?void 0:a.state)==null?void 0:m.decorations.pointerCursor},set:a=>{var m;(m=this._currentLink)!=null&&m.state&&this._currentLink.state.decorations.pointerCursor!==a&&(this._currentLink.state.decorations.pointerCursor=a,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",a))}},underline:{get:()=>{var a,m;return(m=(a=this._currentLink)==null?void 0:a.state)==null?void 0:m.decorations.underline},set:a=>{var m,E,C;(m=this._currentLink)!=null&&m.state&&((C=(E=this._currentLink)==null?void 0:E.state)==null?void 0:C.decorations.underline)!==a&&(this._currentLink.state.decorations.underline=a,this._currentLink.state.isHovered&&this._fireUnderlineEvent(c.link,a))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(a=>{if(!this._currentLink)return;const m=a.start===0?0:a.start+1+this._bufferService.buffer.ydisp,E=this._bufferService.buffer.ydisp+1+a.end;if(this._currentLink.link.range.start.y>=m&&this._currentLink.link.range.end.y<=E&&(this._clearCurrentLink(m,E),this._lastMouseEvent)){const C=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);C&&this._askForLink(C,!1)}})))}_linkHover(c,s,a){var m;(m=this._currentLink)!=null&&m.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(s,!0),this._currentLink.state.decorations.pointerCursor&&c.classList.add("xterm-cursor-pointer")),s.hover&&s.hover(a,s.text)}_fireUnderlineEvent(c,s){const a=c.range,m=this._bufferService.buffer.ydisp,E=this._createLinkUnderlineEvent(a.start.x-1,a.start.y-m-1,a.end.x,a.end.y-m-1,void 0);(s?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(E)}_linkLeave(c,s,a){var m;(m=this._currentLink)!=null&&m.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(s,!1),this._currentLink.state.decorations.pointerCursor&&c.classList.remove("xterm-cursor-pointer")),s.leave&&s.leave(a,s.text)}_linkAtPosition(c,s){const a=c.range.start.y*this._bufferService.cols+c.range.start.x,m=c.range.end.y*this._bufferService.cols+c.range.end.x,E=s.y*this._bufferService.cols+s.x;return a<=E&&E<=m}_positionFromMouseEvent(c,s,a){const m=a.getCoords(c,s,this._bufferService.cols,this._bufferService.rows);if(m)return{x:m[0],y:m[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(c,s,a,m,E){return{x1:c,y1:s,x2:a,y2:m,cols:this._bufferService.cols,fg:E}}};n.Linkifier=d=h([p(1,S.IMouseService),p(2,S.IRenderService),p(3,w.IBufferService),p(4,S.ILinkProviderService)],d)},9042:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.tooMuchOutput=n.promptLabel=void 0,n.promptLabel="Terminal input",n.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(v,n,l){var h=this&&this.__decorate||function(S,d,c,s){var a,m=arguments.length,E=m<3?d:s===null?s=Object.getOwnPropertyDescriptor(d,c):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(S,d,c,s);else for(var C=S.length-1;C>=0;C--)(a=S[C])&&(E=(m<3?a(E):m>3?a(d,c,E):a(d,c))||E);return m>3&&E&&Object.defineProperty(d,c,E),E},p=this&&this.__param||function(S,d){return function(c,s){d(c,s,S)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OscLinkProvider=void 0;const u=l(511),_=l(2585);let g=n.OscLinkProvider=class{constructor(S,d,c){this._bufferService=S,this._optionsService=d,this._oscLinkService=c}provideLinks(S,d){var x;const c=this._bufferService.buffer.lines.get(S-1);if(!c)return void d(void 0);const s=[],a=this._optionsService.rawOptions.linkHandler,m=new u.CellData,E=c.getTrimmedLength();let C=-1,k=-1,y=!1;for(let P=0;P<E;P++)if(k!==-1||c.hasContent(P)){if(c.loadCell(P,m),m.hasExtendedAttrs()&&m.extended.urlId){if(k===-1){k=P,C=m.extended.urlId;continue}y=m.extended.urlId!==C}else k!==-1&&(y=!0);if(y||k!==-1&&P===E-1){const M=(x=this._oscLinkService.getLinkData(C))==null?void 0:x.uri;if(M){const O={start:{x:k+1,y:S},end:{x:P+(y||P!==E-1?0:1),y:S}};let R=!1;if(!(a!=null&&a.allowNonHttpProtocols))try{const F=new URL(M);["http:","https:"].includes(F.protocol)||(R=!0)}catch(F){R=!0}R||s.push({text:M,range:O,activate:(F,N)=>a?a.activate(F,N,O):w(0,N),hover:(F,N)=>{var W;return(W=a==null?void 0:a.hover)==null?void 0:W.call(a,F,N,O)},leave:(F,N)=>{var W;return(W=a==null?void 0:a.leave)==null?void 0:W.call(a,F,N,O)}})}y=!1,m.hasExtendedAttrs()&&m.extended.urlId?(k=P,C=m.extended.urlId):(k=-1,C=-1)}}d(s)}};function w(S,d){if(confirm("Do you want to navigate to ".concat(d,"?\n\nWARNING: This link could potentially be dangerous"))){const c=window.open();if(c){try{c.opener=null}catch(s){}c.location.href=d}else console.warn("Opening link blocked as opener could not be cleared")}}n.OscLinkProvider=g=h([p(0,_.IBufferService),p(1,_.IOptionsService),p(2,_.IOscLinkService)],g)},6193:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.RenderDebouncer=void 0,n.RenderDebouncer=class{constructor(l,h){this._renderCallback=l,this._coreBrowserService=h,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(l){return this._refreshCallbacks.push(l),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(l,h,p){this._rowCount=p,l=l!==void 0?l:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const l=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,h),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const l of this._refreshCallbacks)l(0);this._refreshCallbacks=[]}}},3236:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Terminal=void 0;const h=l(3614),p=l(3656),u=l(3551),_=l(9042),g=l(3730),w=l(1680),S=l(3107),d=l(5744),c=l(2950),s=l(1296),a=l(428),m=l(4269),E=l(5114),C=l(8934),k=l(3230),y=l(9312),x=l(4725),P=l(6731),M=l(8055),O=l(8969),R=l(8460),F=l(844),N=l(6114),W=l(8437),K=l(2584),I=l(7399),b=l(5941),D=l(9074),T=l(2585),A=l(5435),H=l(4567),z=l(779);class X extends O.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(B={}){super(B),this.browser=N,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new F.MutableDisposable),this._onCursorMove=this.register(new R.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new R.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new R.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new R.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new R.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new R.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new R.EventEmitter),this._onBlur=this.register(new R.EventEmitter),this._onA11yCharEmitter=this.register(new R.EventEmitter),this._onA11yTabEmitter=this.register(new R.EventEmitter),this._onWillOpen=this.register(new R.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(D.DecorationService),this._instantiationService.setService(T.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(z.LinkProviderService),this._instantiationService.setService(x.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(g.OscLinkProvider)),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((L,$)=>this.refresh(L,$))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(L=>this._reportWindowsOptions(L))),this.register(this._inputHandler.onColor(L=>this._handleColorEvent(L))),this.register((0,R.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,R.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,R.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,R.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(L=>this._afterResize(L.cols,L.rows))),this.register((0,F.toDisposable)(()=>{var L,$;this._customKeyEventHandler=void 0,($=(L=this.element)==null?void 0:L.parentNode)==null||$.removeChild(this.element)}))}_handleColorEvent(B){if(this._themeService)for(const L of B){let $,j="";switch(L.index){case 256:$="foreground",j="10";break;case 257:$="background",j="11";break;case 258:$="cursor",j="12";break;default:$="ansi",j="4;"+L.index}switch(L.type){case 0:const q=M.color.toColorRGB($==="ansi"?this._themeService.colors.ansi[L.index]:this._themeService.colors[$]);this.coreService.triggerDataEvent("".concat(K.C0.ESC,"]").concat(j,";").concat((0,b.toRgbString)(q)).concat(K.C1_ESCAPED.ST));break;case 1:if($==="ansi")this._themeService.modifyColors(U=>U.ansi[L.index]=M.channels.toColor(...L.color));else{const U=$;this._themeService.modifyColors(te=>te[U]=M.channels.toColor(...L.color))}break;case 2:this._themeService.restoreColor(L.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(B){B?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(H.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(B){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(K.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var B;return(B=this.textarea)==null?void 0:B.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(K.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const B=this.buffer.ybase+this.buffer.y,L=this.buffer.lines.get(B);if(!L)return;const $=Math.min(this.buffer.x,this.cols-1),j=this._renderService.dimensions.css.cell.height,q=L.getWidth($),U=this._renderService.dimensions.css.cell.width*q,te=this.buffer.y*this._renderService.dimensions.css.cell.height,Z=$*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Z+"px",this.textarea.style.top=te+"px",this.textarea.style.width=U+"px",this.textarea.style.height=j+"px",this.textarea.style.lineHeight=j+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,p.addDisposableDomListener)(this.element,"copy",L=>{this.hasSelection()&&(0,h.copyHandler)(L,this._selectionService)}));const B=L=>(0,h.handlePasteEvent)(L,this.textarea,this.coreService,this.optionsService);this.register((0,p.addDisposableDomListener)(this.textarea,"paste",B)),this.register((0,p.addDisposableDomListener)(this.element,"paste",B)),N.isFirefox?this.register((0,p.addDisposableDomListener)(this.element,"mousedown",L=>{L.button===2&&(0,h.rightClickHandler)(L,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,p.addDisposableDomListener)(this.element,"contextmenu",L=>{(0,h.rightClickHandler)(L,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),N.isLinux&&this.register((0,p.addDisposableDomListener)(this.element,"auxclick",L=>{L.button===1&&(0,h.moveTextAreaUnderMouseCursor)(L,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,p.addDisposableDomListener)(this.textarea,"keyup",B=>this._keyUp(B),!0)),this.register((0,p.addDisposableDomListener)(this.textarea,"keydown",B=>this._keyDown(B),!0)),this.register((0,p.addDisposableDomListener)(this.textarea,"keypress",B=>this._keyPress(B),!0)),this.register((0,p.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,p.addDisposableDomListener)(this.textarea,"compositionupdate",B=>this._compositionHelper.compositionupdate(B))),this.register((0,p.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,p.addDisposableDomListener)(this.textarea,"input",B=>this._inputEvent(B),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(B){var $,j,q;if(!B)throw new Error("Terminal requires a parent element.");if(B.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),(($=this.element)==null?void 0:$.ownerDocument.defaultView)&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=B.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),B.appendChild(this.element);const L=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),L.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,p.addDisposableDomListener)(this.screenElement,"mousemove",U=>this.updateCursorStyle(U))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),L.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",_.promptLabel),N.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(E.CoreBrowserService,this.textarea,(j=B.ownerDocument.defaultView)!=null?j:window,((q=this._document)!=null?q:typeof window<"u")?window.document:null)),this._instantiationService.setService(x.ICoreBrowserService,this._coreBrowserService),this.register((0,p.addDisposableDomListener)(this.textarea,"focus",U=>this._handleTextAreaFocus(U))),this.register((0,p.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(a.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(x.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(P.ThemeService),this._instantiationService.setService(x.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(m.CharacterJoinerService),this._instantiationService.setService(x.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(k.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(x.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(U=>this._onRender.fire(U))),this.onResize(U=>this._renderService.resize(U.cols,U.rows)),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(c.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(C.MouseService),this._instantiationService.setService(x.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(u.Linkifier,this.screenElement)),this.element.appendChild(L);try{this._onWillOpen.fire(this.element)}catch(U){}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(w.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(U=>this.scrollLines(U.amount,U.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(y.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(x.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(U=>this.scrollLines(U.amount,U.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(U=>this._renderService.handleSelectionChanged(U.start,U.end,U.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(U=>{this.textarea.value=U,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(U=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,p.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.register(this._instantiationService.createInstance(S.BufferDecorationRenderer,this.screenElement)),this.register((0,p.addDisposableDomListener)(this.element,"mousedown",U=>this._selectionService.handleMouseDown(U))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(H.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",U=>this._handleScreenReaderModeOptionChange(U))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(d.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",U=>{!this._overviewRulerRenderer&&U&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(d.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(s.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const B=this,L=this.element;function $(U){const te=B._mouseService.getMouseReportCoords(U,B.screenElement);if(!te)return!1;let Z,ne;switch(U.overrideType||U.type){case"mousemove":ne=32,U.buttons===void 0?(Z=3,U.button!==void 0&&(Z=U.button<3?U.button:3)):Z=1&U.buttons?0:4&U.buttons?1:2&U.buttons?2:3;break;case"mouseup":ne=0,Z=U.button<3?U.button:3;break;case"mousedown":ne=1,Z=U.button<3?U.button:3;break;case"wheel":if(B._customWheelEventHandler&&B._customWheelEventHandler(U)===!1||B.viewport.getLinesScrolled(U)===0)return!1;ne=U.deltaY<0?0:1,Z=4;break;default:return!1}return!(ne===void 0||Z===void 0||Z>4)&&B.coreMouseService.triggerMouseEvent({col:te.col,row:te.row,x:te.x,y:te.y,button:Z,action:ne,ctrl:U.ctrlKey,alt:U.altKey,shift:U.shiftKey})}const j={mouseup:null,wheel:null,mousedrag:null,mousemove:null},q={mouseup:U=>($(U),U.buttons||(this._document.removeEventListener("mouseup",j.mouseup),j.mousedrag&&this._document.removeEventListener("mousemove",j.mousedrag)),this.cancel(U)),wheel:U=>($(U),this.cancel(U,!0)),mousedrag:U=>{U.buttons&&$(U)},mousemove:U=>{U.buttons||$(U)}};this.register(this.coreMouseService.onProtocolChange(U=>{U?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(U)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&U?j.mousemove||(L.addEventListener("mousemove",q.mousemove),j.mousemove=q.mousemove):(L.removeEventListener("mousemove",j.mousemove),j.mousemove=null),16&U?j.wheel||(L.addEventListener("wheel",q.wheel,{passive:!1}),j.wheel=q.wheel):(L.removeEventListener("wheel",j.wheel),j.wheel=null),2&U?j.mouseup||(j.mouseup=q.mouseup):(this._document.removeEventListener("mouseup",j.mouseup),j.mouseup=null),4&U?j.mousedrag||(j.mousedrag=q.mousedrag):(this._document.removeEventListener("mousemove",j.mousedrag),j.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,p.addDisposableDomListener)(L,"mousedown",U=>{if(U.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(U))return $(U),j.mouseup&&this._document.addEventListener("mouseup",j.mouseup),j.mousedrag&&this._document.addEventListener("mousemove",j.mousedrag),this.cancel(U)})),this.register((0,p.addDisposableDomListener)(L,"wheel",U=>{if(!j.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(U)===!1)return!1;if(!this.buffer.hasScrollback){const te=this.viewport.getLinesScrolled(U);if(te===0)return;const Z=K.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(U.deltaY<0?"A":"B");let ne="";for(let ge=0;ge<Math.abs(te);ge++)ne+=Z;return this.coreService.triggerDataEvent(ne,!0),this.cancel(U,!0)}return this.viewport.handleWheel(U)?this.cancel(U):void 0}},{passive:!1})),this.register((0,p.addDisposableDomListener)(L,"touchstart",U=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(U),this.cancel(U)},{passive:!0})),this.register((0,p.addDisposableDomListener)(L,"touchmove",U=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(U)?void 0:this.cancel(U)},{passive:!1}))}refresh(B,L){var $;($=this._renderService)==null||$.refreshRows(B,L)}updateCursorStyle(B){var L;(L=this._selectionService)!=null&&L.shouldColumnSelect(B)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(B,L,$=0){var j;$===1?(super.scrollLines(B,L,$),this.refresh(0,this.rows-1)):(j=this.viewport)==null||j.scrollLines(B)}paste(B){(0,h.paste)(B,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(B){this._customKeyEventHandler=B}attachCustomWheelEventHandler(B){this._customWheelEventHandler=B}registerLinkProvider(B){return this._linkProviderService.registerLinkProvider(B)}registerCharacterJoiner(B){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const L=this._characterJoinerService.register(B);return this.refresh(0,this.rows-1),L}deregisterCharacterJoiner(B){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(B)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(B){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+B)}registerDecoration(B){return this._decorationService.registerDecoration(B)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(B,L,$){this._selectionService.setSelection(B,L,$)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var B;(B=this._selectionService)==null||B.clearSelection()}selectAll(){var B;(B=this._selectionService)==null||B.selectAll()}selectLines(B,L){var $;($=this._selectionService)==null||$.selectLines(B,L)}_keyDown(B){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1)return!1;const L=this.browser.isMac&&this.options.macOptionIsMeta&&B.altKey;if(!L&&!this._compositionHelper.keydown(B))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;L||B.key!=="Dead"&&B.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const $=(0,I.evaluateKeyboardEvent)(B,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(B),$.type===3||$.type===2){const j=this.rows-1;return this.scrollLines($.type===2?-j:j),this.cancel(B,!0)}return $.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,B)||($.cancel&&this.cancel(B,!0),!$.key||!!(B.key&&!B.ctrlKey&&!B.altKey&&!B.metaKey&&B.key.length===1&&B.key.charCodeAt(0)>=65&&B.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):($.key!==K.C0.ETX&&$.key!==K.C0.CR||(this.textarea.value=""),this._onKey.fire({key:$.key,domEvent:B}),this._showCursor(),this.coreService.triggerDataEvent($.key,!0),!this.optionsService.rawOptions.screenReaderMode||B.altKey||B.ctrlKey?this.cancel(B,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(B,L){const $=B.isMac&&!this.options.macOptionIsMeta&&L.altKey&&!L.ctrlKey&&!L.metaKey||B.isWindows&&L.altKey&&L.ctrlKey&&!L.metaKey||B.isWindows&&L.getModifierState("AltGraph");return L.type==="keypress"?$:$&&(!L.keyCode||L.keyCode>47)}_keyUp(B){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1||(function(L){return L.keyCode===16||L.keyCode===17||L.keyCode===18}(B)||this.focus(),this.updateCursorStyle(B),this._keyPressHandled=!1)}_keyPress(B){let L;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(B)===!1)return!1;if(this.cancel(B),B.charCode)L=B.charCode;else if(B.which===null||B.which===void 0)L=B.keyCode;else{if(B.which===0||B.charCode===0)return!1;L=B.which}return!(!L||(B.altKey||B.ctrlKey||B.metaKey)&&!this._isThirdLevelShift(this.browser,B)||(L=String.fromCharCode(L),this._onKey.fire({key:L,domEvent:B}),this._showCursor(),this.coreService.triggerDataEvent(L,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(B){if(B.data&&B.inputType==="insertText"&&(!B.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const L=B.data;return this.coreService.triggerDataEvent(L,!0),this.cancel(B),!0}return!1}resize(B,L){B!==this.cols||L!==this.rows?super.resize(B,L):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(B,L){var $,j;($=this._charSizeService)==null||$.measure(),(j=this.viewport)==null||j.syncScrollArea(!0)}clear(){var B;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let L=1;L<this.rows;L++)this.buffer.lines.push(this.buffer.getBlankLine(W.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(B=this.viewport)==null||B.reset(),this.refresh(0,this.rows-1)}}reset(){var L,$;this.options.rows=this.rows,this.options.cols=this.cols;const B=this._customKeyEventHandler;this._setup(),super.reset(),(L=this._selectionService)==null||L.reset(),this._decorationService.reset(),($=this.viewport)==null||$.reset(),this._customKeyEventHandler=B,this.refresh(0,this.rows-1)}clearTextureAtlas(){var B;(B=this._renderService)==null||B.clearTextureAtlas()}_reportFocus(){var B;(B=this.element)!=null&&B.classList.contains("focus")?this.coreService.triggerDataEvent(K.C0.ESC+"[I"):this.coreService.triggerDataEvent(K.C0.ESC+"[O")}_reportWindowsOptions(B){if(this._renderService)switch(B){case A.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const L=this._renderService.dimensions.css.canvas.width.toFixed(0),$=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent("".concat(K.C0.ESC,"[4;").concat($,";").concat(L,"t"));break;case A.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const j=this._renderService.dimensions.css.cell.width.toFixed(0),q=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent("".concat(K.C0.ESC,"[6;").concat(q,";").concat(j,"t"))}}cancel(B,L){if(this.options.cancelEvents||L)return B.preventDefault(),B.stopPropagation(),!1}}n.Terminal=X},9924:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TimeBasedDebouncer=void 0,n.TimeBasedDebouncer=class{constructor(l,h=1e3){this._renderCallback=l,this._debounceThresholdMS=h,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(l,h,p){this._rowCount=p,l=l!==void 0?l:0,h=h!==void 0?h:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,h):h;const u=Date.now();if(u-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=u,this._innerRefresh();else if(!this._additionalRefreshRequested){const _=u-this._lastRefreshMs,g=this._debounceThresholdMS-_;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},g)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const l=Math.max(this._rowStart,0),h=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,h)}}},1680:function(v,n,l){var h=this&&this.__decorate||function(c,s,a,m){var E,C=arguments.length,k=C<3?s:m===null?m=Object.getOwnPropertyDescriptor(s,a):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(c,s,a,m);else for(var y=c.length-1;y>=0;y--)(E=c[y])&&(k=(C<3?E(k):C>3?E(s,a,k):E(s,a))||k);return C>3&&k&&Object.defineProperty(s,a,k),k},p=this&&this.__param||function(c,s){return function(a,m){s(a,m,c)}};Object.defineProperty(n,"__esModule",{value:!0}),n.Viewport=void 0;const u=l(3656),_=l(4725),g=l(8460),w=l(844),S=l(2585);let d=n.Viewport=class extends w.Disposable{constructor(c,s,a,m,E,C,k,y){super(),this._viewportElement=c,this._scrollArea=s,this._bufferService=a,this._optionsService=m,this._charSizeService=E,this._renderService=C,this._coreBrowserService=k,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new g.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,u.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(x=>this._activeBuffer=x.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(x=>this._renderDimensions=x)),this._handleThemeChange(y.colors),this.register(y.onChangeColors(x=>this._handleThemeChange(x))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(c){this._viewportElement.style.backgroundColor=c.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(c){if(c)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const s=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==s&&(this._lastRecordedBufferHeight=s,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const c=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==c&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=c),this._refreshAnimationFrame=null}syncScrollArea(c=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(c);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(c)}_handleScroll(c){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const s=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:s,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const c=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(c*(this._smoothScrollState.target-this._smoothScrollState.origin)),c<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(c,s){const a=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(s<0&&this._viewportElement.scrollTop!==0||s>0&&a<this._lastRecordedBufferHeight)||(c.cancelable&&c.preventDefault(),!1)}handleWheel(c){const s=this._getPixelsScrolled(c);return s!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+s:this._smoothScrollState.target+=s,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=s,this._bubbleScroll(c,s))}scrollLines(c){if(c!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const s=c*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+s,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:c,suppressScrollEvent:!1})}_getPixelsScrolled(c){if(c.deltaY===0||c.shiftKey)return 0;let s=this._applyScrollModifier(c.deltaY,c);return c.deltaMode===WheelEvent.DOM_DELTA_LINE?s*=this._currentRowHeight:c.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(s*=this._currentRowHeight*this._bufferService.rows),s}getBufferElements(c,s){var y;let a,m="";const E=[],C=s!=null?s:this._bufferService.buffer.lines.length,k=this._bufferService.buffer.lines;for(let x=c;x<C;x++){const P=k.get(x);if(!P)continue;const M=(y=k.get(x+1))==null?void 0:y.isWrapped;if(m+=P.translateToString(!M),!M||x===k.length-1){const O=document.createElement("div");O.textContent=m,E.push(O),m.length>0&&(a=O),m=""}}return{bufferElements:E,cursorElement:a}}getLinesScrolled(c){if(c.deltaY===0||c.shiftKey)return 0;let s=this._applyScrollModifier(c.deltaY,c);return c.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(s/=this._currentRowHeight+0,this._wheelPartialScroll+=s,s=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):c.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(s*=this._bufferService.rows),s}_applyScrollModifier(c,s){const a=this._optionsService.rawOptions.fastScrollModifier;return a==="alt"&&s.altKey||a==="ctrl"&&s.ctrlKey||a==="shift"&&s.shiftKey?c*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:c*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(c){this._lastTouchY=c.touches[0].pageY}handleTouchMove(c){const s=this._lastTouchY-c.touches[0].pageY;return this._lastTouchY=c.touches[0].pageY,s!==0&&(this._viewportElement.scrollTop+=s,this._bubbleScroll(c,s))}};n.Viewport=d=h([p(2,S.IBufferService),p(3,S.IOptionsService),p(4,_.ICharSizeService),p(5,_.IRenderService),p(6,_.ICoreBrowserService),p(7,_.IThemeService)],d)},3107:function(v,n,l){var h=this&&this.__decorate||function(S,d,c,s){var a,m=arguments.length,E=m<3?d:s===null?s=Object.getOwnPropertyDescriptor(d,c):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(S,d,c,s);else for(var C=S.length-1;C>=0;C--)(a=S[C])&&(E=(m<3?a(E):m>3?a(d,c,E):a(d,c))||E);return m>3&&E&&Object.defineProperty(d,c,E),E},p=this&&this.__param||function(S,d){return function(c,s){d(c,s,S)}};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferDecorationRenderer=void 0;const u=l(4725),_=l(844),g=l(2585);let w=n.BufferDecorationRenderer=class extends _.Disposable{constructor(S,d,c,s,a){super(),this._screenElement=S,this._bufferService=d,this._coreBrowserService=c,this._decorationService=s,this._renderService=a,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(m=>this._removeDecoration(m))),this.register((0,_.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const S of this._decorationService.decorations)this._renderDecoration(S);this._dimensionsChanged=!1}_renderDecoration(S){this._refreshStyle(S),this._dimensionsChanged&&this._refreshXPosition(S)}_createElement(S){var s,a;const d=this._coreBrowserService.mainDocument.createElement("div");d.classList.add("xterm-decoration"),d.classList.toggle("xterm-decoration-top-layer",((s=S==null?void 0:S.options)==null?void 0:s.layer)==="top"),d.style.width="".concat(Math.round((S.options.width||1)*this._renderService.dimensions.css.cell.width),"px"),d.style.height=(S.options.height||1)*this._renderService.dimensions.css.cell.height+"px",d.style.top=(S.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",d.style.lineHeight="".concat(this._renderService.dimensions.css.cell.height,"px");const c=(a=S.options.x)!=null?a:0;return c&&c>this._bufferService.cols&&(d.style.display="none"),this._refreshXPosition(S,d),d}_refreshStyle(S){const d=S.marker.line-this._bufferService.buffers.active.ydisp;if(d<0||d>=this._bufferService.rows)S.element&&(S.element.style.display="none",S.onRenderEmitter.fire(S.element));else{let c=this._decorationElements.get(S);c||(c=this._createElement(S),S.element=c,this._decorationElements.set(S,c),this._container.appendChild(c),S.onDispose(()=>{this._decorationElements.delete(S),c.remove()})),c.style.top=d*this._renderService.dimensions.css.cell.height+"px",c.style.display=this._altBufferIsActive?"none":"block",S.onRenderEmitter.fire(c)}}_refreshXPosition(S,d=S.element){var s;if(!d)return;const c=(s=S.options.x)!=null?s:0;(S.options.anchor||"left")==="right"?d.style.right=c?c*this._renderService.dimensions.css.cell.width+"px":"":d.style.left=c?c*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(S){var d;(d=this._decorationElements.get(S))==null||d.remove(),this._decorationElements.delete(S),S.dispose()}};n.BufferDecorationRenderer=w=h([p(1,g.IBufferService),p(2,u.ICoreBrowserService),p(3,g.IDecorationService),p(4,u.IRenderService)],w)},5871:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorZoneStore=void 0,n.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(l){if(l.options.overviewRulerOptions){for(const h of this._zones)if(h.color===l.options.overviewRulerOptions.color&&h.position===l.options.overviewRulerOptions.position){if(this._lineIntersectsZone(h,l.marker.line))return;if(this._lineAdjacentToZone(h,l.marker.line,l.options.overviewRulerOptions.position))return void this._addLineToZone(h,l.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=l.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=l.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=l.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=l.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:l.options.overviewRulerOptions.color,position:l.options.overviewRulerOptions.position,startBufferLine:l.marker.line,endBufferLine:l.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(l){this._linePadding=l}_lineIntersectsZone(l,h){return h>=l.startBufferLine&&h<=l.endBufferLine}_lineAdjacentToZone(l,h,p){return h>=l.startBufferLine-this._linePadding[p||"full"]&&h<=l.endBufferLine+this._linePadding[p||"full"]}_addLineToZone(l,h){l.startBufferLine=Math.min(l.startBufferLine,h),l.endBufferLine=Math.max(l.endBufferLine,h)}}},5744:function(v,n,l){var h=this&&this.__decorate||function(a,m,E,C){var k,y=arguments.length,x=y<3?m:C===null?C=Object.getOwnPropertyDescriptor(m,E):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(a,m,E,C);else for(var P=a.length-1;P>=0;P--)(k=a[P])&&(x=(y<3?k(x):y>3?k(m,E,x):k(m,E))||x);return y>3&&x&&Object.defineProperty(m,E,x),x},p=this&&this.__param||function(a,m){return function(E,C){m(E,C,a)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OverviewRulerRenderer=void 0;const u=l(5871),_=l(4725),g=l(844),w=l(2585),S={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0},c={full:0,left:0,center:0,right:0};let s=n.OverviewRulerRenderer=class extends g.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(a,m,E,C,k,y,x){var M;super(),this._viewportElement=a,this._screenElement=m,this._bufferService=E,this._decorationService=C,this._renderService=k,this._optionsService=y,this._coreBrowserService=x,this._colorZoneStore=new u.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(M=this._viewportElement.parentElement)==null||M.insertBefore(this._canvas,this._viewportElement);const P=this._canvas.getContext("2d");if(!P)throw new Error("Ctx cannot be null");this._ctx=P,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,g.toDisposable)(()=>{var O;(O=this._canvas)==null||O.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register(this._coreBrowserService.onDprChange(()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const a=Math.floor(this._canvas.width/3),m=Math.ceil(this._canvas.width/3);d.full=this._canvas.width,d.left=a,d.center=m,d.right=a,this._refreshDrawHeightConstants(),c.full=0,c.left=0,c.center=d.left,c.right=d.left+d.center}_refreshDrawHeightConstants(){S.full=Math.round(2*this._coreBrowserService.dpr);const a=this._canvas.height/this._bufferService.buffer.lines.length,m=Math.round(Math.max(Math.min(a,12),6)*this._coreBrowserService.dpr);S.left=m,S.center=m,S.right=m}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*S.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*S.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*S.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*S.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width="".concat(this._width,"px"),this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height="".concat(this._screenElement.clientHeight,"px"),this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const m of this._decorationService.decorations)this._colorZoneStore.addDecoration(m);this._ctx.lineWidth=1;const a=this._colorZoneStore.zones;for(const m of a)m.position!=="full"&&this._renderColorZone(m);for(const m of a)m.position==="full"&&this._renderColorZone(m);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(a){this._ctx.fillStyle=a.color,this._ctx.fillRect(c[a.position||"full"],Math.round((this._canvas.height-1)*(a.startBufferLine/this._bufferService.buffers.active.lines.length)-S[a.position||"full"]/2),d[a.position||"full"],Math.round((this._canvas.height-1)*((a.endBufferLine-a.startBufferLine)/this._bufferService.buffers.active.lines.length)+S[a.position||"full"]))}_queueRefresh(a,m){this._shouldUpdateDimensions=a||this._shouldUpdateDimensions,this._shouldUpdateAnchor=m||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};n.OverviewRulerRenderer=s=h([p(2,w.IBufferService),p(3,w.IDecorationService),p(4,_.IRenderService),p(5,w.IOptionsService),p(6,_.ICoreBrowserService)],s)},2950:function(v,n,l){var h=this&&this.__decorate||function(S,d,c,s){var a,m=arguments.length,E=m<3?d:s===null?s=Object.getOwnPropertyDescriptor(d,c):s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(S,d,c,s);else for(var C=S.length-1;C>=0;C--)(a=S[C])&&(E=(m<3?a(E):m>3?a(d,c,E):a(d,c))||E);return m>3&&E&&Object.defineProperty(d,c,E),E},p=this&&this.__param||function(S,d){return function(c,s){d(c,s,S)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CompositionHelper=void 0;const u=l(4725),_=l(2585),g=l(2584);let w=n.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(S,d,c,s,a,m){this._textarea=S,this._compositionView=d,this._bufferService=c,this._optionsService=s,this._coreService=a,this._renderService=m,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(S){this._compositionView.textContent=S.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(S){if(this._isComposing||this._isSendingComposition){if(S.keyCode===229||S.keyCode===16||S.keyCode===17||S.keyCode===18)return!1;this._finalizeComposition(!1)}return S.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(S){if(this._compositionView.classList.remove("active"),this._isComposing=!1,S){const d={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let c;this._isSendingComposition=!1,d.start+=this._dataAlreadySent.length,c=this._isComposing?this._textarea.value.substring(d.start,d.end):this._textarea.value.substring(d.start),c.length>0&&this._coreService.triggerDataEvent(c,!0)}},0)}else{this._isSendingComposition=!1;const d=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(d,!0)}}_handleAnyTextareaChanges(){const S=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const d=this._textarea.value,c=d.replace(S,"");this._dataAlreadySent=c,d.length>S.length?this._coreService.triggerDataEvent(c,!0):d.length<S.length?this._coreService.triggerDataEvent("".concat(g.C0.DEL),!0):d.length===S.length&&d!==S&&this._coreService.triggerDataEvent(d,!0)}},0)}updateCompositionElements(S){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const d=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),c=this._renderService.dimensions.css.cell.height,s=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,a=d*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=a+"px",this._compositionView.style.top=s+"px",this._compositionView.style.height=c+"px",this._compositionView.style.lineHeight=c+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const m=this._compositionView.getBoundingClientRect();this._textarea.style.left=a+"px",this._textarea.style.top=s+"px",this._textarea.style.width=Math.max(m.width,1)+"px",this._textarea.style.height=Math.max(m.height,1)+"px",this._textarea.style.lineHeight=m.height+"px"}S||setTimeout(()=>this.updateCompositionElements(!0),0)}}};n.CompositionHelper=w=h([p(2,_.IBufferService),p(3,_.IOptionsService),p(4,_.ICoreService),p(5,u.IRenderService)],w)},9806:(v,n)=>{function l(h,p,u){const _=u.getBoundingClientRect(),g=h.getComputedStyle(u),w=parseInt(g.getPropertyValue("padding-left")),S=parseInt(g.getPropertyValue("padding-top"));return[p.clientX-_.left-w,p.clientY-_.top-S]}Object.defineProperty(n,"__esModule",{value:!0}),n.getCoords=n.getCoordsRelativeToElement=void 0,n.getCoordsRelativeToElement=l,n.getCoords=function(h,p,u,_,g,w,S,d,c){if(!w)return;const s=l(h,p,u);return s?(s[0]=Math.ceil((s[0]+(c?S/2:0))/S),s[1]=Math.ceil(s[1]/d),s[0]=Math.min(Math.max(s[0],1),_+(c?1:0)),s[1]=Math.min(Math.max(s[1],1),g),s):void 0}},9504:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.moveToCellSequence=void 0;const h=l(2584);function p(d,c,s,a){const m=d-u(d,s),E=c-u(c,s),C=Math.abs(m-E)-function(k,y,x){let P=0;const M=k-u(k,x),O=y-u(y,x);for(let R=0;R<Math.abs(M-O);R++){const F=_(k,y)==="A"?-1:1,N=x.buffer.lines.get(M+F*R);N!=null&&N.isWrapped&&P++}return P}(d,c,s);return S(C,w(_(d,c),a))}function u(d,c){let s=0,a=c.buffer.lines.get(d),m=a==null?void 0:a.isWrapped;for(;m&&d>=0&&d<c.rows;)s++,a=c.buffer.lines.get(--d),m=a==null?void 0:a.isWrapped;return s}function _(d,c){return d>c?"A":"B"}function g(d,c,s,a,m,E){let C=d,k=c,y="";for(;C!==s||k!==a;)C+=m?1:-1,m&&C>E.cols-1?(y+=E.buffer.translateBufferLineToString(k,!1,d,C),C=0,d=0,k++):!m&&C<0&&(y+=E.buffer.translateBufferLineToString(k,!1,0,d+1),C=E.cols-1,d=C,k--);return y+E.buffer.translateBufferLineToString(k,!1,d,C)}function w(d,c){const s=c?"O":"[";return h.C0.ESC+s+d}function S(d,c){d=Math.floor(d);let s="";for(let a=0;a<d;a++)s+=c;return s}n.moveToCellSequence=function(d,c,s,a){const m=s.buffer.x,E=s.buffer.y;if(!s.buffer.hasScrollback)return function(y,x,P,M,O,R){return p(x,M,O,R).length===0?"":S(g(y,x,y,x-u(x,O),!1,O).length,w("D",R))}(m,E,0,c,s,a)+p(E,c,s,a)+function(y,x,P,M,O,R){let F;F=p(x,M,O,R).length>0?M-u(M,O):x;const N=M,W=function(K,I,b,D,T,A){let H;return H=p(b,D,T,A).length>0?D-u(D,T):I,K<b&&H<=D||K>=b&&H<D?"C":"D"}(y,x,P,M,O,R);return S(g(y,F,P,N,W==="C",O).length,w(W,R))}(m,E,d,c,s,a);let C;if(E===c)return C=m>d?"D":"C",S(Math.abs(m-d),w(C,a));C=E>c?"D":"C";const k=Math.abs(E-c);return S(function(y,x){return x.cols-y}(E>c?d:m,s)+(k-1)*s.cols+1+((E>c?m:d)-1),w(C,a))}},1296:function(v,n,l){var h=this&&this.__decorate||function(R,F,N,W){var K,I=arguments.length,b=I<3?F:W===null?W=Object.getOwnPropertyDescriptor(F,N):W;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(R,F,N,W);else for(var D=R.length-1;D>=0;D--)(K=R[D])&&(b=(I<3?K(b):I>3?K(F,N,b):K(F,N))||b);return I>3&&b&&Object.defineProperty(F,N,b),b},p=this&&this.__param||function(R,F){return function(N,W){F(N,W,R)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRenderer=void 0;const u=l(3787),_=l(2550),g=l(2223),w=l(6171),S=l(6052),d=l(4725),c=l(8055),s=l(8460),a=l(844),m=l(2585),E="xterm-dom-renderer-owner-",C="xterm-rows",k="xterm-fg-",y="xterm-bg-",x="xterm-focus",P="xterm-selection";let M=1,O=n.DomRenderer=class extends a.Disposable{constructor(R,F,N,W,K,I,b,D,T,A,H,z,X){super(),this._terminal=R,this._document=F,this._element=N,this._screenElement=W,this._viewportElement=K,this._helperContainer=I,this._linkifier2=b,this._charSizeService=T,this._optionsService=A,this._bufferService=H,this._coreBrowserService=z,this._themeService=X,this._terminalClass=M++,this._rowElements=[],this._selectionRenderModel=(0,S.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new s.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(C),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(P),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,w.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(Y=>this._injectCss(Y))),this._injectCss(this._themeService.colors),this._rowFactory=D.createInstance(u.DomRendererRowFactory,document),this._element.classList.add(E+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(Y=>this._handleLinkHover(Y))),this.register(this._linkifier2.onHideLinkUnderline(Y=>this._handleLinkLeave(Y))),this.register((0,a.toDisposable)(()=>{this._element.classList.remove(E+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new _.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const R=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*R,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*R),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/R),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/R),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const N of this._rowElements)N.style.width="".concat(this.dimensions.css.canvas.width,"px"),N.style.height="".concat(this.dimensions.css.cell.height,"px"),N.style.lineHeight="".concat(this.dimensions.css.cell.height,"px"),N.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const F="".concat(this._terminalSelector," .").concat(C," span { display: inline-block; height: 100%; vertical-align: top;}");this._dimensionsStyleElement.textContent=F,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width="".concat(this.dimensions.css.canvas.width,"px"),this._screenElement.style.height="".concat(this.dimensions.css.canvas.height,"px")}_injectCss(R){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let F="".concat(this._terminalSelector," .").concat(C," { color: ").concat(R.foreground.css,"; font-family: ").concat(this._optionsService.rawOptions.fontFamily,"; font-size: ").concat(this._optionsService.rawOptions.fontSize,"px; font-kerning: none; white-space: pre}");F+="".concat(this._terminalSelector," .").concat(C," .xterm-dim { color: ").concat(c.color.multiplyOpacity(R.foreground,.5).css,";}"),F+="".concat(this._terminalSelector," span:not(.xterm-bold) { font-weight: ").concat(this._optionsService.rawOptions.fontWeight,";}").concat(this._terminalSelector," span.xterm-bold { font-weight: ").concat(this._optionsService.rawOptions.fontWeightBold,";}").concat(this._terminalSelector," span.xterm-italic { font-style: italic;}");const N="blink_underline_".concat(this._terminalClass),W="blink_bar_".concat(this._terminalClass),K="blink_block_".concat(this._terminalClass);F+="@keyframes ".concat(N," { 50% {  border-bottom-style: hidden; }}"),F+="@keyframes ".concat(W," { 50% {  box-shadow: none; }}"),F+="@keyframes ".concat(K," { 0% {  background-color: ").concat(R.cursor.css,";  color: ").concat(R.cursorAccent.css,"; } 50% {  background-color: inherit;  color: ").concat(R.cursor.css,"; }}"),F+="".concat(this._terminalSelector," .").concat(C,".").concat(x," .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ").concat(N," 1s step-end infinite;}").concat(this._terminalSelector," .").concat(C,".").concat(x," .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ").concat(W," 1s step-end infinite;}").concat(this._terminalSelector," .").concat(C,".").concat(x," .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ").concat(K," 1s step-end infinite;}").concat(this._terminalSelector," .").concat(C," .xterm-cursor.xterm-cursor-block { background-color: ").concat(R.cursor.css,"; color: ").concat(R.cursorAccent.css,";}").concat(this._terminalSelector," .").concat(C," .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ").concat(R.cursor.css," !important; color: ").concat(R.cursorAccent.css," !important;}").concat(this._terminalSelector," .").concat(C," .xterm-cursor.xterm-cursor-outline { outline: 1px solid ").concat(R.cursor.css,"; outline-offset: -1px;}").concat(this._terminalSelector," .").concat(C," .xterm-cursor.xterm-cursor-bar { box-shadow: ").concat(this._optionsService.rawOptions.cursorWidth,"px 0 0 ").concat(R.cursor.css," inset;}").concat(this._terminalSelector," .").concat(C," .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ").concat(R.cursor.css,"; border-bottom-style: solid; height: calc(100% - 1px);}"),F+="".concat(this._terminalSelector," .").concat(P," { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}").concat(this._terminalSelector,".focus .").concat(P," div { position: absolute; background-color: ").concat(R.selectionBackgroundOpaque.css,";}").concat(this._terminalSelector," .").concat(P," div { position: absolute; background-color: ").concat(R.selectionInactiveBackgroundOpaque.css,";}");for(const[I,b]of R.ansi.entries())F+="".concat(this._terminalSelector," .").concat(k).concat(I," { color: ").concat(b.css,"; }").concat(this._terminalSelector," .").concat(k).concat(I,".xterm-dim { color: ").concat(c.color.multiplyOpacity(b,.5).css,"; }").concat(this._terminalSelector," .").concat(y).concat(I," { background-color: ").concat(b.css,"; }");F+="".concat(this._terminalSelector," .").concat(k).concat(g.INVERTED_DEFAULT_COLOR," { color: ").concat(c.color.opaque(R.background).css,"; }").concat(this._terminalSelector," .").concat(k).concat(g.INVERTED_DEFAULT_COLOR,".xterm-dim { color: ").concat(c.color.multiplyOpacity(c.color.opaque(R.background),.5).css,"; }").concat(this._terminalSelector," .").concat(y).concat(g.INVERTED_DEFAULT_COLOR," { background-color: ").concat(R.foreground.css,"; }"),this._themeStyleElement.textContent=F}_setDefaultSpacing(){const R=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing="".concat(R,"px"),this._rowFactory.defaultSpacing=R}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(R,F){for(let N=this._rowElements.length;N<=F;N++){const W=this._document.createElement("div");this._rowContainer.appendChild(W),this._rowElements.push(W)}for(;this._rowElements.length>F;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(R,F){this._refreshRowElements(R,F),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(x),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(x),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(R,F,N){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(R,F,N),this.renderRows(0,this._bufferService.rows-1),!R||!F)return;this._selectionRenderModel.update(this._terminal,R,F,N);const W=this._selectionRenderModel.viewportStartRow,K=this._selectionRenderModel.viewportEndRow,I=this._selectionRenderModel.viewportCappedStartRow,b=this._selectionRenderModel.viewportCappedEndRow;if(I>=this._bufferService.rows||b<0)return;const D=this._document.createDocumentFragment();if(N){const T=R[0]>F[0];D.appendChild(this._createSelectionElement(I,T?F[0]:R[0],T?R[0]:F[0],b-I+1))}else{const T=W===I?R[0]:0,A=I===K?F[0]:this._bufferService.cols;D.appendChild(this._createSelectionElement(I,T,A));const H=b-I-1;if(D.appendChild(this._createSelectionElement(I+1,0,this._bufferService.cols,H)),I!==b){const z=K===b?F[0]:this._bufferService.cols;D.appendChild(this._createSelectionElement(b,0,z))}}this._selectionContainer.appendChild(D)}_createSelectionElement(R,F,N,W=1){const K=this._document.createElement("div"),I=F*this.dimensions.css.cell.width;let b=this.dimensions.css.cell.width*(N-F);return I+b>this.dimensions.css.canvas.width&&(b=this.dimensions.css.canvas.width-I),K.style.height=W*this.dimensions.css.cell.height+"px",K.style.top=R*this.dimensions.css.cell.height+"px",K.style.left="".concat(I,"px"),K.style.width="".concat(b,"px"),K}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const R of this._rowElements)R.replaceChildren()}renderRows(R,F){const N=this._bufferService.buffer,W=N.ybase+N.y,K=Math.min(N.x,this._bufferService.cols-1),I=this._optionsService.rawOptions.cursorBlink,b=this._optionsService.rawOptions.cursorStyle,D=this._optionsService.rawOptions.cursorInactiveStyle;for(let T=R;T<=F;T++){const A=T+N.ydisp,H=this._rowElements[T],z=N.lines.get(A);if(!H||!z)break;H.replaceChildren(...this._rowFactory.createRow(z,A,A===W,b,D,K,I,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return".".concat(E).concat(this._terminalClass)}_handleLinkHover(R){this._setCellUnderline(R.x1,R.x2,R.y1,R.y2,R.cols,!0)}_handleLinkLeave(R){this._setCellUnderline(R.x1,R.x2,R.y1,R.y2,R.cols,!1)}_setCellUnderline(R,F,N,W,K,I){N<0&&(R=0),W<0&&(F=0);const b=this._bufferService.rows-1;N=Math.max(Math.min(N,b),0),W=Math.max(Math.min(W,b),0),K=Math.min(K,this._bufferService.cols);const D=this._bufferService.buffer,T=D.ybase+D.y,A=Math.min(D.x,K-1),H=this._optionsService.rawOptions.cursorBlink,z=this._optionsService.rawOptions.cursorStyle,X=this._optionsService.rawOptions.cursorInactiveStyle;for(let Y=N;Y<=W;++Y){const B=Y+D.ydisp,L=this._rowElements[Y],$=D.lines.get(B);if(!L||!$)break;L.replaceChildren(...this._rowFactory.createRow($,B,B===T,z,X,A,H,this.dimensions.css.cell.width,this._widthCache,I?Y===N?R:0:-1,I?(Y===W?F:K)-1:-1))}}};n.DomRenderer=O=h([p(7,m.IInstantiationService),p(8,d.ICharSizeService),p(9,m.IOptionsService),p(10,m.IBufferService),p(11,d.ICoreBrowserService),p(12,d.IThemeService)],O)},3787:function(v,n,l){var h=this&&this.__decorate||function(C,k,y,x){var P,M=arguments.length,O=M<3?k:x===null?x=Object.getOwnPropertyDescriptor(k,y):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(C,k,y,x);else for(var R=C.length-1;R>=0;R--)(P=C[R])&&(O=(M<3?P(O):M>3?P(k,y,O):P(k,y))||O);return M>3&&O&&Object.defineProperty(k,y,O),O},p=this&&this.__param||function(C,k){return function(y,x){k(y,x,C)}};Object.defineProperty(n,"__esModule",{value:!0}),n.DomRendererRowFactory=void 0;const u=l(2223),_=l(643),g=l(511),w=l(2585),S=l(8055),d=l(4725),c=l(4269),s=l(6171),a=l(3734);let m=n.DomRendererRowFactory=class{constructor(C,k,y,x,P,M,O){this._document=C,this._characterJoinerService=k,this._optionsService=y,this._coreBrowserService=x,this._coreService=P,this._decorationService=M,this._themeService=O,this._workCell=new g.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(C,k,y){this._selectionStart=C,this._selectionEnd=k,this._columnSelectMode=y}createRow(C,k,y,x,P,M,O,R,F,N,W){const K=[],I=this._characterJoinerService.getJoinedCharacters(k),b=this._themeService.colors;let D,T=C.getNoBgTrimmedLength();y&&T<M+1&&(T=M+1);let A=0,H="",z=0,X=0,Y=0,B=!1,L=0,$=!1,j=0;const q=[],U=N!==-1&&W!==-1;for(let te=0;te<T;te++){C.loadCell(te,this._workCell);let Z=this._workCell.getWidth();if(Z===0)continue;let ne=!1,ge=te,ee=this._workCell;if(I.length>0&&te===I[0][0]){ne=!0;const fe=I.shift();ee=new c.JoinedCellData(this._workCell,C.translateToString(!0,fe[0],fe[1]),fe[1]-fe[0]),ge=fe[1]-1,Z=ee.getWidth()}const _t=this._isCellInSelection(te,k),wt=y&&te===M,Bt=U&&te>=N&&te<=W;let kr=!1;this._decorationService.forEachDecorationAtCell(te,k,void 0,fe=>{kr=!0});let Ct=ee.getChars()||_.WHITESPACE_CELL_CHAR;if(Ct===" "&&(ee.isUnderline()||ee.isOverline())&&(Ct=""),j=Z*R-F.get(Ct,ee.isBold(),ee.isItalic()),D){if(A&&(_t&&$||!_t&&!$&&ee.bg===z)&&(_t&&$&&b.selectionForeground||ee.fg===X)&&ee.extended.ext===Y&&Bt===B&&j===L&&!wt&&!ne&&!kr){ee.isInvisible()?H+=_.WHITESPACE_CELL_CHAR:H+=Ct,A++;continue}A&&(D.textContent=H),D=this._document.createElement("span"),A=0,H=""}else D=this._document.createElement("span");if(z=ee.bg,X=ee.fg,Y=ee.extended.ext,B=Bt,L=j,$=_t,ne&&M>=te&&M<=ge&&(M=te),!this._coreService.isCursorHidden&&wt&&this._coreService.isCursorInitialized){if(q.push("xterm-cursor"),this._coreBrowserService.isFocused)O&&q.push("xterm-cursor-blink"),q.push(x==="bar"?"xterm-cursor-bar":x==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(P)switch(P){case"outline":q.push("xterm-cursor-outline");break;case"block":q.push("xterm-cursor-block");break;case"bar":q.push("xterm-cursor-bar");break;case"underline":q.push("xterm-cursor-underline")}}if(ee.isBold()&&q.push("xterm-bold"),ee.isItalic()&&q.push("xterm-italic"),ee.isDim()&&q.push("xterm-dim"),H=ee.isInvisible()?_.WHITESPACE_CELL_CHAR:ee.getChars()||_.WHITESPACE_CELL_CHAR,ee.isUnderline()&&(q.push("xterm-underline-".concat(ee.extended.underlineStyle)),H===" "&&(H=""),!ee.isUnderlineColorDefault()))if(ee.isUnderlineColorRGB())D.style.textDecorationColor="rgb(".concat(a.AttributeData.toColorRGB(ee.getUnderlineColor()).join(","),")");else{let fe=ee.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&ee.isBold()&&fe<8&&(fe+=8),D.style.textDecorationColor=b.ansi[fe].css}ee.isOverline()&&(q.push("xterm-overline"),H===" "&&(H="")),ee.isStrikethrough()&&q.push("xterm-strikethrough"),Bt&&(D.style.textDecoration="underline");let ae=ee.getFgColor(),Ae=ee.getFgColorMode(),xe=ee.getBgColor(),sr=ee.getBgColorMode();const li=!!ee.isInverse();if(li){const fe=ae;ae=xe,xe=fe;const pd=Ae;Ae=sr,sr=pd}let pt,It,Ft,ci=!1;switch(this._decorationService.forEachDecorationAtCell(te,k,void 0,fe=>{fe.options.layer!=="top"&&ci||(fe.backgroundColorRGB&&(sr=50331648,xe=fe.backgroundColorRGB.rgba>>8&16777215,pt=fe.backgroundColorRGB),fe.foregroundColorRGB&&(Ae=50331648,ae=fe.foregroundColorRGB.rgba>>8&16777215,It=fe.foregroundColorRGB),ci=fe.options.layer==="top")}),!ci&&_t&&(pt=this._coreBrowserService.isFocused?b.selectionBackgroundOpaque:b.selectionInactiveBackgroundOpaque,xe=pt.rgba>>8&16777215,sr=50331648,ci=!0,b.selectionForeground&&(Ae=50331648,ae=b.selectionForeground.rgba>>8&16777215,It=b.selectionForeground)),ci&&q.push("xterm-decoration-top"),sr){case 16777216:case 33554432:Ft=b.ansi[xe],q.push("xterm-bg-".concat(xe));break;case 50331648:Ft=S.channels.toColor(xe>>16,xe>>8&255,255&xe),this._addStyle(D,"background-color:#".concat(E((xe>>>0).toString(16),"0",6)));break;default:li?(Ft=b.foreground,q.push("xterm-bg-".concat(u.INVERTED_DEFAULT_COLOR))):Ft=b.background}switch(pt||ee.isDim()&&(pt=S.color.multiplyOpacity(Ft,.5)),Ae){case 16777216:case 33554432:ee.isBold()&&ae<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(ae+=8),this._applyMinimumContrast(D,Ft,b.ansi[ae],ee,pt,void 0)||q.push("xterm-fg-".concat(ae));break;case 50331648:const fe=S.channels.toColor(ae>>16&255,ae>>8&255,255&ae);this._applyMinimumContrast(D,Ft,fe,ee,pt,It)||this._addStyle(D,"color:#".concat(E(ae.toString(16),"0",6)));break;default:this._applyMinimumContrast(D,Ft,b.foreground,ee,pt,It)||li&&q.push("xterm-fg-".concat(u.INVERTED_DEFAULT_COLOR))}q.length&&(D.className=q.join(" "),q.length=0),wt||ne||kr?D.textContent=H:A++,j!==this.defaultSpacing&&(D.style.letterSpacing="".concat(j,"px")),K.push(D),te=ge}return D&&A&&(D.textContent=H),K}_applyMinimumContrast(C,k,y,x,P,M){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,s.treatGlyphAsBackgroundColor)(x.getCode()))return!1;const O=this._getContrastCache(x);let R;if(P||M||(R=O.getColor(k.rgba,y.rgba)),R===void 0){const F=this._optionsService.rawOptions.minimumContrastRatio/(x.isDim()?2:1);R=S.color.ensureContrastRatio(P||k,M||y,F),O.setColor((P||k).rgba,(M||y).rgba,R!=null?R:null)}return!!R&&(this._addStyle(C,"color:".concat(R.css)),!0)}_getContrastCache(C){return C.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(C,k){C.setAttribute("style","".concat(C.getAttribute("style")||"").concat(k,";"))}_isCellInSelection(C,k){const y=this._selectionStart,x=this._selectionEnd;return!(!y||!x)&&(this._columnSelectMode?y[0]<=x[0]?C>=y[0]&&k>=y[1]&&C<x[0]&&k<=x[1]:C<y[0]&&k>=y[1]&&C>=x[0]&&k<=x[1]:k>y[1]&&k<x[1]||y[1]===x[1]&&k===y[1]&&C>=y[0]&&C<x[0]||y[1]<x[1]&&k===x[1]&&C<x[0]||y[1]<x[1]&&k===y[1]&&C>=y[0])}};function E(C,k,y){for(;C.length<y;)C=k+C;return C}n.DomRendererRowFactory=m=h([p(1,d.ICharacterJoinerService),p(2,w.IOptionsService),p(3,d.ICoreBrowserService),p(4,w.ICoreService),p(5,w.IDecorationService),p(6,d.IThemeService)],m)},2550:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WidthCache=void 0,n.WidthCache=class{constructor(l,h){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=l.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const p=l.createElement("span");p.classList.add("xterm-char-measure-element");const u=l.createElement("span");u.classList.add("xterm-char-measure-element"),u.style.fontWeight="bold";const _=l.createElement("span");_.classList.add("xterm-char-measure-element"),_.style.fontStyle="italic";const g=l.createElement("span");g.classList.add("xterm-char-measure-element"),g.style.fontWeight="bold",g.style.fontStyle="italic",this._measureElements=[p,u,_,g],this._container.appendChild(p),this._container.appendChild(u),this._container.appendChild(_),this._container.appendChild(g),h.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(l,h,p,u){l===this._font&&h===this._fontSize&&p===this._weight&&u===this._weightBold||(this._font=l,this._fontSize=h,this._weight=p,this._weightBold=u,this._container.style.fontFamily=this._font,this._container.style.fontSize="".concat(this._fontSize,"px"),this._measureElements[0].style.fontWeight="".concat(p),this._measureElements[1].style.fontWeight="".concat(u),this._measureElements[2].style.fontWeight="".concat(p),this._measureElements[3].style.fontWeight="".concat(u),this.clear())}get(l,h,p){let u=0;if(!h&&!p&&l.length===1&&(u=l.charCodeAt(0))<256){if(this._flat[u]!==-9999)return this._flat[u];const w=this._measure(l,0);return w>0&&(this._flat[u]=w),w}let _=l;h&&(_+="B"),p&&(_+="I");let g=this._holey.get(_);if(g===void 0){let w=0;h&&(w|=1),p&&(w|=2),g=this._measure(l,w),g>0&&this._holey.set(_,g)}return g}_measure(l,h){const p=this._measureElements[h];return p.textContent=l.repeat(32),p.offsetWidth/32}}},2223:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TEXT_BASELINE=n.DIM_OPACITY=n.INVERTED_DEFAULT_COLOR=void 0;const h=l(6114);n.INVERTED_DEFAULT_COLOR=257,n.DIM_OPACITY=.5,n.TEXT_BASELINE=h.isFirefox||h.isLegacyEdge?"bottom":"ideographic"},6171:(v,n)=>{function l(p){return 57508<=p&&p<=57558}function h(p){return p>=128512&&p<=128591||p>=127744&&p<=128511||p>=128640&&p<=128767||p>=9728&&p<=9983||p>=9984&&p<=10175||p>=65024&&p<=65039||p>=129280&&p<=129535||p>=127462&&p<=127487}Object.defineProperty(n,"__esModule",{value:!0}),n.computeNextVariantOffset=n.createRenderDimensions=n.treatGlyphAsBackgroundColor=n.allowRescaling=n.isEmoji=n.isRestrictedPowerlineGlyph=n.isPowerlineGlyph=n.throwIfFalsy=void 0,n.throwIfFalsy=function(p){if(!p)throw new Error("value must not be falsy");return p},n.isPowerlineGlyph=l,n.isRestrictedPowerlineGlyph=function(p){return 57520<=p&&p<=57527},n.isEmoji=h,n.allowRescaling=function(p,u,_,g){return u===1&&_>Math.ceil(1.5*g)&&p!==void 0&&p>255&&!h(p)&&!l(p)&&!function(w){return 57344<=w&&w<=63743}(p)},n.treatGlyphAsBackgroundColor=function(p){return l(p)||function(u){return 9472<=u&&u<=9631}(p)},n.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},n.computeNextVariantOffset=function(p,u,_=0){return(p-(2*Math.round(u)-_))%(2*Math.round(u))}},6052:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createSelectionRenderModel=void 0;class l{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(p,u,_,g=!1){if(this.selectionStart=u,this.selectionEnd=_,!u||!_||u[0]===_[0]&&u[1]===_[1])return void this.clear();const w=p.buffers.active.ydisp,S=u[1]-w,d=_[1]-w,c=Math.max(S,0),s=Math.min(d,p.rows-1);c>=p.rows||s<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=g,this.viewportStartRow=S,this.viewportEndRow=d,this.viewportCappedStartRow=c,this.viewportCappedEndRow=s,this.startCol=u[0],this.endCol=_[0])}isCellSelected(p,u,_){return!!this.hasSelection&&(_-=p.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?u>=this.startCol&&_>=this.viewportCappedStartRow&&u<this.endCol&&_<=this.viewportCappedEndRow:u<this.startCol&&_>=this.viewportCappedStartRow&&u>=this.endCol&&_<=this.viewportCappedEndRow:_>this.viewportStartRow&&_<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&_===this.viewportStartRow&&u>=this.startCol&&u<this.endCol||this.viewportStartRow<this.viewportEndRow&&_===this.viewportEndRow&&u<this.endCol||this.viewportStartRow<this.viewportEndRow&&_===this.viewportStartRow&&u>=this.startCol)}}n.createSelectionRenderModel=function(){return new l}},456:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionModel=void 0,n.SelectionModel=class{constructor(l){this._bufferService=l,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?l%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)-1]:[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[l,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[Math.max(l,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const l=this.selectionStart,h=this.selectionEnd;return!(!l||!h)&&(l[1]>h[1]||l[1]===h[1]&&l[0]>h[0])}handleTrim(l){return this.selectionStart&&(this.selectionStart[1]-=l),this.selectionEnd&&(this.selectionEnd[1]-=l),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(v,n,l){var h=this&&this.__decorate||function(s,a,m,E){var C,k=arguments.length,y=k<3?a:E===null?E=Object.getOwnPropertyDescriptor(a,m):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(s,a,m,E);else for(var x=s.length-1;x>=0;x--)(C=s[x])&&(y=(k<3?C(y):k>3?C(a,m,y):C(a,m))||y);return k>3&&y&&Object.defineProperty(a,m,y),y},p=this&&this.__param||function(s,a){return function(m,E){a(m,E,s)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharSizeService=void 0;const u=l(2585),_=l(8460),g=l(844);let w=n.CharSizeService=class extends g.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(s,a,m){super(),this._optionsService=m,this.width=0,this.height=0,this._onCharSizeChange=this.register(new _.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new c(this._optionsService))}catch(E){this._measureStrategy=this.register(new d(s,a,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const s=this._measureStrategy.measure();s.width===this.width&&s.height===this.height||(this.width=s.width,this.height=s.height,this._onCharSizeChange.fire())}};n.CharSizeService=w=h([p(2,u.IOptionsService)],w);class S extends g.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(a,m){a!==void 0&&a>0&&m!==void 0&&m>0&&(this._result.width=a,this._result.height=m)}}class d extends S{constructor(a,m,E){super(),this._document=a,this._parentElement=m,this._optionsService=E,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize="".concat(this._optionsService.rawOptions.fontSize,"px"),this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class c extends S{constructor(a){super(),this._optionsService=a,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const m=this._ctx.measureText("W");if(!("width"in m&&"fontBoundingBoxAscent"in m&&"fontBoundingBoxDescent"in m))throw new Error("Required font metrics not supported")}measure(){this._ctx.font="".concat(this._optionsService.rawOptions.fontSize,"px ").concat(this._optionsService.rawOptions.fontFamily);const a=this._ctx.measureText("W");return this._validateAndSet(a.width,a.fontBoundingBoxAscent+a.fontBoundingBoxDescent),this._result}}},4269:function(v,n,l){var h=this&&this.__decorate||function(c,s,a,m){var E,C=arguments.length,k=C<3?s:m===null?m=Object.getOwnPropertyDescriptor(s,a):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(c,s,a,m);else for(var y=c.length-1;y>=0;y--)(E=c[y])&&(k=(C<3?E(k):C>3?E(s,a,k):E(s,a))||k);return C>3&&k&&Object.defineProperty(s,a,k),k},p=this&&this.__param||function(c,s){return function(a,m){s(a,m,c)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CharacterJoinerService=n.JoinedCellData=void 0;const u=l(3734),_=l(643),g=l(511),w=l(2585);class S extends u.AttributeData{constructor(s,a,m){super(),this.content=0,this.combinedData="",this.fg=s.fg,this.bg=s.bg,this.combinedData=a,this._width=m}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(s){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}n.JoinedCellData=S;let d=n.CharacterJoinerService=class _d{constructor(s){this._bufferService=s,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new g.CellData}register(s){const a={id:this._nextCharacterJoinerId++,handler:s};return this._characterJoiners.push(a),a.id}deregister(s){for(let a=0;a<this._characterJoiners.length;a++)if(this._characterJoiners[a].id===s)return this._characterJoiners.splice(a,1),!0;return!1}getJoinedCharacters(s){if(this._characterJoiners.length===0)return[];const a=this._bufferService.buffer.lines.get(s);if(!a||a.length===0)return[];const m=[],E=a.translateToString(!0);let C=0,k=0,y=0,x=a.getFg(0),P=a.getBg(0);for(let M=0;M<a.getTrimmedLength();M++)if(a.loadCell(M,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==x||this._workCell.bg!==P){if(M-C>1){const O=this._getJoinedRanges(E,y,k,a,C);for(let R=0;R<O.length;R++)m.push(O[R])}C=M,y=k,x=this._workCell.fg,P=this._workCell.bg}k+=this._workCell.getChars().length||_.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-C>1){const M=this._getJoinedRanges(E,y,k,a,C);for(let O=0;O<M.length;O++)m.push(M[O])}return m}_getJoinedRanges(s,a,m,E,C){const k=s.substring(a,m);let y=[];try{y=this._characterJoiners[0].handler(k)}catch(x){console.error(x)}for(let x=1;x<this._characterJoiners.length;x++)try{const P=this._characterJoiners[x].handler(k);for(let M=0;M<P.length;M++)_d._mergeRanges(y,P[M])}catch(P){console.error(P)}return this._stringRangesToCellRanges(y,E,C),y}_stringRangesToCellRanges(s,a,m){let E=0,C=!1,k=0,y=s[E];if(y){for(let x=m;x<this._bufferService.cols;x++){const P=a.getWidth(x),M=a.getString(x).length||_.WHITESPACE_CELL_CHAR.length;if(P!==0){if(!C&&y[0]<=k&&(y[0]=x,C=!0),y[1]<=k){if(y[1]=x,y=s[++E],!y)break;y[0]<=k?(y[0]=x,C=!0):C=!1}k+=M}}y&&(y[1]=this._bufferService.cols)}}static _mergeRanges(s,a){let m=!1;for(let E=0;E<s.length;E++){const C=s[E];if(m){if(a[1]<=C[0])return s[E-1][1]=a[1],s;if(a[1]<=C[1])return s[E-1][1]=Math.max(a[1],C[1]),s.splice(E,1),s;s.splice(E,1),E--}else{if(a[1]<=C[0])return s.splice(E,0,a),s;if(a[1]<=C[1])return C[0]=Math.min(a[0],C[0]),s;a[0]<C[1]&&(C[0]=Math.min(a[0],C[0]),m=!0)}}return m?s[s.length-1][1]=a[1]:s.push(a),s}};n.CharacterJoinerService=d=h([p(0,w.IBufferService)],d)},5114:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoreBrowserService=void 0;const h=l(844),p=l(8460),u=l(3656);class _ extends h.Disposable{constructor(S,d,c){super(),this._textarea=S,this._window=d,this.mainDocument=c,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new g(this._window),this._onDprChange=this.register(new p.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new p.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange(s=>this._screenDprMonitor.setWindow(s))),this.register((0,p.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get window(){return this._window}set window(S){this._window!==S&&(this._window=S,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}n.CoreBrowserService=_;class g extends h.Disposable{constructor(S){super(),this._parentWindow=S,this._windowResizeListener=this.register(new h.MutableDisposable),this._onDprChange=this.register(new p.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,h.toDisposable)(()=>this.clearListener()))}setWindow(S){this._parentWindow=S,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,u.addDisposableDomListener)(this._parentWindow,"resize",()=>this._setDprAndFireIfDiffers())}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){var S;this._outerListener&&((S=this._resolutionMediaMatchList)==null||S.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia("screen and (resolution: ".concat(this._parentWindow.devicePixelRatio,"dppx)")),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.LinkProviderService=void 0;const h=l(844);class p extends h.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,h.toDisposable)(()=>this.linkProviders.length=0))}registerLinkProvider(_){return this.linkProviders.push(_),{dispose:()=>{const g=this.linkProviders.indexOf(_);g!==-1&&this.linkProviders.splice(g,1)}}}}n.LinkProviderService=p},8934:function(v,n,l){var h=this&&this.__decorate||function(w,S,d,c){var s,a=arguments.length,m=a<3?S:c===null?c=Object.getOwnPropertyDescriptor(S,d):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(w,S,d,c);else for(var E=w.length-1;E>=0;E--)(s=w[E])&&(m=(a<3?s(m):a>3?s(S,d,m):s(S,d))||m);return a>3&&m&&Object.defineProperty(S,d,m),m},p=this&&this.__param||function(w,S){return function(d,c){S(d,c,w)}};Object.defineProperty(n,"__esModule",{value:!0}),n.MouseService=void 0;const u=l(4725),_=l(9806);let g=n.MouseService=class{constructor(w,S){this._renderService=w,this._charSizeService=S}getCoords(w,S,d,c,s){return(0,_.getCoords)(window,w,S,d,c,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,s)}getMouseReportCoords(w,S){const d=(0,_.getCoordsRelativeToElement)(window,w,S);if(this._charSizeService.hasValidSize)return d[0]=Math.min(Math.max(d[0],0),this._renderService.dimensions.css.canvas.width-1),d[1]=Math.min(Math.max(d[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(d[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(d[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(d[0]),y:Math.floor(d[1])}}};n.MouseService=g=h([p(0,u.IRenderService),p(1,u.ICharSizeService)],g)},3230:function(v,n,l){var h=this&&this.__decorate||function(s,a,m,E){var C,k=arguments.length,y=k<3?a:E===null?E=Object.getOwnPropertyDescriptor(a,m):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(s,a,m,E);else for(var x=s.length-1;x>=0;x--)(C=s[x])&&(y=(k<3?C(y):k>3?C(a,m,y):C(a,m))||y);return k>3&&y&&Object.defineProperty(a,m,y),y},p=this&&this.__param||function(s,a){return function(m,E){a(m,E,s)}};Object.defineProperty(n,"__esModule",{value:!0}),n.RenderService=void 0;const u=l(6193),_=l(4725),g=l(8460),w=l(844),S=l(7226),d=l(2585);let c=n.RenderService=class extends w.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(s,a,m,E,C,k,y,x){super(),this._rowCount=s,this._charSizeService=E,this._renderer=this.register(new w.MutableDisposable),this._pausedResizeTask=new S.DebouncedIdleTask,this._observerDisposable=this.register(new w.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new g.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new g.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new g.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new g.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new u.RenderDebouncer((P,M)=>this._renderRows(P,M),y),this.register(this._renderDebouncer),this.register(y.onDprChange(()=>this.handleDevicePixelRatioChange())),this.register(k.onResize(()=>this._fullRefresh())),this.register(k.buffers.onBufferActivate(()=>{var P;return(P=this._renderer.value)==null?void 0:P.clear()})),this.register(m.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(C.onDecorationRegistered(()=>this._fullRefresh())),this.register(C.onDecorationRemoved(()=>this._fullRefresh())),this.register(m.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],()=>{this.clear(),this.handleResize(k.cols,k.rows),this._fullRefresh()})),this.register(m.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(k.buffer.y,k.buffer.y,!0))),this.register(x.onChangeColors(()=>this._fullRefresh())),this._registerIntersectionObserver(y.window,a),this.register(y.onWindowChange(P=>this._registerIntersectionObserver(P,a)))}_registerIntersectionObserver(s,a){if("IntersectionObserver"in s){const m=new s.IntersectionObserver(E=>this._handleIntersectionChange(E[E.length-1]),{threshold:0});m.observe(a),this._observerDisposable.value=(0,w.toDisposable)(()=>m.disconnect())}}_handleIntersectionChange(s){this._isPaused=s.isIntersecting===void 0?s.intersectionRatio===0:!s.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(s,a,m=!1){this._isPaused?this._needsFullRefresh=!0:(m||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(s,a,this._rowCount))}_renderRows(s,a){this._renderer.value&&(s=Math.min(s,this._rowCount-1),a=Math.min(a,this._rowCount-1),this._renderer.value.renderRows(s,a),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:s,end:a}),this._onRender.fire({start:s,end:a}),this._isNextRenderRedrawOnly=!0)}resize(s,a){this._rowCount=a,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(s){this._renderer.value=s,this._renderer.value&&(this._renderer.value.onRequestRedraw(a=>this.refreshRows(a.start,a.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(s){return this._renderDebouncer.addRefreshCallback(s)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var s,a;this._renderer.value&&((a=(s=this._renderer.value).clearTextureAtlas)==null||a.call(s),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(s,a){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>{var m;return(m=this._renderer.value)==null?void 0:m.handleResize(s,a)}):this._renderer.value.handleResize(s,a),this._fullRefresh())}handleCharSizeChanged(){var s;(s=this._renderer.value)==null||s.handleCharSizeChanged()}handleBlur(){var s;(s=this._renderer.value)==null||s.handleBlur()}handleFocus(){var s;(s=this._renderer.value)==null||s.handleFocus()}handleSelectionChanged(s,a,m){var E;this._selectionState.start=s,this._selectionState.end=a,this._selectionState.columnSelectMode=m,(E=this._renderer.value)==null||E.handleSelectionChanged(s,a,m)}handleCursorMove(){var s;(s=this._renderer.value)==null||s.handleCursorMove()}clear(){var s;(s=this._renderer.value)==null||s.clear()}};n.RenderService=c=h([p(2,d.IOptionsService),p(3,_.ICharSizeService),p(4,d.IDecorationService),p(5,d.IBufferService),p(6,_.ICoreBrowserService),p(7,_.IThemeService)],c)},9312:function(v,n,l){var h=this&&this.__decorate||function(y,x,P,M){var O,R=arguments.length,F=R<3?x:M===null?M=Object.getOwnPropertyDescriptor(x,P):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(y,x,P,M);else for(var N=y.length-1;N>=0;N--)(O=y[N])&&(F=(R<3?O(F):R>3?O(x,P,F):O(x,P))||F);return R>3&&F&&Object.defineProperty(x,P,F),F},p=this&&this.__param||function(y,x){return function(P,M){x(P,M,y)}};Object.defineProperty(n,"__esModule",{value:!0}),n.SelectionService=void 0;const u=l(9806),_=l(9504),g=l(456),w=l(4725),S=l(8460),d=l(844),c=l(6114),s=l(4841),a=l(511),m=l(2585),E="",C=new RegExp(E,"g");let k=n.SelectionService=class extends d.Disposable{constructor(y,x,P,M,O,R,F,N,W){super(),this._element=y,this._screenElement=x,this._linkifier=P,this._bufferService=M,this._coreService=O,this._mouseService=R,this._optionsService=F,this._renderService=N,this._coreBrowserService=W,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new a.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new S.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new S.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new S.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new S.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=K=>this._handleMouseMove(K),this._mouseUpListener=K=>this._handleMouseUp(K),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(K=>this._handleTrim(K)),this.register(this._bufferService.buffers.onBufferActivate(K=>this._handleBufferActivate(K))),this.enable(),this._model=new g.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,d.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const y=this._model.finalSelectionStart,x=this._model.finalSelectionEnd;return!(!y||!x||y[0]===x[0]&&y[1]===x[1])}get selectionText(){const y=this._model.finalSelectionStart,x=this._model.finalSelectionEnd;if(!y||!x)return"";const P=this._bufferService.buffer,M=[];if(this._activeSelectionMode===3){if(y[0]===x[0])return"";const O=y[0]<x[0]?y[0]:x[0],R=y[0]<x[0]?x[0]:y[0];for(let F=y[1];F<=x[1];F++){const N=P.translateBufferLineToString(F,!0,O,R);M.push(N)}}else{const O=y[1]===x[1]?x[0]:void 0;M.push(P.translateBufferLineToString(y[1],!0,y[0],O));for(let R=y[1]+1;R<=x[1]-1;R++){const F=P.lines.get(R),N=P.translateBufferLineToString(R,!0);F!=null&&F.isWrapped?M[M.length-1]+=N:M.push(N)}if(y[1]!==x[1]){const R=P.lines.get(x[1]),F=P.translateBufferLineToString(x[1],!0,0,x[0]);R&&R.isWrapped?M[M.length-1]+=F:M.push(F)}}return M.map(O=>O.replace(C," ")).join(c.isWindows?"\r\n":"\n")}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(y){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),c.isLinux&&y&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(y){const x=this._getMouseBufferCoords(y),P=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;return!!(P&&M&&x)&&this._areCoordsInSelection(x,P,M)}isCellInSelection(y,x){const P=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;return!(!P||!M)&&this._areCoordsInSelection([y,x],P,M)}_areCoordsInSelection(y,x,P){return y[1]>x[1]&&y[1]<P[1]||x[1]===P[1]&&y[1]===x[1]&&y[0]>=x[0]&&y[0]<P[0]||x[1]<P[1]&&y[1]===P[1]&&y[0]<P[0]||x[1]<P[1]&&y[1]===x[1]&&y[0]>=x[0]}_selectWordAtCursor(y,x){var O,R;const P=(R=(O=this._linkifier.currentLink)==null?void 0:O.link)==null?void 0:R.range;if(P)return this._model.selectionStart=[P.start.x-1,P.start.y-1],this._model.selectionStartLength=(0,s.getRangeLength)(P,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const M=this._getMouseBufferCoords(y);return!!M&&(this._selectWordAt(M,x),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(y,x){this._model.clearSelection(),y=Math.max(y,0),x=Math.min(x,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,y],this._model.selectionEnd=[this._bufferService.cols,x],this.refresh(),this._onSelectionChange.fire()}_handleTrim(y){this._model.handleTrim(y)&&this.refresh()}_getMouseBufferCoords(y){const x=this._mouseService.getCoords(y,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(x)return x[0]--,x[1]--,x[1]+=this._bufferService.buffer.ydisp,x}_getMouseEventScrollAmount(y){let x=(0,u.getCoordsRelativeToElement)(this._coreBrowserService.window,y,this._screenElement)[1];const P=this._renderService.dimensions.css.canvas.height;return x>=0&&x<=P?0:(x>P&&(x-=P),x=Math.min(Math.max(x,-50),50),x/=50,x/Math.abs(x)+Math.round(14*x))}shouldForceSelection(y){return c.isMac?y.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:y.shiftKey}handleMouseDown(y){if(this._mouseDownTimeStamp=y.timeStamp,(y.button!==2||!this.hasSelection)&&y.button===0){if(!this._enabled){if(!this.shouldForceSelection(y))return;y.stopPropagation()}y.preventDefault(),this._dragScrollAmount=0,this._enabled&&y.shiftKey?this._handleIncrementalClick(y):y.detail===1?this._handleSingleClick(y):y.detail===2?this._handleDoubleClick(y):y.detail===3&&this._handleTripleClick(y),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(y){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(y))}_handleSingleClick(y){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(y)?3:0,this._model.selectionStart=this._getMouseBufferCoords(y),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const x=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);x&&x.length!==this._model.selectionStart[0]&&x.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(y){this._selectWordAtCursor(y,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(y){const x=this._getMouseBufferCoords(y);x&&(this._activeSelectionMode=2,this._selectLineAt(x[1]))}shouldColumnSelect(y){return y.altKey&&!(c.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(y){if(y.stopImmediatePropagation(),!this._model.selectionStart)return;const x=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(y),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(y),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const P=this._bufferService.buffer;if(this._model.selectionEnd[1]<P.lines.length){const M=P.lines.get(this._model.selectionEnd[1]);M&&M.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}x&&x[0]===this._model.selectionEnd[0]&&x[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const y=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(y.ydisp+this._bufferService.rows,y.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=y.ydisp),this.refresh()}}_handleMouseUp(y){const x=y.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&x<500&&y.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const P=this._mouseService.getCoords(y,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(P&&P[0]!==void 0&&P[1]!==void 0){const M=(0,_.moveToCellSequence)(P[0]-1,P[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(M,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const y=this._model.finalSelectionStart,x=this._model.finalSelectionEnd,P=!(!y||!x||y[0]===x[0]&&y[1]===x[1]);P?y&&x&&(this._oldSelectionStart&&this._oldSelectionEnd&&y[0]===this._oldSelectionStart[0]&&y[1]===this._oldSelectionStart[1]&&x[0]===this._oldSelectionEnd[0]&&x[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(y,x,P)):this._oldHasSelection&&this._fireOnSelectionChange(y,x,P)}_fireOnSelectionChange(y,x,P){this._oldSelectionStart=y,this._oldSelectionEnd=x,this._oldHasSelection=P,this._onSelectionChange.fire()}_handleBufferActivate(y){this.clearSelection(),this._trimListener.dispose(),this._trimListener=y.activeBuffer.lines.onTrim(x=>this._handleTrim(x))}_convertViewportColToCharacterIndex(y,x){let P=x;for(let M=0;x>=M;M++){const O=y.loadCell(M,this._workCell).getChars().length;this._workCell.getWidth()===0?P--:O>1&&x!==M&&(P+=O-1)}return P}setSelection(y,x,P){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[y,x],this._model.selectionStartLength=P,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(y){this._isClickInSelection(y)||(this._selectWordAtCursor(y,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(y,x,P=!0,M=!0){if(y[0]>=this._bufferService.cols)return;const O=this._bufferService.buffer,R=O.lines.get(y[1]);if(!R)return;const F=O.translateBufferLineToString(y[1],!1);let N=this._convertViewportColToCharacterIndex(R,y[0]),W=N;const K=y[0]-N;let I=0,b=0,D=0,T=0;if(F.charAt(N)===" "){for(;N>0&&F.charAt(N-1)===" ";)N--;for(;W<F.length&&F.charAt(W+1)===" ";)W++}else{let z=y[0],X=y[0];R.getWidth(z)===0&&(I++,z--),R.getWidth(X)===2&&(b++,X++);const Y=R.getString(X).length;for(Y>1&&(T+=Y-1,W+=Y-1);z>0&&N>0&&!this._isCharWordSeparator(R.loadCell(z-1,this._workCell));){R.loadCell(z-1,this._workCell);const B=this._workCell.getChars().length;this._workCell.getWidth()===0?(I++,z--):B>1&&(D+=B-1,N-=B-1),N--,z--}for(;X<R.length&&W+1<F.length&&!this._isCharWordSeparator(R.loadCell(X+1,this._workCell));){R.loadCell(X+1,this._workCell);const B=this._workCell.getChars().length;this._workCell.getWidth()===2?(b++,X++):B>1&&(T+=B-1,W+=B-1),W++,X++}}W++;let A=N+K-I+D,H=Math.min(this._bufferService.cols,W-N+I+b-D-T);if(x||F.slice(N,W).trim()!==""){if(P&&A===0&&R.getCodePoint(0)!==32){const z=O.lines.get(y[1]-1);if(z&&R.isWrapped&&z.getCodePoint(this._bufferService.cols-1)!==32){const X=this._getWordAt([this._bufferService.cols-1,y[1]-1],!1,!0,!1);if(X){const Y=this._bufferService.cols-X.start;A-=Y,H+=Y}}}if(M&&A+H===this._bufferService.cols&&R.getCodePoint(this._bufferService.cols-1)!==32){const z=O.lines.get(y[1]+1);if(z!=null&&z.isWrapped&&z.getCodePoint(0)!==32){const X=this._getWordAt([0,y[1]+1],!1,!1,!0);X&&(H+=X.length)}}return{start:A,length:H}}}_selectWordAt(y,x){const P=this._getWordAt(y,x);if(P){for(;P.start<0;)P.start+=this._bufferService.cols,y[1]--;this._model.selectionStart=[P.start,y[1]],this._model.selectionStartLength=P.length}}_selectToWordAt(y){const x=this._getWordAt(y,!0);if(x){let P=y[1];for(;x.start<0;)x.start+=this._bufferService.cols,P--;if(!this._model.areSelectionValuesReversed())for(;x.start+x.length>this._bufferService.cols;)x.length-=this._bufferService.cols,P++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?x.start:x.start+x.length,P]}}_isCharWordSeparator(y){return y.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(y.getChars())>=0}_selectLineAt(y){const x=this._bufferService.buffer.getWrappedRangeForLine(y),P={start:{x:0,y:x.first},end:{x:this._bufferService.cols-1,y:x.last}};this._model.selectionStart=[0,x.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,s.getRangeLength)(P,this._bufferService.cols)}};n.SelectionService=k=h([p(3,m.IBufferService),p(4,m.ICoreService),p(5,w.IMouseService),p(6,m.IOptionsService),p(7,w.IRenderService),p(8,w.ICoreBrowserService)],k)},4725:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ILinkProviderService=n.IThemeService=n.ICharacterJoinerService=n.ISelectionService=n.IRenderService=n.IMouseService=n.ICoreBrowserService=n.ICharSizeService=void 0;const h=l(8343);n.ICharSizeService=(0,h.createDecorator)("CharSizeService"),n.ICoreBrowserService=(0,h.createDecorator)("CoreBrowserService"),n.IMouseService=(0,h.createDecorator)("MouseService"),n.IRenderService=(0,h.createDecorator)("RenderService"),n.ISelectionService=(0,h.createDecorator)("SelectionService"),n.ICharacterJoinerService=(0,h.createDecorator)("CharacterJoinerService"),n.IThemeService=(0,h.createDecorator)("ThemeService"),n.ILinkProviderService=(0,h.createDecorator)("LinkProviderService")},6731:function(v,n,l){var h=this&&this.__decorate||function(k,y,x,P){var M,O=arguments.length,R=O<3?y:P===null?P=Object.getOwnPropertyDescriptor(y,x):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(k,y,x,P);else for(var F=k.length-1;F>=0;F--)(M=k[F])&&(R=(O<3?M(R):O>3?M(y,x,R):M(y,x))||R);return O>3&&R&&Object.defineProperty(y,x,R),R},p=this&&this.__param||function(k,y){return function(x,P){y(x,P,k)}};Object.defineProperty(n,"__esModule",{value:!0}),n.ThemeService=n.DEFAULT_ANSI_COLORS=void 0;const u=l(7239),_=l(8055),g=l(8460),w=l(844),S=l(2585),d=_.css.toColor("#ffffff"),c=_.css.toColor("#000000"),s=_.css.toColor("#ffffff"),a=_.css.toColor("#000000"),m={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};n.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const k=[_.css.toColor("#2e3436"),_.css.toColor("#cc0000"),_.css.toColor("#4e9a06"),_.css.toColor("#c4a000"),_.css.toColor("#3465a4"),_.css.toColor("#75507b"),_.css.toColor("#06989a"),_.css.toColor("#d3d7cf"),_.css.toColor("#555753"),_.css.toColor("#ef2929"),_.css.toColor("#8ae234"),_.css.toColor("#fce94f"),_.css.toColor("#729fcf"),_.css.toColor("#ad7fa8"),_.css.toColor("#34e2e2"),_.css.toColor("#eeeeec")],y=[0,95,135,175,215,255];for(let x=0;x<216;x++){const P=y[x/36%6|0],M=y[x/6%6|0],O=y[x%6];k.push({css:_.channels.toCss(P,M,O),rgba:_.channels.toRgba(P,M,O)})}for(let x=0;x<24;x++){const P=8+10*x;k.push({css:_.channels.toCss(P,P,P),rgba:_.channels.toRgba(P,P,P)})}return k})());let E=n.ThemeService=class extends w.Disposable{get colors(){return this._colors}constructor(k){super(),this._optionsService=k,this._contrastCache=new u.ColorContrastCache,this._halfContrastCache=new u.ColorContrastCache,this._onChangeColors=this.register(new g.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:d,background:c,cursor:s,cursorAccent:a,selectionForeground:void 0,selectionBackgroundTransparent:m,selectionBackgroundOpaque:_.color.blend(c,m),selectionInactiveBackgroundTransparent:m,selectionInactiveBackgroundOpaque:_.color.blend(c,m),ansi:n.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(k={}){const y=this._colors;if(y.foreground=C(k.foreground,d),y.background=C(k.background,c),y.cursor=C(k.cursor,s),y.cursorAccent=C(k.cursorAccent,a),y.selectionBackgroundTransparent=C(k.selectionBackground,m),y.selectionBackgroundOpaque=_.color.blend(y.background,y.selectionBackgroundTransparent),y.selectionInactiveBackgroundTransparent=C(k.selectionInactiveBackground,y.selectionBackgroundTransparent),y.selectionInactiveBackgroundOpaque=_.color.blend(y.background,y.selectionInactiveBackgroundTransparent),y.selectionForeground=k.selectionForeground?C(k.selectionForeground,_.NULL_COLOR):void 0,y.selectionForeground===_.NULL_COLOR&&(y.selectionForeground=void 0),_.color.isOpaque(y.selectionBackgroundTransparent)&&(y.selectionBackgroundTransparent=_.color.opacity(y.selectionBackgroundTransparent,.3)),_.color.isOpaque(y.selectionInactiveBackgroundTransparent)&&(y.selectionInactiveBackgroundTransparent=_.color.opacity(y.selectionInactiveBackgroundTransparent,.3)),y.ansi=n.DEFAULT_ANSI_COLORS.slice(),y.ansi[0]=C(k.black,n.DEFAULT_ANSI_COLORS[0]),y.ansi[1]=C(k.red,n.DEFAULT_ANSI_COLORS[1]),y.ansi[2]=C(k.green,n.DEFAULT_ANSI_COLORS[2]),y.ansi[3]=C(k.yellow,n.DEFAULT_ANSI_COLORS[3]),y.ansi[4]=C(k.blue,n.DEFAULT_ANSI_COLORS[4]),y.ansi[5]=C(k.magenta,n.DEFAULT_ANSI_COLORS[5]),y.ansi[6]=C(k.cyan,n.DEFAULT_ANSI_COLORS[6]),y.ansi[7]=C(k.white,n.DEFAULT_ANSI_COLORS[7]),y.ansi[8]=C(k.brightBlack,n.DEFAULT_ANSI_COLORS[8]),y.ansi[9]=C(k.brightRed,n.DEFAULT_ANSI_COLORS[9]),y.ansi[10]=C(k.brightGreen,n.DEFAULT_ANSI_COLORS[10]),y.ansi[11]=C(k.brightYellow,n.DEFAULT_ANSI_COLORS[11]),y.ansi[12]=C(k.brightBlue,n.DEFAULT_ANSI_COLORS[12]),y.ansi[13]=C(k.brightMagenta,n.DEFAULT_ANSI_COLORS[13]),y.ansi[14]=C(k.brightCyan,n.DEFAULT_ANSI_COLORS[14]),y.ansi[15]=C(k.brightWhite,n.DEFAULT_ANSI_COLORS[15]),k.extendedAnsi){const x=Math.min(y.ansi.length-16,k.extendedAnsi.length);for(let P=0;P<x;P++)y.ansi[P+16]=C(k.extendedAnsi[P],n.DEFAULT_ANSI_COLORS[P+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(k){this._restoreColor(k),this._onChangeColors.fire(this.colors)}_restoreColor(k){if(k!==void 0)switch(k){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[k]=this._restoreColors.ansi[k]}else for(let y=0;y<this._restoreColors.ansi.length;++y)this._colors.ansi[y]=this._restoreColors.ansi[y]}modifyColors(k){k(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function C(k,y){if(k!==void 0)try{return _.css.toColor(k)}catch(x){}return y}n.ThemeService=E=h([p(0,S.IOptionsService)],E)},6349:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CircularList=void 0;const h=l(8460),p=l(844);class u extends p.Disposable{constructor(g){super(),this._maxLength=g,this.onDeleteEmitter=this.register(new h.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new h.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new h.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(g){if(this._maxLength===g)return;const w=new Array(g);for(let S=0;S<Math.min(g,this.length);S++)w[S]=this._array[this._getCyclicIndex(S)];this._array=w,this._maxLength=g,this._startIndex=0}get length(){return this._length}set length(g){if(g>this._length)for(let w=this._length;w<g;w++)this._array[w]=void 0;this._length=g}get(g){return this._array[this._getCyclicIndex(g)]}set(g,w){this._array[this._getCyclicIndex(g)]=w}push(g){this._array[this._getCyclicIndex(this._length)]=g,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(g,w,...S){if(w){for(let d=g;d<this._length-w;d++)this._array[this._getCyclicIndex(d)]=this._array[this._getCyclicIndex(d+w)];this._length-=w,this.onDeleteEmitter.fire({index:g,amount:w})}for(let d=this._length-1;d>=g;d--)this._array[this._getCyclicIndex(d+S.length)]=this._array[this._getCyclicIndex(d)];for(let d=0;d<S.length;d++)this._array[this._getCyclicIndex(g+d)]=S[d];if(S.length&&this.onInsertEmitter.fire({index:g,amount:S.length}),this._length+S.length>this._maxLength){const d=this._length+S.length-this._maxLength;this._startIndex+=d,this._length=this._maxLength,this.onTrimEmitter.fire(d)}else this._length+=S.length}trimStart(g){g>this._length&&(g=this._length),this._startIndex+=g,this._length-=g,this.onTrimEmitter.fire(g)}shiftElements(g,w,S){if(!(w<=0)){if(g<0||g>=this._length)throw new Error("start argument out of range");if(g+S<0)throw new Error("Cannot shift elements in list beyond index 0");if(S>0){for(let c=w-1;c>=0;c--)this.set(g+c+S,this.get(g+c));const d=g+w+S-this._length;if(d>0)for(this._length+=d;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let d=0;d<w;d++)this.set(g+d+S,this.get(g+d))}}_getCyclicIndex(g){return(this._startIndex+g)%this._maxLength}}n.CircularList=u},1439:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.clone=void 0,n.clone=function l(h,p=5){if(typeof h!="object")return h;const u=Array.isArray(h)?[]:{};for(const _ in h)u[_]=p<=1?h[_]:h[_]&&l(h[_],p-1);return u}},8055:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.contrastRatio=n.toPaddedHex=n.rgba=n.rgb=n.css=n.color=n.channels=n.NULL_COLOR=void 0;let l=0,h=0,p=0,u=0;var _,g,w,S,d;function c(a){const m=a.toString(16);return m.length<2?"0"+m:m}function s(a,m){return a<m?(m+.05)/(a+.05):(a+.05)/(m+.05)}n.NULL_COLOR={css:"#00000000",rgba:0},function(a){a.toCss=function(m,E,C,k){return k!==void 0?"#".concat(c(m)).concat(c(E)).concat(c(C)).concat(c(k)):"#".concat(c(m)).concat(c(E)).concat(c(C))},a.toRgba=function(m,E,C,k=255){return(m<<24|E<<16|C<<8|k)>>>0},a.toColor=function(m,E,C,k){return{css:a.toCss(m,E,C,k),rgba:a.toRgba(m,E,C,k)}}}(_||(n.channels=_={})),function(a){function m(E,C){return u=Math.round(255*C),[l,h,p]=d.toChannels(E.rgba),{css:_.toCss(l,h,p,u),rgba:_.toRgba(l,h,p,u)}}a.blend=function(E,C){if(u=(255&C.rgba)/255,u===1)return{css:C.css,rgba:C.rgba};const k=C.rgba>>24&255,y=C.rgba>>16&255,x=C.rgba>>8&255,P=E.rgba>>24&255,M=E.rgba>>16&255,O=E.rgba>>8&255;return l=P+Math.round((k-P)*u),h=M+Math.round((y-M)*u),p=O+Math.round((x-O)*u),{css:_.toCss(l,h,p),rgba:_.toRgba(l,h,p)}},a.isOpaque=function(E){return(255&E.rgba)==255},a.ensureContrastRatio=function(E,C,k){const y=d.ensureContrastRatio(E.rgba,C.rgba,k);if(y)return _.toColor(y>>24&255,y>>16&255,y>>8&255)},a.opaque=function(E){const C=(255|E.rgba)>>>0;return[l,h,p]=d.toChannels(C),{css:_.toCss(l,h,p),rgba:C}},a.opacity=m,a.multiplyOpacity=function(E,C){return u=255&E.rgba,m(E,u*C/255)},a.toColorRGB=function(E){return[E.rgba>>24&255,E.rgba>>16&255,E.rgba>>8&255]}}(g||(n.color=g={})),function(a){let m,E;try{const C=document.createElement("canvas");C.width=1,C.height=1;const k=C.getContext("2d",{willReadFrequently:!0});k&&(m=k,m.globalCompositeOperation="copy",E=m.createLinearGradient(0,0,1,1))}catch(C){}a.toColor=function(C){if(C.match(/#[\da-f]{3,8}/i))switch(C.length){case 4:return l=parseInt(C.slice(1,2).repeat(2),16),h=parseInt(C.slice(2,3).repeat(2),16),p=parseInt(C.slice(3,4).repeat(2),16),_.toColor(l,h,p);case 5:return l=parseInt(C.slice(1,2).repeat(2),16),h=parseInt(C.slice(2,3).repeat(2),16),p=parseInt(C.slice(3,4).repeat(2),16),u=parseInt(C.slice(4,5).repeat(2),16),_.toColor(l,h,p,u);case 7:return{css:C,rgba:(parseInt(C.slice(1),16)<<8|255)>>>0};case 9:return{css:C,rgba:parseInt(C.slice(1),16)>>>0}}const k=C.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(k)return l=parseInt(k[1]),h=parseInt(k[2]),p=parseInt(k[3]),u=Math.round(255*(k[5]===void 0?1:parseFloat(k[5]))),_.toColor(l,h,p,u);if(!m||!E)throw new Error("css.toColor: Unsupported css format");if(m.fillStyle=E,m.fillStyle=C,typeof m.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(m.fillRect(0,0,1,1),[l,h,p,u]=m.getImageData(0,0,1,1).data,u!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:_.toRgba(l,h,p,u),css:C}}}(w||(n.css=w={})),function(a){function m(E,C,k){const y=E/255,x=C/255,P=k/255;return .2126*(y<=.03928?y/12.92:Math.pow((y+.055)/1.055,2.4))+.7152*(x<=.03928?x/12.92:Math.pow((x+.055)/1.055,2.4))+.0722*(P<=.03928?P/12.92:Math.pow((P+.055)/1.055,2.4))}a.relativeLuminance=function(E){return m(E>>16&255,E>>8&255,255&E)},a.relativeLuminance2=m}(S||(n.rgb=S={})),function(a){function m(C,k,y){const x=C>>24&255,P=C>>16&255,M=C>>8&255;let O=k>>24&255,R=k>>16&255,F=k>>8&255,N=s(S.relativeLuminance2(O,R,F),S.relativeLuminance2(x,P,M));for(;N<y&&(O>0||R>0||F>0);)O-=Math.max(0,Math.ceil(.1*O)),R-=Math.max(0,Math.ceil(.1*R)),F-=Math.max(0,Math.ceil(.1*F)),N=s(S.relativeLuminance2(O,R,F),S.relativeLuminance2(x,P,M));return(O<<24|R<<16|F<<8|255)>>>0}function E(C,k,y){const x=C>>24&255,P=C>>16&255,M=C>>8&255;let O=k>>24&255,R=k>>16&255,F=k>>8&255,N=s(S.relativeLuminance2(O,R,F),S.relativeLuminance2(x,P,M));for(;N<y&&(O<255||R<255||F<255);)O=Math.min(255,O+Math.ceil(.1*(255-O))),R=Math.min(255,R+Math.ceil(.1*(255-R))),F=Math.min(255,F+Math.ceil(.1*(255-F))),N=s(S.relativeLuminance2(O,R,F),S.relativeLuminance2(x,P,M));return(O<<24|R<<16|F<<8|255)>>>0}a.blend=function(C,k){if(u=(255&k)/255,u===1)return k;const y=k>>24&255,x=k>>16&255,P=k>>8&255,M=C>>24&255,O=C>>16&255,R=C>>8&255;return l=M+Math.round((y-M)*u),h=O+Math.round((x-O)*u),p=R+Math.round((P-R)*u),_.toRgba(l,h,p)},a.ensureContrastRatio=function(C,k,y){const x=S.relativeLuminance(C>>8),P=S.relativeLuminance(k>>8);if(s(x,P)<y){if(P<x){const R=m(C,k,y),F=s(x,S.relativeLuminance(R>>8));if(F<y){const N=E(C,k,y);return F>s(x,S.relativeLuminance(N>>8))?R:N}return R}const M=E(C,k,y),O=s(x,S.relativeLuminance(M>>8));if(O<y){const R=m(C,k,y);return O>s(x,S.relativeLuminance(R>>8))?M:R}return M}},a.reduceLuminance=m,a.increaseLuminance=E,a.toChannels=function(C){return[C>>24&255,C>>16&255,C>>8&255,255&C]}}(d||(n.rgba=d={})),n.toPaddedHex=c,n.contrastRatio=s},8969:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoreTerminal=void 0;const h=l(844),p=l(2585),u=l(4348),_=l(7866),g=l(744),w=l(7302),S=l(6975),d=l(8460),c=l(1753),s=l(1480),a=l(7994),m=l(9282),E=l(5435),C=l(5981),k=l(2660);let y=!1;class x extends h.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new d.EventEmitter),this._onScroll.event(M=>{var O;(O=this._onScrollApi)==null||O.fire(M.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(M){for(const O in M)this.optionsService.options[O]=M[O]}constructor(M){super(),this._windowsWrappingHeuristics=this.register(new h.MutableDisposable),this._onBinary=this.register(new d.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new d.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new d.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new d.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new d.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new d.EventEmitter),this._instantiationService=new u.InstantiationService,this.optionsService=this.register(new w.OptionsService(M)),this._instantiationService.setService(p.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(g.BufferService)),this._instantiationService.setService(p.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(_.LogService)),this._instantiationService.setService(p.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(S.CoreService)),this._instantiationService.setService(p.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(c.CoreMouseService)),this._instantiationService.setService(p.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(s.UnicodeService)),this._instantiationService.setService(p.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(a.CharsetService),this._instantiationService.setService(p.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(k.OscLinkService),this._instantiationService.setService(p.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new E.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,d.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,d.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,d.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,d.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(O=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(O=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new C.WriteBuffer((O,R)=>this._inputHandler.parse(O,R))),this.register((0,d.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(M,O){this._writeBuffer.write(M,O)}writeSync(M,O){this._logService.logLevel<=p.LogLevelEnum.WARN&&!y&&(this._logService.warn("writeSync is unreliable and will be removed soon."),y=!0),this._writeBuffer.writeSync(M,O)}input(M,O=!0){this.coreService.triggerDataEvent(M,O)}resize(M,O){isNaN(M)||isNaN(O)||(M=Math.max(M,g.MINIMUM_COLS),O=Math.max(O,g.MINIMUM_ROWS),this._bufferService.resize(M,O))}scroll(M,O=!1){this._bufferService.scroll(M,O)}scrollLines(M,O,R){this._bufferService.scrollLines(M,O,R)}scrollPages(M){this.scrollLines(M*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(M){const O=M-this._bufferService.buffer.ydisp;O!==0&&this.scrollLines(O)}registerEscHandler(M,O){return this._inputHandler.registerEscHandler(M,O)}registerDcsHandler(M,O){return this._inputHandler.registerDcsHandler(M,O)}registerCsiHandler(M,O){return this._inputHandler.registerCsiHandler(M,O)}registerOscHandler(M,O){return this._inputHandler.registerOscHandler(M,O)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let M=!1;const O=this.optionsService.rawOptions.windowsPty;O&&O.buildNumber!==void 0&&O.buildNumber!==void 0?M=O.backend==="conpty"&&O.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(M=!0),M?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const M=[];M.push(this.onLineFeed(m.updateWindowsModeWrappedState.bind(null,this._bufferService))),M.push(this.registerCsiHandler({final:"H"},()=>((0,m.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,h.toDisposable)(()=>{for(const O of M)O.dispose()})}}}n.CoreTerminal=x},8460:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.runAndSubscribe=n.forwardEvent=n.EventEmitter=void 0,n.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let h=0;h<this._listeners.length;h++)if(this._listeners[h]===l)return void this._listeners.splice(h,1)}}})),this._event}fire(l,h){const p=[];for(let u=0;u<this._listeners.length;u++)p.push(this._listeners[u]);for(let u=0;u<p.length;u++)p[u].call(void 0,l,h)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},n.forwardEvent=function(l,h){return l(p=>h.fire(p))},n.runAndSubscribe=function(l,h){return h(void 0),l(p=>h(p))}},5435:function(v,n,l){var h=this&&this.__decorate||function(I,b,D,T){var A,H=arguments.length,z=H<3?b:T===null?T=Object.getOwnPropertyDescriptor(b,D):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")z=Reflect.decorate(I,b,D,T);else for(var X=I.length-1;X>=0;X--)(A=I[X])&&(z=(H<3?A(z):H>3?A(b,D,z):A(b,D))||z);return H>3&&z&&Object.defineProperty(b,D,z),z},p=this&&this.__param||function(I,b){return function(D,T){b(D,T,I)}};Object.defineProperty(n,"__esModule",{value:!0}),n.InputHandler=n.WindowsOptionsReportType=void 0;const u=l(2584),_=l(7116),g=l(2015),w=l(844),S=l(482),d=l(8437),c=l(8460),s=l(643),a=l(511),m=l(3734),E=l(2585),C=l(1480),k=l(6242),y=l(6351),x=l(5941),P={"(":0,")":1,"*":2,"+":3,"-":1,".":2},M=131072;function O(I,b){if(I>24)return b.setWinLines||!1;switch(I){case 1:return!!b.restoreWin;case 2:return!!b.minimizeWin;case 3:return!!b.setWinPosition;case 4:return!!b.setWinSizePixels;case 5:return!!b.raiseWin;case 6:return!!b.lowerWin;case 7:return!!b.refreshWin;case 8:return!!b.setWinSizeChars;case 9:return!!b.maximizeWin;case 10:return!!b.fullscreenWin;case 11:return!!b.getWinState;case 13:return!!b.getWinPosition;case 14:return!!b.getWinSizePixels;case 15:return!!b.getScreenSizePixels;case 16:return!!b.getCellSizePixels;case 18:return!!b.getWinSizeChars;case 19:return!!b.getScreenSizeChars;case 20:return!!b.getIconTitle;case 21:return!!b.getWinTitle;case 22:return!!b.pushTitle;case 23:return!!b.popTitle;case 24:return!!b.setWinLines}return!1}var R;(function(I){I[I.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",I[I.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(R||(n.WindowsOptionsReportType=R={}));let F=0;class N extends w.Disposable{getAttrData(){return this._curAttrData}constructor(b,D,T,A,H,z,X,Y,B=new g.EscapeSequenceParser){super(),this._bufferService=b,this._charsetService=D,this._coreService=T,this._logService=A,this._optionsService=H,this._oscLinkService=z,this._coreMouseService=X,this._unicodeService=Y,this._parser=B,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new S.StringToUtf32,this._utf8Decoder=new S.Utf8ToUtf32,this._workCell=new a.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new c.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new c.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new c.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new c.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new c.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new c.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new c.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new c.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new c.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new c.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new c.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new c.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new c.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new W(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(L=>this._activeBuffer=L.activeBuffer)),this._parser.setCsiHandlerFallback((L,$)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(L),params:$.toArray()})}),this._parser.setEscHandlerFallback(L=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(L)})}),this._parser.setExecuteHandlerFallback(L=>{this._logService.debug("Unknown EXECUTE code: ",{code:L})}),this._parser.setOscHandlerFallback((L,$,j)=>{this._logService.debug("Unknown OSC code: ",{identifier:L,action:$,data:j})}),this._parser.setDcsHandlerFallback((L,$,j)=>{$==="HOOK"&&(j=j.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(L),action:$,payload:j})}),this._parser.setPrintHandler((L,$,j)=>this.print(L,$,j)),this._parser.registerCsiHandler({final:"@"},L=>this.insertChars(L)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},L=>this.scrollLeft(L)),this._parser.registerCsiHandler({final:"A"},L=>this.cursorUp(L)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},L=>this.scrollRight(L)),this._parser.registerCsiHandler({final:"B"},L=>this.cursorDown(L)),this._parser.registerCsiHandler({final:"C"},L=>this.cursorForward(L)),this._parser.registerCsiHandler({final:"D"},L=>this.cursorBackward(L)),this._parser.registerCsiHandler({final:"E"},L=>this.cursorNextLine(L)),this._parser.registerCsiHandler({final:"F"},L=>this.cursorPrecedingLine(L)),this._parser.registerCsiHandler({final:"G"},L=>this.cursorCharAbsolute(L)),this._parser.registerCsiHandler({final:"H"},L=>this.cursorPosition(L)),this._parser.registerCsiHandler({final:"I"},L=>this.cursorForwardTab(L)),this._parser.registerCsiHandler({final:"J"},L=>this.eraseInDisplay(L,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},L=>this.eraseInDisplay(L,!0)),this._parser.registerCsiHandler({final:"K"},L=>this.eraseInLine(L,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},L=>this.eraseInLine(L,!0)),this._parser.registerCsiHandler({final:"L"},L=>this.insertLines(L)),this._parser.registerCsiHandler({final:"M"},L=>this.deleteLines(L)),this._parser.registerCsiHandler({final:"P"},L=>this.deleteChars(L)),this._parser.registerCsiHandler({final:"S"},L=>this.scrollUp(L)),this._parser.registerCsiHandler({final:"T"},L=>this.scrollDown(L)),this._parser.registerCsiHandler({final:"X"},L=>this.eraseChars(L)),this._parser.registerCsiHandler({final:"Z"},L=>this.cursorBackwardTab(L)),this._parser.registerCsiHandler({final:"`"},L=>this.charPosAbsolute(L)),this._parser.registerCsiHandler({final:"a"},L=>this.hPositionRelative(L)),this._parser.registerCsiHandler({final:"b"},L=>this.repeatPrecedingCharacter(L)),this._parser.registerCsiHandler({final:"c"},L=>this.sendDeviceAttributesPrimary(L)),this._parser.registerCsiHandler({prefix:">",final:"c"},L=>this.sendDeviceAttributesSecondary(L)),this._parser.registerCsiHandler({final:"d"},L=>this.linePosAbsolute(L)),this._parser.registerCsiHandler({final:"e"},L=>this.vPositionRelative(L)),this._parser.registerCsiHandler({final:"f"},L=>this.hVPosition(L)),this._parser.registerCsiHandler({final:"g"},L=>this.tabClear(L)),this._parser.registerCsiHandler({final:"h"},L=>this.setMode(L)),this._parser.registerCsiHandler({prefix:"?",final:"h"},L=>this.setModePrivate(L)),this._parser.registerCsiHandler({final:"l"},L=>this.resetMode(L)),this._parser.registerCsiHandler({prefix:"?",final:"l"},L=>this.resetModePrivate(L)),this._parser.registerCsiHandler({final:"m"},L=>this.charAttributes(L)),this._parser.registerCsiHandler({final:"n"},L=>this.deviceStatus(L)),this._parser.registerCsiHandler({prefix:"?",final:"n"},L=>this.deviceStatusPrivate(L)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},L=>this.softReset(L)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},L=>this.setCursorStyle(L)),this._parser.registerCsiHandler({final:"r"},L=>this.setScrollRegion(L)),this._parser.registerCsiHandler({final:"s"},L=>this.saveCursor(L)),this._parser.registerCsiHandler({final:"t"},L=>this.windowOptions(L)),this._parser.registerCsiHandler({final:"u"},L=>this.restoreCursor(L)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},L=>this.insertColumns(L)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},L=>this.deleteColumns(L)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},L=>this.selectProtected(L)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},L=>this.requestMode(L,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},L=>this.requestMode(L,!1)),this._parser.setExecuteHandler(u.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(u.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(u.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(u.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(u.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(u.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(u.C1.IND,()=>this.index()),this._parser.setExecuteHandler(u.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(u.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new k.OscHandler(L=>(this.setTitle(L),this.setIconName(L),!0))),this._parser.registerOscHandler(1,new k.OscHandler(L=>this.setIconName(L))),this._parser.registerOscHandler(2,new k.OscHandler(L=>this.setTitle(L))),this._parser.registerOscHandler(4,new k.OscHandler(L=>this.setOrReportIndexedColor(L))),this._parser.registerOscHandler(8,new k.OscHandler(L=>this.setHyperlink(L))),this._parser.registerOscHandler(10,new k.OscHandler(L=>this.setOrReportFgColor(L))),this._parser.registerOscHandler(11,new k.OscHandler(L=>this.setOrReportBgColor(L))),this._parser.registerOscHandler(12,new k.OscHandler(L=>this.setOrReportCursorColor(L))),this._parser.registerOscHandler(104,new k.OscHandler(L=>this.restoreIndexedColor(L))),this._parser.registerOscHandler(110,new k.OscHandler(L=>this.restoreFgColor(L))),this._parser.registerOscHandler(111,new k.OscHandler(L=>this.restoreBgColor(L))),this._parser.registerOscHandler(112,new k.OscHandler(L=>this.restoreCursorColor(L))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const L in _.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:L},()=>this.selectCharset("("+L)),this._parser.registerEscHandler({intermediates:")",final:L},()=>this.selectCharset(")"+L)),this._parser.registerEscHandler({intermediates:"*",final:L},()=>this.selectCharset("*"+L)),this._parser.registerEscHandler({intermediates:"+",final:L},()=>this.selectCharset("+"+L)),this._parser.registerEscHandler({intermediates:"-",final:L},()=>this.selectCharset("-"+L)),this._parser.registerEscHandler({intermediates:".",final:L},()=>this.selectCharset("."+L)),this._parser.registerEscHandler({intermediates:"/",final:L},()=>this.selectCharset("/"+L));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(L=>(this._logService.error("Parsing error: ",L),L)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new y.DcsHandler((L,$)=>this.requestStatusString(L,$)))}_preserveStack(b,D,T,A){this._parseStack.paused=!0,this._parseStack.cursorStartX=b,this._parseStack.cursorStartY=D,this._parseStack.decodedLength=T,this._parseStack.position=A}_logSlowResolvingAsync(b){this._logService.logLevel<=E.LogLevelEnum.WARN&&Promise.race([b,new Promise((D,T)=>setTimeout(()=>T("#SLOW_TIMEOUT"),5e3))]).catch(D=>{if(D!=="#SLOW_TIMEOUT")throw D;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(b,D){let T,A=this._activeBuffer.x,H=this._activeBuffer.y,z=0;const X=this._parseStack.paused;if(X){if(T=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,D))return this._logSlowResolvingAsync(T),T;A=this._parseStack.cursorStartX,H=this._parseStack.cursorStartY,this._parseStack.paused=!1,b.length>M&&(z=this._parseStack.position+M)}if(this._logService.logLevel<=E.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof b=="string"?' "'.concat(b,'"'):' "'.concat(Array.prototype.map.call(b,L=>String.fromCharCode(L)).join(""),'"')),typeof b=="string"?b.split("").map(L=>L.charCodeAt(0)):b),this._parseBuffer.length<b.length&&this._parseBuffer.length<M&&(this._parseBuffer=new Uint32Array(Math.min(b.length,M))),X||this._dirtyRowTracker.clearRange(),b.length>M)for(let L=z;L<b.length;L+=M){const $=L+M<b.length?L+M:b.length,j=typeof b=="string"?this._stringDecoder.decode(b.substring(L,$),this._parseBuffer):this._utf8Decoder.decode(b.subarray(L,$),this._parseBuffer);if(T=this._parser.parse(this._parseBuffer,j))return this._preserveStack(A,H,j,L),this._logSlowResolvingAsync(T),T}else if(!X){const L=typeof b=="string"?this._stringDecoder.decode(b,this._parseBuffer):this._utf8Decoder.decode(b,this._parseBuffer);if(T=this._parser.parse(this._parseBuffer,L))return this._preserveStack(A,H,L,0),this._logSlowResolvingAsync(T),T}this._activeBuffer.x===A&&this._activeBuffer.y===H||this._onCursorMove.fire();const Y=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),B=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);B<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(B,this._bufferService.rows-1),Math.min(Y,this._bufferService.rows-1))}print(b,D,T){let A,H;const z=this._charsetService.charset,X=this._optionsService.rawOptions.screenReaderMode,Y=this._bufferService.cols,B=this._coreService.decPrivateModes.wraparound,L=this._coreService.modes.insertMode,$=this._curAttrData;let j=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&T-D>0&&j.getWidth(this._activeBuffer.x-1)===2&&j.setCellFromCodepoint(this._activeBuffer.x-1,0,1,$);let q=this._parser.precedingJoinState;for(let U=D;U<T;++U){if(A=b[U],A<127&&z){const ge=z[String.fromCharCode(A)];ge&&(A=ge.charCodeAt(0))}const te=this._unicodeService.charProperties(A,q);H=C.UnicodeService.extractWidth(te);const Z=C.UnicodeService.extractShouldJoin(te),ne=Z?C.UnicodeService.extractWidth(q):0;if(q=te,X&&this._onA11yChar.fire((0,S.stringFromCodePoint)(A)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+H-ne>Y){if(B){const ge=j;let ee=this._activeBuffer.x-ne;for(this._activeBuffer.x=ne,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),j=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),ne>0&&j instanceof d.BufferLine&&j.copyCellsFrom(ge,ee,0,ne,!1);ee<Y;)ge.setCellFromCodepoint(ee++,0,1,$)}else if(this._activeBuffer.x=Y-1,H===2)continue}if(Z&&this._activeBuffer.x){const ge=j.getWidth(this._activeBuffer.x-1)?1:2;j.addCodepointToCell(this._activeBuffer.x-ge,A,H);for(let ee=H-ne;--ee>=0;)j.setCellFromCodepoint(this._activeBuffer.x++,0,0,$)}else if(L&&(j.insertCells(this._activeBuffer.x,H-ne,this._activeBuffer.getNullCell($)),j.getWidth(Y-1)===2&&j.setCellFromCodepoint(Y-1,s.NULL_CELL_CODE,s.NULL_CELL_WIDTH,$)),j.setCellFromCodepoint(this._activeBuffer.x++,A,H,$),H>0)for(;--H;)j.setCellFromCodepoint(this._activeBuffer.x++,0,0,$)}this._parser.precedingJoinState=q,this._activeBuffer.x<Y&&T-D>0&&j.getWidth(this._activeBuffer.x)===0&&!j.hasContent(this._activeBuffer.x)&&j.setCellFromCodepoint(this._activeBuffer.x,0,1,$),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(b,D){return b.final!=="t"||b.prefix||b.intermediates?this._parser.registerCsiHandler(b,D):this._parser.registerCsiHandler(b,T=>!O(T.params[0],this._optionsService.rawOptions.windowOptions)||D(T))}registerDcsHandler(b,D){return this._parser.registerDcsHandler(b,new y.DcsHandler(D))}registerEscHandler(b,D){return this._parser.registerEscHandler(b,D)}registerOscHandler(b,D){return this._parser.registerOscHandler(b,new k.OscHandler(D))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var b;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((b=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))!=null&&b.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const D=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);D.hasWidth(this._activeBuffer.x)&&!D.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const b=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-b),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(b=this._bufferService.cols-1){this._activeBuffer.x=Math.min(b,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(b,D){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=b,this._activeBuffer.y=this._activeBuffer.scrollTop+D):(this._activeBuffer.x=b,this._activeBuffer.y=D),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(b,D){this._restrictCursor(),this._setCursor(this._activeBuffer.x+b,this._activeBuffer.y+D)}cursorUp(b){const D=this._activeBuffer.y-this._activeBuffer.scrollTop;return D>=0?this._moveCursor(0,-Math.min(D,b.params[0]||1)):this._moveCursor(0,-(b.params[0]||1)),!0}cursorDown(b){const D=this._activeBuffer.scrollBottom-this._activeBuffer.y;return D>=0?this._moveCursor(0,Math.min(D,b.params[0]||1)):this._moveCursor(0,b.params[0]||1),!0}cursorForward(b){return this._moveCursor(b.params[0]||1,0),!0}cursorBackward(b){return this._moveCursor(-(b.params[0]||1),0),!0}cursorNextLine(b){return this.cursorDown(b),this._activeBuffer.x=0,!0}cursorPrecedingLine(b){return this.cursorUp(b),this._activeBuffer.x=0,!0}cursorCharAbsolute(b){return this._setCursor((b.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(b){return this._setCursor(b.length>=2?(b.params[1]||1)-1:0,(b.params[0]||1)-1),!0}charPosAbsolute(b){return this._setCursor((b.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(b){return this._moveCursor(b.params[0]||1,0),!0}linePosAbsolute(b){return this._setCursor(this._activeBuffer.x,(b.params[0]||1)-1),!0}vPositionRelative(b){return this._moveCursor(0,b.params[0]||1),!0}hVPosition(b){return this.cursorPosition(b),!0}tabClear(b){const D=b.params[0];return D===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:D===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(b){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let D=b.params[0]||1;for(;D--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(b){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let D=b.params[0]||1;for(;D--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(b){const D=b.params[0];return D===1&&(this._curAttrData.bg|=536870912),D!==2&&D!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(b,D,T,A=!1,H=!1){const z=this._activeBuffer.lines.get(this._activeBuffer.ybase+b);z.replaceCells(D,T,this._activeBuffer.getNullCell(this._eraseAttrData()),H),A&&(z.isWrapped=!1)}_resetBufferLine(b,D=!1){const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+b);T&&(T.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),D),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+b),T.isWrapped=!1)}eraseInDisplay(b,D=!1){let T;switch(this._restrictCursor(this._bufferService.cols),b.params[0]){case 0:for(T=this._activeBuffer.y,this._dirtyRowTracker.markDirty(T),this._eraseInBufferLine(T++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,D);T<this._bufferService.rows;T++)this._resetBufferLine(T,D);this._dirtyRowTracker.markDirty(T);break;case 1:for(T=this._activeBuffer.y,this._dirtyRowTracker.markDirty(T),this._eraseInBufferLine(T,0,this._activeBuffer.x+1,!0,D),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(T+1).isWrapped=!1);T--;)this._resetBufferLine(T,D);this._dirtyRowTracker.markDirty(0);break;case 2:for(T=this._bufferService.rows,this._dirtyRowTracker.markDirty(T-1);T--;)this._resetBufferLine(T,D);this._dirtyRowTracker.markDirty(0);break;case 3:const A=this._activeBuffer.lines.length-this._bufferService.rows;A>0&&(this._activeBuffer.lines.trimStart(A),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-A,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-A,0),this._onScroll.fire(0))}return!0}eraseInLine(b,D=!1){switch(this._restrictCursor(this._bufferService.cols),b.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,D);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,D);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,D)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(b){this._restrictCursor();let D=b.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=this._activeBuffer.ybase+this._activeBuffer.y,A=this._bufferService.rows-1-this._activeBuffer.scrollBottom,H=this._bufferService.rows-1+this._activeBuffer.ybase-A+1;for(;D--;)this._activeBuffer.lines.splice(H-1,1),this._activeBuffer.lines.splice(T,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(b){this._restrictCursor();let D=b.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=this._activeBuffer.ybase+this._activeBuffer.y;let A;for(A=this._bufferService.rows-1-this._activeBuffer.scrollBottom,A=this._bufferService.rows-1+this._activeBuffer.ybase-A;D--;)this._activeBuffer.lines.splice(T,1),this._activeBuffer.lines.splice(A,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(b){this._restrictCursor();const D=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return D&&(D.insertCells(this._activeBuffer.x,b.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(b){this._restrictCursor();const D=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return D&&(D.deleteCells(this._activeBuffer.x,b.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(b){let D=b.params[0]||1;for(;D--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(b){let D=b.params[0]||1;for(;D--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(d.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(b){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const D=b.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);A.deleteCells(0,D,this._activeBuffer.getNullCell(this._eraseAttrData())),A.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(b){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const D=b.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);A.insertCells(0,D,this._activeBuffer.getNullCell(this._eraseAttrData())),A.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(b){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const D=b.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);A.insertCells(this._activeBuffer.x,D,this._activeBuffer.getNullCell(this._eraseAttrData())),A.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(b){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const D=b.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);A.deleteCells(this._activeBuffer.x,D,this._activeBuffer.getNullCell(this._eraseAttrData())),A.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(b){this._restrictCursor();const D=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return D&&(D.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(b.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(b){const D=this._parser.precedingJoinState;if(!D)return!0;const T=b.params[0]||1,A=C.UnicodeService.extractWidth(D),H=this._activeBuffer.x-A,z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(H),X=new Uint32Array(z.length*T);let Y=0;for(let L=0;L<z.length;){const $=z.codePointAt(L)||0;X[Y++]=$,L+=$>65535?2:1}let B=Y;for(let L=1;L<T;++L)X.copyWithin(B,0,Y),B+=Y;return this.print(X,0,B),!0}sendDeviceAttributesPrimary(b){return b.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(u.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(u.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(b){return b.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(u.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(u.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(b.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(u.C0.ESC+"[>83;40003;0c")),!0}_is(b){return(this._optionsService.rawOptions.termName+"").indexOf(b)===0}setMode(b){for(let D=0;D<b.length;D++)switch(b.params[D]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(b){for(let D=0;D<b.length;D++)switch(b.params[D]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,_.DEFAULT_CHARSET),this._charsetService.setgCharset(1,_.DEFAULT_CHARSET),this._charsetService.setgCharset(2,_.DEFAULT_CHARSET),this._charsetService.setgCharset(3,_.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(b){for(let D=0;D<b.length;D++)switch(b.params[D]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(b){for(let D=0;D<b.length;D++)switch(b.params[D]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),b.params[D]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(b,D){const T=this._coreService.decPrivateModes,{activeProtocol:A,activeEncoding:H}=this._coreMouseService,z=this._coreService,{buffers:X,cols:Y}=this._bufferService,{active:B,alt:L}=X,$=this._optionsService.rawOptions,j=Z=>Z?1:2,q=b.params[0];return U=q,te=D?q===2?4:q===4?j(z.modes.insertMode):q===12?3:q===20?j($.convertEol):0:q===1?j(T.applicationCursorKeys):q===3?$.windowOptions.setWinLines?Y===80?2:Y===132?1:0:0:q===6?j(T.origin):q===7?j(T.wraparound):q===8?3:q===9?j(A==="X10"):q===12?j($.cursorBlink):q===25?j(!z.isCursorHidden):q===45?j(T.reverseWraparound):q===66?j(T.applicationKeypad):q===67?4:q===1e3?j(A==="VT200"):q===1002?j(A==="DRAG"):q===1003?j(A==="ANY"):q===1004?j(T.sendFocus):q===1005?4:q===1006?j(H==="SGR"):q===1015?4:q===1016?j(H==="SGR_PIXELS"):q===1048?1:q===47||q===1047||q===1049?j(B===L):q===2004?j(T.bracketedPasteMode):0,z.triggerDataEvent("".concat(u.C0.ESC,"[").concat(D?"":"?").concat(U,";").concat(te,"$y")),!0;var U,te}_updateAttrColor(b,D,T,A,H){return D===2?(b|=50331648,b&=-16777216,b|=m.AttributeData.fromColorRGB([T,A,H])):D===5&&(b&=-50331904,b|=33554432|255&T),b}_extractColor(b,D,T){const A=[0,0,-1,0,0,0];let H=0,z=0;do{if(A[z+H]=b.params[D+z],b.hasSubParams(D+z)){const X=b.getSubParams(D+z);let Y=0;do A[1]===5&&(H=1),A[z+Y+1+H]=X[Y];while(++Y<X.length&&Y+z+1+H<A.length);break}if(A[1]===5&&z+H>=2||A[1]===2&&z+H>=5)break;A[1]&&(H=1)}while(++z+D<b.length&&z+H<A.length);for(let X=2;X<A.length;++X)A[X]===-1&&(A[X]=0);switch(A[0]){case 38:T.fg=this._updateAttrColor(T.fg,A[1],A[3],A[4],A[5]);break;case 48:T.bg=this._updateAttrColor(T.bg,A[1],A[3],A[4],A[5]);break;case 58:T.extended=T.extended.clone(),T.extended.underlineColor=this._updateAttrColor(T.extended.underlineColor,A[1],A[3],A[4],A[5])}return z}_processUnderline(b,D){D.extended=D.extended.clone(),(!~b||b>5)&&(b=1),D.extended.underlineStyle=b,D.fg|=268435456,b===0&&(D.fg&=-268435457),D.updateExtended()}_processSGR0(b){b.fg=d.DEFAULT_ATTR_DATA.fg,b.bg=d.DEFAULT_ATTR_DATA.bg,b.extended=b.extended.clone(),b.extended.underlineStyle=0,b.extended.underlineColor&=-67108864,b.updateExtended()}charAttributes(b){if(b.length===1&&b.params[0]===0)return this._processSGR0(this._curAttrData),!0;const D=b.length;let T;const A=this._curAttrData;for(let H=0;H<D;H++)T=b.params[H],T>=30&&T<=37?(A.fg&=-50331904,A.fg|=16777216|T-30):T>=40&&T<=47?(A.bg&=-50331904,A.bg|=16777216|T-40):T>=90&&T<=97?(A.fg&=-50331904,A.fg|=16777224|T-90):T>=100&&T<=107?(A.bg&=-50331904,A.bg|=16777224|T-100):T===0?this._processSGR0(A):T===1?A.fg|=134217728:T===3?A.bg|=67108864:T===4?(A.fg|=268435456,this._processUnderline(b.hasSubParams(H)?b.getSubParams(H)[0]:1,A)):T===5?A.fg|=536870912:T===7?A.fg|=67108864:T===8?A.fg|=1073741824:T===9?A.fg|=2147483648:T===2?A.bg|=134217728:T===21?this._processUnderline(2,A):T===22?(A.fg&=-134217729,A.bg&=-134217729):T===23?A.bg&=-67108865:T===24?(A.fg&=-268435457,this._processUnderline(0,A)):T===25?A.fg&=-536870913:T===27?A.fg&=-67108865:T===28?A.fg&=-1073741825:T===29?A.fg&=2147483647:T===39?(A.fg&=-67108864,A.fg|=16777215&d.DEFAULT_ATTR_DATA.fg):T===49?(A.bg&=-67108864,A.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):T===38||T===48||T===58?H+=this._extractColor(b,H,A):T===53?A.bg|=1073741824:T===55?A.bg&=-1073741825:T===59?(A.extended=A.extended.clone(),A.extended.underlineColor=-1,A.updateExtended()):T===100?(A.fg&=-67108864,A.fg|=16777215&d.DEFAULT_ATTR_DATA.fg,A.bg&=-67108864,A.bg|=16777215&d.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",T);return!0}deviceStatus(b){switch(b.params[0]){case 5:this._coreService.triggerDataEvent("".concat(u.C0.ESC,"[0n"));break;case 6:const D=this._activeBuffer.y+1,T=this._activeBuffer.x+1;this._coreService.triggerDataEvent("".concat(u.C0.ESC,"[").concat(D,";").concat(T,"R"))}return!0}deviceStatusPrivate(b){if(b.params[0]===6){const D=this._activeBuffer.y+1,T=this._activeBuffer.x+1;this._coreService.triggerDataEvent("".concat(u.C0.ESC,"[?").concat(D,";").concat(T,"R"))}return!0}softReset(b){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(b){const D=b.params[0]||1;switch(D){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const T=D%2==1;return this._optionsService.options.cursorBlink=T,!0}setScrollRegion(b){const D=b.params[0]||1;let T;return(b.length<2||(T=b.params[1])>this._bufferService.rows||T===0)&&(T=this._bufferService.rows),T>D&&(this._activeBuffer.scrollTop=D-1,this._activeBuffer.scrollBottom=T-1,this._setCursor(0,0)),!0}windowOptions(b){if(!O(b.params[0],this._optionsService.rawOptions.windowOptions))return!0;const D=b.length>1?b.params[1]:0;switch(b.params[0]){case 14:D!==2&&this._onRequestWindowsOptionsReport.fire(R.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(R.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent("".concat(u.C0.ESC,"[8;").concat(this._bufferService.rows,";").concat(this._bufferService.cols,"t"));break;case 22:D!==0&&D!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),D!==0&&D!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:D!==0&&D!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),D!==0&&D!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(b){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(b){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(b){return this._windowTitle=b,this._onTitleChange.fire(b),!0}setIconName(b){return this._iconName=b,!0}setOrReportIndexedColor(b){const D=[],T=b.split(";");for(;T.length>1;){const A=T.shift(),H=T.shift();if(/^\d+$/.exec(A)){const z=parseInt(A);if(K(z))if(H==="?")D.push({type:0,index:z});else{const X=(0,x.parseColor)(H);X&&D.push({type:1,index:z,color:X})}}}return D.length&&this._onColor.fire(D),!0}setHyperlink(b){const D=b.split(";");return!(D.length<2)&&(D[1]?this._createHyperlink(D[0],D[1]):!D[0]&&this._finishHyperlink())}_createHyperlink(b,D){this._getCurrentLinkId()&&this._finishHyperlink();const T=b.split(":");let A;const H=T.findIndex(z=>z.startsWith("id="));return H!==-1&&(A=T[H].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:A,uri:D}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(b,D){const T=b.split(";");for(let A=0;A<T.length&&!(D>=this._specialColors.length);++A,++D)if(T[A]==="?")this._onColor.fire([{type:0,index:this._specialColors[D]}]);else{const H=(0,x.parseColor)(T[A]);H&&this._onColor.fire([{type:1,index:this._specialColors[D],color:H}])}return!0}setOrReportFgColor(b){return this._setOrReportSpecialColor(b,0)}setOrReportBgColor(b){return this._setOrReportSpecialColor(b,1)}setOrReportCursorColor(b){return this._setOrReportSpecialColor(b,2)}restoreIndexedColor(b){if(!b)return this._onColor.fire([{type:2}]),!0;const D=[],T=b.split(";");for(let A=0;A<T.length;++A)if(/^\d+$/.exec(T[A])){const H=parseInt(T[A]);K(H)&&D.push({type:2,index:H})}return D.length&&this._onColor.fire(D),!0}restoreFgColor(b){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(b){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(b){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,_.DEFAULT_CHARSET),!0}selectCharset(b){return b.length!==2?(this.selectDefaultCharset(),!0):(b[0]==="/"||this._charsetService.setgCharset(P[b[0]],_.CHARSETS[b[1]]||_.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const b=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,b,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=d.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=d.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(b){return this._charsetService.setgLevel(b),!0}screenAlignmentPattern(){const b=new a.CellData;b.content=4194373,b.fg=this._curAttrData.fg,b.bg=this._curAttrData.bg,this._setCursor(0,0);for(let D=0;D<this._bufferService.rows;++D){const T=this._activeBuffer.ybase+this._activeBuffer.y+D,A=this._activeBuffer.lines.get(T);A&&(A.fill(b),A.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(b,D){const T=this._bufferService.buffer,A=this._optionsService.rawOptions;return(H=>(this._coreService.triggerDataEvent("".concat(u.C0.ESC).concat(H).concat(u.C0.ESC,"\\")),!0))(b==='"q'?"P1$r".concat(this._curAttrData.isProtected()?1:0,'"q'):b==='"p'?'P1$r61;1"p':b==="r"?"P1$r".concat(T.scrollTop+1,";").concat(T.scrollBottom+1,"r"):b==="m"?"P1$r0m":b===" q"?"P1$r".concat({block:2,underline:4,bar:6}[A.cursorStyle]-(A.cursorBlink?1:0)," q"):"P0$r")}markRangeDirty(b,D){this._dirtyRowTracker.markRangeDirty(b,D)}}n.InputHandler=N;let W=class{constructor(I){this._bufferService=I,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(I){I<this.start?this.start=I:I>this.end&&(this.end=I)}markRangeDirty(I,b){I>b&&(F=I,I=b,b=F),I<this.start&&(this.start=I),b>this.end&&(this.end=b)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function K(I){return 0<=I&&I<256}W=h([p(0,E.IBufferService)],W)},844:(v,n)=>{function l(h){for(const p of h)p.dispose();h.length=0}Object.defineProperty(n,"__esModule",{value:!0}),n.getDisposeArrayDisposable=n.disposeArray=n.toDisposable=n.MutableDisposable=n.Disposable=void 0,n.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const h of this._disposables)h.dispose();this._disposables.length=0}register(h){return this._disposables.push(h),h}unregister(h){const p=this._disposables.indexOf(h);p!==-1&&this._disposables.splice(p,1)}},n.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(h){var p;this._isDisposed||h===this._value||((p=this._value)==null||p.dispose(),this._value=h)}clear(){this.value=void 0}dispose(){var h;this._isDisposed=!0,(h=this._value)==null||h.dispose(),this._value=void 0}},n.toDisposable=function(h){return{dispose:h}},n.disposeArray=l,n.getDisposeArrayDisposable=function(h){return{dispose:()=>l(h)}}},1505:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FourKeyMap=n.TwoKeyMap=void 0;class l{constructor(){this._data={}}set(p,u,_){this._data[p]||(this._data[p]={}),this._data[p][u]=_}get(p,u){return this._data[p]?this._data[p][u]:void 0}clear(){this._data={}}}n.TwoKeyMap=l,n.FourKeyMap=class{constructor(){this._data=new l}set(h,p,u,_,g){this._data.get(h,p)||this._data.set(h,p,new l),this._data.get(h,p).set(u,_,g)}get(h,p,u,_){var g;return(g=this._data.get(h,p))==null?void 0:g.get(u,_)}clear(){this._data.clear()}}},6114:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.isChromeOS=n.isLinux=n.isWindows=n.isIphone=n.isIpad=n.isMac=n.getSafariVersion=n.isSafari=n.isLegacyEdge=n.isFirefox=n.isNode=void 0,n.isNode=typeof process<"u"&&"title"in process;const l=n.isNode?"node":navigator.userAgent,h=n.isNode?"node":navigator.platform;n.isFirefox=l.includes("Firefox"),n.isLegacyEdge=l.includes("Edge"),n.isSafari=/^((?!chrome|android).)*safari/i.test(l),n.getSafariVersion=function(){if(!n.isSafari)return 0;const p=l.match(/Version\/(\d+)/);return p===null||p.length<2?0:parseInt(p[1])},n.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(h),n.isIpad=h==="iPad",n.isIphone=h==="iPhone",n.isWindows=["Windows","Win16","Win32","WinCE"].includes(h),n.isLinux=h.indexOf("Linux")>=0,n.isChromeOS=/\bCrOS\b/.test(l)},6106:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SortedList=void 0;let l=0;n.SortedList=class{constructor(h){this._getKey=h,this._array=[]}clear(){this._array.length=0}insert(h){this._array.length!==0?(l=this._search(this._getKey(h)),this._array.splice(l,0,h)):this._array.push(h)}delete(h){if(this._array.length===0)return!1;const p=this._getKey(h);if(p===void 0||(l=this._search(p),l===-1)||this._getKey(this._array[l])!==p)return!1;do if(this._array[l]===h)return this._array.splice(l,1),!0;while(++l<this._array.length&&this._getKey(this._array[l])===p);return!1}*getKeyIterator(h){if(this._array.length!==0&&(l=this._search(h),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===h))do yield this._array[l];while(++l<this._array.length&&this._getKey(this._array[l])===h)}forEachByKey(h,p){if(this._array.length!==0&&(l=this._search(h),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===h))do p(this._array[l]);while(++l<this._array.length&&this._getKey(this._array[l])===h)}values(){return[...this._array].values()}_search(h){let p=0,u=this._array.length-1;for(;u>=p;){let _=p+u>>1;const g=this._getKey(this._array[_]);if(g>h)u=_-1;else{if(!(g<h)){for(;_>0&&this._getKey(this._array[_-1])===h;)_--;return _}p=_+1}}return p}}},7226:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DebouncedIdleTask=n.IdleTaskQueue=n.PriorityTaskQueue=void 0;const h=l(6114);class p{constructor(){this._tasks=[],this._i=0}enqueue(g){this._tasks.push(g),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(g){this._idleCallback=void 0;let w=0,S=0,d=g.timeRemaining(),c=0;for(;this._i<this._tasks.length;){if(w=Date.now(),this._tasks[this._i]()||this._i++,w=Math.max(1,Date.now()-w),S=Math.max(w,S),c=g.timeRemaining(),1.5*S>c)return d-w<-20&&console.warn("task queue exceeded allotted deadline by ".concat(Math.abs(Math.round(d-w)),"ms")),void this._start();d=c}this.clear()}}class u extends p{_requestCallback(g){return setTimeout(()=>g(this._createDeadline(16)))}_cancelCallback(g){clearTimeout(g)}_createDeadline(g){const w=Date.now()+g;return{timeRemaining:()=>Math.max(0,w-Date.now())}}}n.PriorityTaskQueue=u,n.IdleTaskQueue=!h.isNode&&"requestIdleCallback"in window?class extends p{_requestCallback(_){return requestIdleCallback(_)}_cancelCallback(_){cancelIdleCallback(_)}}:u,n.DebouncedIdleTask=class{constructor(){this._queue=new n.IdleTaskQueue}set(_){this._queue.clear(),this._queue.enqueue(_)}flush(){this._queue.flush()}}},9282:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.updateWindowsModeWrappedState=void 0;const h=l(643);n.updateWindowsModeWrappedState=function(p){const u=p.buffer.lines.get(p.buffer.ybase+p.buffer.y-1),_=u==null?void 0:u.get(p.cols-1),g=p.buffer.lines.get(p.buffer.ybase+p.buffer.y);g&&_&&(g.isWrapped=_[h.CHAR_DATA_CODE_INDEX]!==h.NULL_CELL_CODE&&_[h.CHAR_DATA_CODE_INDEX]!==h.WHITESPACE_CELL_CODE)}},3734:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ExtendedAttrs=n.AttributeData=void 0;class l{constructor(){this.fg=0,this.bg=0,this.extended=new h}static toColorRGB(u){return[u>>>16&255,u>>>8&255,255&u]}static fromColorRGB(u){return(255&u[0])<<16|(255&u[1])<<8|255&u[2]}clone(){const u=new l;return u.fg=this.fg,u.bg=this.bg,u.extended=this.extended.clone(),u}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}n.AttributeData=l;class h{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(u){this._ext=u}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(u){this._ext&=-469762049,this._ext|=u<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(u){this._ext&=-67108864,this._ext|=67108863&u}get urlId(){return this._urlId}set urlId(u){this._urlId=u}get underlineVariantOffset(){const u=(3758096384&this._ext)>>29;return u<0?4294967288^u:u}set underlineVariantOffset(u){this._ext&=536870911,this._ext|=u<<29&3758096384}constructor(u=0,_=0){this._ext=0,this._urlId=0,this._ext=u,this._urlId=_}clone(){return new h(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}n.ExtendedAttrs=h},9092:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Buffer=n.MAX_BUFFER_SIZE=void 0;const h=l(6349),p=l(7226),u=l(3734),_=l(8437),g=l(4634),w=l(511),S=l(643),d=l(4863),c=l(7116);n.MAX_BUFFER_SIZE=4294967295,n.Buffer=class{constructor(s,a,m){this._hasScrollback=s,this._optionsService=a,this._bufferService=m,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=_.DEFAULT_ATTR_DATA.clone(),this.savedCharset=c.DEFAULT_CHARSET,this.markers=[],this._nullCell=w.CellData.fromCharData([0,S.NULL_CELL_CHAR,S.NULL_CELL_WIDTH,S.NULL_CELL_CODE]),this._whitespaceCell=w.CellData.fromCharData([0,S.WHITESPACE_CELL_CHAR,S.WHITESPACE_CELL_WIDTH,S.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new p.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(s){return s?(this._nullCell.fg=s.fg,this._nullCell.bg=s.bg,this._nullCell.extended=s.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new u.ExtendedAttrs),this._nullCell}getWhitespaceCell(s){return s?(this._whitespaceCell.fg=s.fg,this._whitespaceCell.bg=s.bg,this._whitespaceCell.extended=s.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new u.ExtendedAttrs),this._whitespaceCell}getBlankLine(s,a){return new _.BufferLine(this._bufferService.cols,this.getNullCell(s),a)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const s=this.ybase+this.y-this.ydisp;return s>=0&&s<this._rows}_getCorrectBufferLength(s){if(!this._hasScrollback)return s;const a=s+this._optionsService.rawOptions.scrollback;return a>n.MAX_BUFFER_SIZE?n.MAX_BUFFER_SIZE:a}fillViewportRows(s){if(this.lines.length===0){s===void 0&&(s=_.DEFAULT_ATTR_DATA);let a=this._rows;for(;a--;)this.lines.push(this.getBlankLine(s))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new h.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(s,a){const m=this.getNullCell(_.DEFAULT_ATTR_DATA);let E=0;const C=this._getCorrectBufferLength(a);if(C>this.lines.maxLength&&(this.lines.maxLength=C),this.lines.length>0){if(this._cols<s)for(let y=0;y<this.lines.length;y++)E+=+this.lines.get(y).resize(s,m);let k=0;if(this._rows<a)for(let y=this._rows;y<a;y++)this.lines.length<a+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new _.BufferLine(s,m)):this.ybase>0&&this.lines.length<=this.ybase+this.y+k+1?(this.ybase--,k++,this.ydisp>0&&this.ydisp--):this.lines.push(new _.BufferLine(s,m)));else for(let y=this._rows;y>a;y--)this.lines.length>a+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(C<this.lines.maxLength){const y=this.lines.length-C;y>0&&(this.lines.trimStart(y),this.ybase=Math.max(this.ybase-y,0),this.ydisp=Math.max(this.ydisp-y,0),this.savedY=Math.max(this.savedY-y,0)),this.lines.maxLength=C}this.x=Math.min(this.x,s-1),this.y=Math.min(this.y,a-1),k&&(this.y+=k),this.savedX=Math.min(this.savedX,s-1),this.scrollTop=0}if(this.scrollBottom=a-1,this._isReflowEnabled&&(this._reflow(s,a),this._cols>s))for(let k=0;k<this.lines.length;k++)E+=+this.lines.get(k).resize(s,m);this._cols=s,this._rows=a,this._memoryCleanupQueue.clear(),E>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let s=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,s=!1);let a=0;for(;this._memoryCleanupPosition<this.lines.length;)if(a+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),a>100)return!0;return s}get _isReflowEnabled(){const s=this._optionsService.rawOptions.windowsPty;return s&&s.buildNumber?this._hasScrollback&&s.backend==="conpty"&&s.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(s,a){this._cols!==s&&(s>this._cols?this._reflowLarger(s,a):this._reflowSmaller(s,a))}_reflowLarger(s,a){const m=(0,g.reflowLargerGetLinesToRemove)(this.lines,this._cols,s,this.ybase+this.y,this.getNullCell(_.DEFAULT_ATTR_DATA));if(m.length>0){const E=(0,g.reflowLargerCreateNewLayout)(this.lines,m);(0,g.reflowLargerApplyNewLayout)(this.lines,E.layout),this._reflowLargerAdjustViewport(s,a,E.countRemoved)}}_reflowLargerAdjustViewport(s,a,m){const E=this.getNullCell(_.DEFAULT_ATTR_DATA);let C=m;for(;C-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<a&&this.lines.push(new _.BufferLine(s,E))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-m,0)}_reflowSmaller(s,a){const m=this.getNullCell(_.DEFAULT_ATTR_DATA),E=[];let C=0;for(let k=this.lines.length-1;k>=0;k--){let y=this.lines.get(k);if(!y||!y.isWrapped&&y.getTrimmedLength()<=s)continue;const x=[y];for(;y.isWrapped&&k>0;)y=this.lines.get(--k),x.unshift(y);const P=this.ybase+this.y;if(P>=k&&P<k+x.length)continue;const M=x[x.length-1].getTrimmedLength(),O=(0,g.reflowSmallerGetNewLineLengths)(x,this._cols,s),R=O.length-x.length;let F;F=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+R):Math.max(0,this.lines.length-this.lines.maxLength+R);const N=[];for(let T=0;T<R;T++){const A=this.getBlankLine(_.DEFAULT_ATTR_DATA,!0);N.push(A)}N.length>0&&(E.push({start:k+x.length+C,newLines:N}),C+=N.length),x.push(...N);let W=O.length-1,K=O[W];K===0&&(W--,K=O[W]);let I=x.length-R-1,b=M;for(;I>=0;){const T=Math.min(b,K);if(x[W]===void 0)break;if(x[W].copyCellsFrom(x[I],b-T,K-T,T,!0),K-=T,K===0&&(W--,K=O[W]),b-=T,b===0){I--;const A=Math.max(I,0);b=(0,g.getWrappedLineTrimmedLength)(x,A,this._cols)}}for(let T=0;T<x.length;T++)O[T]<s&&x[T].setCell(O[T],m);let D=R-F;for(;D-- >0;)this.ybase===0?this.y<a-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+C)-a&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+R,this.ybase+a-1)}if(E.length>0){const k=[],y=[];for(let W=0;W<this.lines.length;W++)y.push(this.lines.get(W));const x=this.lines.length;let P=x-1,M=0,O=E[M];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+C);let R=0;for(let W=Math.min(this.lines.maxLength-1,x+C-1);W>=0;W--)if(O&&O.start>P+R){for(let K=O.newLines.length-1;K>=0;K--)this.lines.set(W--,O.newLines[K]);W++,k.push({index:P+1,amount:O.newLines.length}),R+=O.newLines.length,O=E[++M]}else this.lines.set(W,y[P--]);let F=0;for(let W=k.length-1;W>=0;W--)k[W].index+=F,this.lines.onInsertEmitter.fire(k[W]),F+=k[W].amount;const N=Math.max(0,x+C-this.lines.maxLength);N>0&&this.lines.onTrimEmitter.fire(N)}}translateBufferLineToString(s,a,m=0,E){const C=this.lines.get(s);return C?C.translateToString(a,m,E):""}getWrappedRangeForLine(s){let a=s,m=s;for(;a>0&&this.lines.get(a).isWrapped;)a--;for(;m+1<this.lines.length&&this.lines.get(m+1).isWrapped;)m++;return{first:a,last:m}}setupTabStops(s){for(s!=null?this.tabs[s]||(s=this.prevStop(s)):(this.tabs={},s=0);s<this._cols;s+=this._optionsService.rawOptions.tabStopWidth)this.tabs[s]=!0}prevStop(s){for(s==null&&(s=this.x);!this.tabs[--s]&&s>0;);return s>=this._cols?this._cols-1:s<0?0:s}nextStop(s){for(s==null&&(s=this.x);!this.tabs[++s]&&s<this._cols;);return s>=this._cols?this._cols-1:s<0?0:s}clearMarkers(s){this._isClearing=!0;for(let a=0;a<this.markers.length;a++)this.markers[a].line===s&&(this.markers[a].dispose(),this.markers.splice(a--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let s=0;s<this.markers.length;s++)this.markers[s].dispose(),this.markers.splice(s--,1);this._isClearing=!1}addMarker(s){const a=new d.Marker(s);return this.markers.push(a),a.register(this.lines.onTrim(m=>{a.line-=m,a.line<0&&a.dispose()})),a.register(this.lines.onInsert(m=>{a.line>=m.index&&(a.line+=m.amount)})),a.register(this.lines.onDelete(m=>{a.line>=m.index&&a.line<m.index+m.amount&&a.dispose(),a.line>m.index&&(a.line-=m.amount)})),a.register(a.onDispose(()=>this._removeMarker(a))),a}_removeMarker(s){this._isClearing||this.markers.splice(this.markers.indexOf(s),1)}}},8437:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLine=n.DEFAULT_ATTR_DATA=void 0;const h=l(3734),p=l(511),u=l(643),_=l(482);n.DEFAULT_ATTR_DATA=Object.freeze(new h.AttributeData);let g=0;class w{constructor(d,c,s=!1){this.isWrapped=s,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*d);const a=c||p.CellData.fromCharData([0,u.NULL_CELL_CHAR,u.NULL_CELL_WIDTH,u.NULL_CELL_CODE]);for(let m=0;m<d;++m)this.setCell(m,a);this.length=d}get(d){const c=this._data[3*d+0],s=2097151&c;return[this._data[3*d+1],2097152&c?this._combined[d]:s?(0,_.stringFromCodePoint)(s):"",c>>22,2097152&c?this._combined[d].charCodeAt(this._combined[d].length-1):s]}set(d,c){this._data[3*d+1]=c[u.CHAR_DATA_ATTR_INDEX],c[u.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[d]=c[1],this._data[3*d+0]=2097152|d|c[u.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*d+0]=c[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|c[u.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(d){return this._data[3*d+0]>>22}hasWidth(d){return 12582912&this._data[3*d+0]}getFg(d){return this._data[3*d+1]}getBg(d){return this._data[3*d+2]}hasContent(d){return 4194303&this._data[3*d+0]}getCodePoint(d){const c=this._data[3*d+0];return 2097152&c?this._combined[d].charCodeAt(this._combined[d].length-1):2097151&c}isCombined(d){return 2097152&this._data[3*d+0]}getString(d){const c=this._data[3*d+0];return 2097152&c?this._combined[d]:2097151&c?(0,_.stringFromCodePoint)(2097151&c):""}isProtected(d){return 536870912&this._data[3*d+2]}loadCell(d,c){return g=3*d,c.content=this._data[g+0],c.fg=this._data[g+1],c.bg=this._data[g+2],2097152&c.content&&(c.combinedData=this._combined[d]),268435456&c.bg&&(c.extended=this._extendedAttrs[d]),c}setCell(d,c){2097152&c.content&&(this._combined[d]=c.combinedData),268435456&c.bg&&(this._extendedAttrs[d]=c.extended),this._data[3*d+0]=c.content,this._data[3*d+1]=c.fg,this._data[3*d+2]=c.bg}setCellFromCodepoint(d,c,s,a){268435456&a.bg&&(this._extendedAttrs[d]=a.extended),this._data[3*d+0]=c|s<<22,this._data[3*d+1]=a.fg,this._data[3*d+2]=a.bg}addCodepointToCell(d,c,s){let a=this._data[3*d+0];2097152&a?this._combined[d]+=(0,_.stringFromCodePoint)(c):2097151&a?(this._combined[d]=(0,_.stringFromCodePoint)(2097151&a)+(0,_.stringFromCodePoint)(c),a&=-2097152,a|=2097152):a=c|4194304,s&&(a&=-12582913,a|=s<<22),this._data[3*d+0]=a}insertCells(d,c,s){if((d%=this.length)&&this.getWidth(d-1)===2&&this.setCellFromCodepoint(d-1,0,1,s),c<this.length-d){const a=new p.CellData;for(let m=this.length-d-c-1;m>=0;--m)this.setCell(d+c+m,this.loadCell(d+m,a));for(let m=0;m<c;++m)this.setCell(d+m,s)}else for(let a=d;a<this.length;++a)this.setCell(a,s);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,s)}deleteCells(d,c,s){if(d%=this.length,c<this.length-d){const a=new p.CellData;for(let m=0;m<this.length-d-c;++m)this.setCell(d+m,this.loadCell(d+c+m,a));for(let m=this.length-c;m<this.length;++m)this.setCell(m,s)}else for(let a=d;a<this.length;++a)this.setCell(a,s);d&&this.getWidth(d-1)===2&&this.setCellFromCodepoint(d-1,0,1,s),this.getWidth(d)!==0||this.hasContent(d)||this.setCellFromCodepoint(d,0,1,s)}replaceCells(d,c,s,a=!1){if(a)for(d&&this.getWidth(d-1)===2&&!this.isProtected(d-1)&&this.setCellFromCodepoint(d-1,0,1,s),c<this.length&&this.getWidth(c-1)===2&&!this.isProtected(c)&&this.setCellFromCodepoint(c,0,1,s);d<c&&d<this.length;)this.isProtected(d)||this.setCell(d,s),d++;else for(d&&this.getWidth(d-1)===2&&this.setCellFromCodepoint(d-1,0,1,s),c<this.length&&this.getWidth(c-1)===2&&this.setCellFromCodepoint(c,0,1,s);d<c&&d<this.length;)this.setCell(d++,s)}resize(d,c){if(d===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const s=3*d;if(d>this.length){if(this._data.buffer.byteLength>=4*s)this._data=new Uint32Array(this._data.buffer,0,s);else{const a=new Uint32Array(s);a.set(this._data),this._data=a}for(let a=this.length;a<d;++a)this.setCell(a,c)}else{this._data=this._data.subarray(0,s);const a=Object.keys(this._combined);for(let E=0;E<a.length;E++){const C=parseInt(a[E],10);C>=d&&delete this._combined[C]}const m=Object.keys(this._extendedAttrs);for(let E=0;E<m.length;E++){const C=parseInt(m[E],10);C>=d&&delete this._extendedAttrs[C]}}return this.length=d,4*s*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const d=new Uint32Array(this._data.length);return d.set(this._data),this._data=d,1}return 0}fill(d,c=!1){if(c)for(let s=0;s<this.length;++s)this.isProtected(s)||this.setCell(s,d);else{this._combined={},this._extendedAttrs={};for(let s=0;s<this.length;++s)this.setCell(s,d)}}copyFrom(d){this.length!==d.length?this._data=new Uint32Array(d._data):this._data.set(d._data),this.length=d.length,this._combined={};for(const c in d._combined)this._combined[c]=d._combined[c];this._extendedAttrs={};for(const c in d._extendedAttrs)this._extendedAttrs[c]=d._extendedAttrs[c];this.isWrapped=d.isWrapped}clone(){const d=new w(0);d._data=new Uint32Array(this._data),d.length=this.length;for(const c in this._combined)d._combined[c]=this._combined[c];for(const c in this._extendedAttrs)d._extendedAttrs[c]=this._extendedAttrs[c];return d.isWrapped=this.isWrapped,d}getTrimmedLength(){for(let d=this.length-1;d>=0;--d)if(4194303&this._data[3*d+0])return d+(this._data[3*d+0]>>22);return 0}getNoBgTrimmedLength(){for(let d=this.length-1;d>=0;--d)if(4194303&this._data[3*d+0]||50331648&this._data[3*d+2])return d+(this._data[3*d+0]>>22);return 0}copyCellsFrom(d,c,s,a,m){const E=d._data;if(m)for(let k=a-1;k>=0;k--){for(let y=0;y<3;y++)this._data[3*(s+k)+y]=E[3*(c+k)+y];268435456&E[3*(c+k)+2]&&(this._extendedAttrs[s+k]=d._extendedAttrs[c+k])}else for(let k=0;k<a;k++){for(let y=0;y<3;y++)this._data[3*(s+k)+y]=E[3*(c+k)+y];268435456&E[3*(c+k)+2]&&(this._extendedAttrs[s+k]=d._extendedAttrs[c+k])}const C=Object.keys(d._combined);for(let k=0;k<C.length;k++){const y=parseInt(C[k],10);y>=c&&(this._combined[y-c+s]=d._combined[y])}}translateToString(d,c,s,a){c=c!=null?c:0,s=s!=null?s:this.length,d&&(s=Math.min(s,this.getTrimmedLength())),a&&(a.length=0);let m="";for(;c<s;){const E=this._data[3*c+0],C=2097151&E,k=2097152&E?this._combined[c]:C?(0,_.stringFromCodePoint)(C):u.WHITESPACE_CELL_CHAR;if(m+=k,a)for(let y=0;y<k.length;++y)a.push(c);c+=E>>22||1}return a&&a.push(c),m}}n.BufferLine=w},4841:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getRangeLength=void 0,n.getRangeLength=function(l,h){if(l.start.y>l.end.y)throw new Error("Buffer range end (".concat(l.end.x,", ").concat(l.end.y,") cannot be before start (").concat(l.start.x,", ").concat(l.start.y,")"));return h*(l.end.y-l.start.y)+(l.end.x-l.start.x+1)}},4634:(v,n)=>{function l(h,p,u){if(p===h.length-1)return h[p].getTrimmedLength();const _=!h[p].hasContent(u-1)&&h[p].getWidth(u-1)===1,g=h[p+1].getWidth(0)===2;return _&&g?u-1:u}Object.defineProperty(n,"__esModule",{value:!0}),n.getWrappedLineTrimmedLength=n.reflowSmallerGetNewLineLengths=n.reflowLargerApplyNewLayout=n.reflowLargerCreateNewLayout=n.reflowLargerGetLinesToRemove=void 0,n.reflowLargerGetLinesToRemove=function(h,p,u,_,g){const w=[];for(let S=0;S<h.length-1;S++){let d=S,c=h.get(++d);if(!c.isWrapped)continue;const s=[h.get(S)];for(;d<h.length&&c.isWrapped;)s.push(c),c=h.get(++d);if(_>=S&&_<d){S+=s.length-1;continue}let a=0,m=l(s,a,p),E=1,C=0;for(;E<s.length;){const y=l(s,E,p),x=y-C,P=u-m,M=Math.min(x,P);s[a].copyCellsFrom(s[E],C,m,M,!1),m+=M,m===u&&(a++,m=0),C+=M,C===y&&(E++,C=0),m===0&&a!==0&&s[a-1].getWidth(u-1)===2&&(s[a].copyCellsFrom(s[a-1],u-1,m++,1,!1),s[a-1].setCell(u-1,g))}s[a].replaceCells(m,u,g);let k=0;for(let y=s.length-1;y>0&&(y>a||s[y].getTrimmedLength()===0);y--)k++;k>0&&(w.push(S+s.length-k),w.push(k)),S+=s.length-1}return w},n.reflowLargerCreateNewLayout=function(h,p){const u=[];let _=0,g=p[_],w=0;for(let S=0;S<h.length;S++)if(g===S){const d=p[++_];h.onDeleteEmitter.fire({index:S-w,amount:d}),S+=d-1,w+=d,g=p[++_]}else u.push(S);return{layout:u,countRemoved:w}},n.reflowLargerApplyNewLayout=function(h,p){const u=[];for(let _=0;_<p.length;_++)u.push(h.get(p[_]));for(let _=0;_<u.length;_++)h.set(_,u[_]);h.length=p.length},n.reflowSmallerGetNewLineLengths=function(h,p,u){const _=[],g=h.map((c,s)=>l(h,s,p)).reduce((c,s)=>c+s);let w=0,S=0,d=0;for(;d<g;){if(g-d<u){_.push(g-d);break}w+=u;const c=l(h,S,p);w>c&&(w-=c,S++);const s=h[S].getWidth(w-1)===2;s&&w--;const a=s?u-1:u;_.push(a),d+=a}return _},n.getWrappedLineTrimmedLength=l},5295:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferSet=void 0;const h=l(8460),p=l(844),u=l(9092);class _ extends p.Disposable{constructor(w,S){super(),this._optionsService=w,this._bufferService=S,this._onBufferActivate=this.register(new h.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new u.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new u.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(w){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(w),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(w,S){this._normal.resize(w,S),this._alt.resize(w,S),this.setupTabStops(w)}setupTabStops(w){this._normal.setupTabStops(w),this._alt.setupTabStops(w)}}n.BufferSet=_},511:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CellData=void 0;const h=l(482),p=l(643),u=l(3734);class _ extends u.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new u.ExtendedAttrs,this.combinedData=""}static fromCharData(w){const S=new _;return S.setFromCharData(w),S}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,h.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(w){this.fg=w[p.CHAR_DATA_ATTR_INDEX],this.bg=0;let S=!1;if(w[p.CHAR_DATA_CHAR_INDEX].length>2)S=!0;else if(w[p.CHAR_DATA_CHAR_INDEX].length===2){const d=w[p.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=d&&d<=56319){const c=w[p.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=c&&c<=57343?this.content=1024*(d-55296)+c-56320+65536|w[p.CHAR_DATA_WIDTH_INDEX]<<22:S=!0}else S=!0}else this.content=w[p.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|w[p.CHAR_DATA_WIDTH_INDEX]<<22;S&&(this.combinedData=w[p.CHAR_DATA_CHAR_INDEX],this.content=2097152|w[p.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}n.CellData=_},643:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WHITESPACE_CELL_CODE=n.WHITESPACE_CELL_WIDTH=n.WHITESPACE_CELL_CHAR=n.NULL_CELL_CODE=n.NULL_CELL_WIDTH=n.NULL_CELL_CHAR=n.CHAR_DATA_CODE_INDEX=n.CHAR_DATA_WIDTH_INDEX=n.CHAR_DATA_CHAR_INDEX=n.CHAR_DATA_ATTR_INDEX=n.DEFAULT_EXT=n.DEFAULT_ATTR=n.DEFAULT_COLOR=void 0,n.DEFAULT_COLOR=0,n.DEFAULT_ATTR=256|n.DEFAULT_COLOR<<9,n.DEFAULT_EXT=0,n.CHAR_DATA_ATTR_INDEX=0,n.CHAR_DATA_CHAR_INDEX=1,n.CHAR_DATA_WIDTH_INDEX=2,n.CHAR_DATA_CODE_INDEX=3,n.NULL_CELL_CHAR="",n.NULL_CELL_WIDTH=1,n.NULL_CELL_CODE=0,n.WHITESPACE_CELL_CHAR=" ",n.WHITESPACE_CELL_WIDTH=1,n.WHITESPACE_CELL_CODE=32},4863:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Marker=void 0;const h=l(8460),p=l(844);class u{get id(){return this._id}constructor(g){this.line=g,this.isDisposed=!1,this._disposables=[],this._id=u._nextId++,this._onDispose=this.register(new h.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,p.disposeArray)(this._disposables),this._disposables.length=0)}register(g){return this._disposables.push(g),g}}n.Marker=u,u._nextId=1},7116:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_CHARSET=n.CHARSETS=void 0,n.CHARSETS={},n.DEFAULT_CHARSET=n.CHARSETS.B,n.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},n.CHARSETS.A={"#":""},n.CHARSETS.B=void 0,n.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},n.CHARSETS.C=n.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},n.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},n.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.E=n.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},n.CHARSETS.H=n.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},n.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(v,n)=>{var l,h,p;Object.defineProperty(n,"__esModule",{value:!0}),n.C1_ESCAPED=n.C1=n.C0=void 0,function(u){u.NUL="\0",u.SOH="",u.STX="",u.ETX="",u.EOT="",u.ENQ="",u.ACK="",u.BEL="\x07",u.BS="\b",u.HT="	",u.LF="\n",u.VT="\v",u.FF="\f",u.CR="\r",u.SO="",u.SI="",u.DLE="",u.DC1="",u.DC2="",u.DC3="",u.DC4="",u.NAK="",u.SYN="",u.ETB="",u.CAN="",u.EM="",u.SUB="",u.ESC="\x1B",u.FS="",u.GS="",u.RS="",u.US="",u.SP=" ",u.DEL=""}(l||(n.C0=l={})),function(u){u.PAD="",u.HOP="",u.BPH="",u.NBH="",u.IND="",u.NEL="",u.SSA="",u.ESA="",u.HTS="",u.HTJ="",u.VTS="",u.PLD="",u.PLU="",u.RI="",u.SS2="",u.SS3="",u.DCS="",u.PU1="",u.PU2="",u.STS="",u.CCH="",u.MW="",u.SPA="",u.EPA="",u.SOS="",u.SGCI="",u.SCI="",u.CSI="",u.ST="",u.OSC="",u.PM="",u.APC=""}(h||(n.C1=h={})),function(u){u.ST="".concat(l.ESC,"\\")}(p||(n.C1_ESCAPED=p={}))},7399:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.evaluateKeyboardEvent=void 0;const h=l(2584),p={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};n.evaluateKeyboardEvent=function(u,_,g,w){const S={type:0,cancel:!1,key:void 0},d=(u.shiftKey?1:0)|(u.altKey?2:0)|(u.ctrlKey?4:0)|(u.metaKey?8:0);switch(u.keyCode){case 0:u.key==="UIKeyInputUpArrow"?S.key=_?h.C0.ESC+"OA":h.C0.ESC+"[A":u.key==="UIKeyInputLeftArrow"?S.key=_?h.C0.ESC+"OD":h.C0.ESC+"[D":u.key==="UIKeyInputRightArrow"?S.key=_?h.C0.ESC+"OC":h.C0.ESC+"[C":u.key==="UIKeyInputDownArrow"&&(S.key=_?h.C0.ESC+"OB":h.C0.ESC+"[B");break;case 8:S.key=u.ctrlKey?"\b":h.C0.DEL,u.altKey&&(S.key=h.C0.ESC+S.key);break;case 9:if(u.shiftKey){S.key=h.C0.ESC+"[Z";break}S.key=h.C0.HT,S.cancel=!0;break;case 13:S.key=u.altKey?h.C0.ESC+h.C0.CR:h.C0.CR,S.cancel=!0;break;case 27:S.key=h.C0.ESC,u.altKey&&(S.key=h.C0.ESC+h.C0.ESC),S.cancel=!0;break;case 37:if(u.metaKey)break;d?(S.key=h.C0.ESC+"[1;"+(d+1)+"D",S.key===h.C0.ESC+"[1;3D"&&(S.key=h.C0.ESC+(g?"b":"[1;5D"))):S.key=_?h.C0.ESC+"OD":h.C0.ESC+"[D";break;case 39:if(u.metaKey)break;d?(S.key=h.C0.ESC+"[1;"+(d+1)+"C",S.key===h.C0.ESC+"[1;3C"&&(S.key=h.C0.ESC+(g?"f":"[1;5C"))):S.key=_?h.C0.ESC+"OC":h.C0.ESC+"[C";break;case 38:if(u.metaKey)break;d?(S.key=h.C0.ESC+"[1;"+(d+1)+"A",g||S.key!==h.C0.ESC+"[1;3A"||(S.key=h.C0.ESC+"[1;5A")):S.key=_?h.C0.ESC+"OA":h.C0.ESC+"[A";break;case 40:if(u.metaKey)break;d?(S.key=h.C0.ESC+"[1;"+(d+1)+"B",g||S.key!==h.C0.ESC+"[1;3B"||(S.key=h.C0.ESC+"[1;5B")):S.key=_?h.C0.ESC+"OB":h.C0.ESC+"[B";break;case 45:u.shiftKey||u.ctrlKey||(S.key=h.C0.ESC+"[2~");break;case 46:S.key=d?h.C0.ESC+"[3;"+(d+1)+"~":h.C0.ESC+"[3~";break;case 36:S.key=d?h.C0.ESC+"[1;"+(d+1)+"H":_?h.C0.ESC+"OH":h.C0.ESC+"[H";break;case 35:S.key=d?h.C0.ESC+"[1;"+(d+1)+"F":_?h.C0.ESC+"OF":h.C0.ESC+"[F";break;case 33:u.shiftKey?S.type=2:u.ctrlKey?S.key=h.C0.ESC+"[5;"+(d+1)+"~":S.key=h.C0.ESC+"[5~";break;case 34:u.shiftKey?S.type=3:u.ctrlKey?S.key=h.C0.ESC+"[6;"+(d+1)+"~":S.key=h.C0.ESC+"[6~";break;case 112:S.key=d?h.C0.ESC+"[1;"+(d+1)+"P":h.C0.ESC+"OP";break;case 113:S.key=d?h.C0.ESC+"[1;"+(d+1)+"Q":h.C0.ESC+"OQ";break;case 114:S.key=d?h.C0.ESC+"[1;"+(d+1)+"R":h.C0.ESC+"OR";break;case 115:S.key=d?h.C0.ESC+"[1;"+(d+1)+"S":h.C0.ESC+"OS";break;case 116:S.key=d?h.C0.ESC+"[15;"+(d+1)+"~":h.C0.ESC+"[15~";break;case 117:S.key=d?h.C0.ESC+"[17;"+(d+1)+"~":h.C0.ESC+"[17~";break;case 118:S.key=d?h.C0.ESC+"[18;"+(d+1)+"~":h.C0.ESC+"[18~";break;case 119:S.key=d?h.C0.ESC+"[19;"+(d+1)+"~":h.C0.ESC+"[19~";break;case 120:S.key=d?h.C0.ESC+"[20;"+(d+1)+"~":h.C0.ESC+"[20~";break;case 121:S.key=d?h.C0.ESC+"[21;"+(d+1)+"~":h.C0.ESC+"[21~";break;case 122:S.key=d?h.C0.ESC+"[23;"+(d+1)+"~":h.C0.ESC+"[23~";break;case 123:S.key=d?h.C0.ESC+"[24;"+(d+1)+"~":h.C0.ESC+"[24~";break;default:if(!u.ctrlKey||u.shiftKey||u.altKey||u.metaKey)if(g&&!w||!u.altKey||u.metaKey)!g||u.altKey||u.ctrlKey||u.shiftKey||!u.metaKey?u.key&&!u.ctrlKey&&!u.altKey&&!u.metaKey&&u.keyCode>=48&&u.key.length===1?S.key=u.key:u.key&&u.ctrlKey&&(u.key==="_"&&(S.key=h.C0.US),u.key==="@"&&(S.key=h.C0.NUL)):u.keyCode===65&&(S.type=1);else{const c=p[u.keyCode],s=c==null?void 0:c[u.shiftKey?1:0];if(s)S.key=h.C0.ESC+s;else if(u.keyCode>=65&&u.keyCode<=90){const a=u.ctrlKey?u.keyCode-64:u.keyCode+32;let m=String.fromCharCode(a);u.shiftKey&&(m=m.toUpperCase()),S.key=h.C0.ESC+m}else if(u.keyCode===32)S.key=h.C0.ESC+(u.ctrlKey?h.C0.NUL:" ");else if(u.key==="Dead"&&u.code.startsWith("Key")){let a=u.code.slice(3,4);u.shiftKey||(a=a.toLowerCase()),S.key=h.C0.ESC+a,S.cancel=!0}}else u.keyCode>=65&&u.keyCode<=90?S.key=String.fromCharCode(u.keyCode-64):u.keyCode===32?S.key=h.C0.NUL:u.keyCode>=51&&u.keyCode<=55?S.key=String.fromCharCode(u.keyCode-51+27):u.keyCode===56?S.key=h.C0.DEL:u.keyCode===219?S.key=h.C0.ESC:u.keyCode===220?S.key=h.C0.FS:u.keyCode===221&&(S.key=h.C0.GS)}return S}},482:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Utf8ToUtf32=n.StringToUtf32=n.utf32ToString=n.stringFromCodePoint=void 0,n.stringFromCodePoint=function(l){return l>65535?(l-=65536,String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):String.fromCharCode(l)},n.utf32ToString=function(l,h=0,p=l.length){let u="";for(let _=h;_<p;++_){let g=l[_];g>65535?(g-=65536,u+=String.fromCharCode(55296+(g>>10))+String.fromCharCode(g%1024+56320)):u+=String.fromCharCode(g)}return u},n.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(l,h){const p=l.length;if(!p)return 0;let u=0,_=0;if(this._interim){const g=l.charCodeAt(_++);56320<=g&&g<=57343?h[u++]=1024*(this._interim-55296)+g-56320+65536:(h[u++]=this._interim,h[u++]=g),this._interim=0}for(let g=_;g<p;++g){const w=l.charCodeAt(g);if(55296<=w&&w<=56319){if(++g>=p)return this._interim=w,u;const S=l.charCodeAt(g);56320<=S&&S<=57343?h[u++]=1024*(w-55296)+S-56320+65536:(h[u++]=w,h[u++]=S)}else w!==65279&&(h[u++]=w)}return u}},n.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(l,h){const p=l.length;if(!p)return 0;let u,_,g,w,S=0,d=0,c=0;if(this.interim[0]){let m=!1,E=this.interim[0];E&=(224&E)==192?31:(240&E)==224?15:7;let C,k=0;for(;(C=63&this.interim[++k])&&k<4;)E<<=6,E|=C;const y=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,x=y-k;for(;c<x;){if(c>=p)return 0;if(C=l[c++],(192&C)!=128){c--,m=!0;break}this.interim[k++]=C,E<<=6,E|=63&C}m||(y===2?E<128?c--:h[S++]=E:y===3?E<2048||E>=55296&&E<=57343||E===65279||(h[S++]=E):E<65536||E>1114111||(h[S++]=E)),this.interim.fill(0)}const s=p-4;let a=c;for(;a<p;){for(;!(!(a<s)||128&(u=l[a])||128&(_=l[a+1])||128&(g=l[a+2])||128&(w=l[a+3]));)h[S++]=u,h[S++]=_,h[S++]=g,h[S++]=w,a+=4;if(u=l[a++],u<128)h[S++]=u;else if((224&u)==192){if(a>=p)return this.interim[0]=u,S;if(_=l[a++],(192&_)!=128){a--;continue}if(d=(31&u)<<6|63&_,d<128){a--;continue}h[S++]=d}else if((240&u)==224){if(a>=p)return this.interim[0]=u,S;if(_=l[a++],(192&_)!=128){a--;continue}if(a>=p)return this.interim[0]=u,this.interim[1]=_,S;if(g=l[a++],(192&g)!=128){a--;continue}if(d=(15&u)<<12|(63&_)<<6|63&g,d<2048||d>=55296&&d<=57343||d===65279)continue;h[S++]=d}else if((248&u)==240){if(a>=p)return this.interim[0]=u,S;if(_=l[a++],(192&_)!=128){a--;continue}if(a>=p)return this.interim[0]=u,this.interim[1]=_,S;if(g=l[a++],(192&g)!=128){a--;continue}if(a>=p)return this.interim[0]=u,this.interim[1]=_,this.interim[2]=g,S;if(w=l[a++],(192&w)!=128){a--;continue}if(d=(7&u)<<18|(63&_)<<12|(63&g)<<6|63&w,d<65536||d>1114111)continue;h[S++]=d}}return S}}},225:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeV6=void 0;const h=l(1480),p=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],u=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let _;n.UnicodeV6=class{constructor(){if(this.version="6",!_){_=new Uint8Array(65536),_.fill(1),_[0]=0,_.fill(0,1,32),_.fill(0,127,160),_.fill(2,4352,4448),_[9001]=2,_[9002]=2,_.fill(2,11904,42192),_[12351]=1,_.fill(2,44032,55204),_.fill(2,63744,64256),_.fill(2,65040,65050),_.fill(2,65072,65136),_.fill(2,65280,65377),_.fill(2,65504,65511);for(let g=0;g<p.length;++g)_.fill(0,p[g][0],p[g][1]+1)}}wcwidth(g){return g<32?0:g<127?1:g<65536?_[g]:function(w,S){let d,c=0,s=S.length-1;if(w<S[0][0]||w>S[s][1])return!1;for(;s>=c;)if(d=c+s>>1,w>S[d][1])c=d+1;else{if(!(w<S[d][0]))return!0;s=d-1}return!1}(g,u)?0:g>=131072&&g<=196605||g>=196608&&g<=262141?2:1}charProperties(g,w){let S=this.wcwidth(g),d=S===0&&w!==0;if(d){const c=h.UnicodeService.extractWidth(w);c===0?d=!1:c>S&&(S=c)}return h.UnicodeService.createPropertyValue(0,S,d)}}},5981:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WriteBuffer=void 0;const h=l(8460),p=l(844);class u extends p.Disposable{constructor(g){super(),this._action=g,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new h.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(g,w){if(w!==void 0&&this._syncCalls>w)return void(this._syncCalls=0);if(this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let S;for(this._isSyncWriting=!0;S=this._writeBuffer.shift();){this._action(S);const d=this._callbacks.shift();d&&d()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(g,w){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(w),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(w)}_innerWrite(g=0,w=!0){const S=g||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const d=this._writeBuffer[this._bufferOffset],c=this._action(d,w);if(c){const a=m=>Date.now()-S>=12?setTimeout(()=>this._innerWrite(0,m)):this._innerWrite(S,m);return void c.catch(m=>(queueMicrotask(()=>{throw m}),Promise.resolve(!1))).then(a)}const s=this._callbacks[this._bufferOffset];if(s&&s(),this._bufferOffset++,this._pendingData-=d.length,Date.now()-S>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}n.WriteBuffer=u},5941:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.toRgbString=n.parseColor=void 0;const l=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,h=/^[\da-f]+$/;function p(u,_){const g=u.toString(16),w=g.length<2?"0"+g:g;switch(_){case 4:return g[0];case 8:return w;case 12:return(w+w).slice(0,3);default:return w+w}}n.parseColor=function(u){if(!u)return;let _=u.toLowerCase();if(_.indexOf("rgb:")===0){_=_.slice(4);const g=l.exec(_);if(g){const w=g[1]?15:g[4]?255:g[7]?4095:65535;return[Math.round(parseInt(g[1]||g[4]||g[7]||g[10],16)/w*255),Math.round(parseInt(g[2]||g[5]||g[8]||g[11],16)/w*255),Math.round(parseInt(g[3]||g[6]||g[9]||g[12],16)/w*255)]}}else if(_.indexOf("#")===0&&(_=_.slice(1),h.exec(_)&&[3,6,9,12].includes(_.length))){const g=_.length/3,w=[0,0,0];for(let S=0;S<3;++S){const d=parseInt(_.slice(g*S,g*S+g),16);w[S]=g===1?d<<4:g===2?d:g===3?d>>4:d>>8}return w}},n.toRgbString=function(u,_=16){const[g,w,S]=u;return"rgb:".concat(p(g,_),"/").concat(p(w,_),"/").concat(p(S,_))}},5770:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PAYLOAD_LIMIT=void 0,n.PAYLOAD_LIMIT=1e7},6351:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DcsHandler=n.DcsParser=void 0;const h=l(482),p=l(8742),u=l(5770),_=[];n.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=_,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=_}registerHandler(w,S){this._handlers[w]===void 0&&(this._handlers[w]=[]);const d=this._handlers[w];return d.push(S),{dispose:()=>{const c=d.indexOf(S);c!==-1&&d.splice(c,1)}}}clearHandler(w){this._handlers[w]&&delete this._handlers[w]}setHandlerFallback(w){this._handlerFb=w}reset(){if(this._active.length)for(let w=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;w>=0;--w)this._active[w].unhook(!1);this._stack.paused=!1,this._active=_,this._ident=0}hook(w,S){if(this.reset(),this._ident=w,this._active=this._handlers[w]||_,this._active.length)for(let d=this._active.length-1;d>=0;d--)this._active[d].hook(S);else this._handlerFb(this._ident,"HOOK",S)}put(w,S,d){if(this._active.length)for(let c=this._active.length-1;c>=0;c--)this._active[c].put(w,S,d);else this._handlerFb(this._ident,"PUT",(0,h.utf32ToString)(w,S,d))}unhook(w,S=!0){if(this._active.length){let d=!1,c=this._active.length-1,s=!1;if(this._stack.paused&&(c=this._stack.loopPosition-1,d=S,s=this._stack.fallThrough,this._stack.paused=!1),!s&&d===!1){for(;c>=0&&(d=this._active[c].unhook(w),d!==!0);c--)if(d instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=c,this._stack.fallThrough=!1,d;c--}for(;c>=0;c--)if(d=this._active[c].unhook(!1),d instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=c,this._stack.fallThrough=!0,d}else this._handlerFb(this._ident,"UNHOOK",w);this._active=_,this._ident=0}};const g=new p.Params;g.addParam(0),n.DcsHandler=class{constructor(w){this._handler=w,this._data="",this._params=g,this._hitLimit=!1}hook(w){this._params=w.length>1||w.params[0]?w.clone():g,this._data="",this._hitLimit=!1}put(w,S,d){this._hitLimit||(this._data+=(0,h.utf32ToString)(w,S,d),this._data.length>u.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(w){let S=!1;if(this._hitLimit)S=!1;else if(w&&(S=this._handler(this._data,this._params),S instanceof Promise))return S.then(d=>(this._params=g,this._data="",this._hitLimit=!1,d));return this._params=g,this._data="",this._hitLimit=!1,S}}},2015:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.EscapeSequenceParser=n.VT500_TRANSITION_TABLE=n.TransitionTable=void 0;const h=l(844),p=l(8742),u=l(6242),_=l(6351);class g{constructor(c){this.table=new Uint8Array(c)}setDefault(c,s){this.table.fill(c<<4|s)}add(c,s,a,m){this.table[s<<8|c]=a<<4|m}addMany(c,s,a,m){for(let E=0;E<c.length;E++)this.table[s<<8|c[E]]=a<<4|m}}n.TransitionTable=g;const w=160;n.VT500_TRANSITION_TABLE=function(){const d=new g(4095),c=Array.apply(null,Array(256)).map((k,y)=>y),s=(k,y)=>c.slice(k,y),a=s(32,127),m=s(0,24);m.push(25),m.push.apply(m,s(28,32));const E=s(0,14);let C;for(C in d.setDefault(1,0),d.addMany(a,0,2,0),E)d.addMany([24,26,153,154],C,3,0),d.addMany(s(128,144),C,3,0),d.addMany(s(144,152),C,3,0),d.add(156,C,0,0),d.add(27,C,11,1),d.add(157,C,4,8),d.addMany([152,158,159],C,0,7),d.add(155,C,11,3),d.add(144,C,11,9);return d.addMany(m,0,3,0),d.addMany(m,1,3,1),d.add(127,1,0,1),d.addMany(m,8,0,8),d.addMany(m,3,3,3),d.add(127,3,0,3),d.addMany(m,4,3,4),d.add(127,4,0,4),d.addMany(m,6,3,6),d.addMany(m,5,3,5),d.add(127,5,0,5),d.addMany(m,2,3,2),d.add(127,2,0,2),d.add(93,1,4,8),d.addMany(a,8,5,8),d.add(127,8,5,8),d.addMany([156,27,24,26,7],8,6,0),d.addMany(s(28,32),8,0,8),d.addMany([88,94,95],1,0,7),d.addMany(a,7,0,7),d.addMany(m,7,0,7),d.add(156,7,0,0),d.add(127,7,0,7),d.add(91,1,11,3),d.addMany(s(64,127),3,7,0),d.addMany(s(48,60),3,8,4),d.addMany([60,61,62,63],3,9,4),d.addMany(s(48,60),4,8,4),d.addMany(s(64,127),4,7,0),d.addMany([60,61,62,63],4,0,6),d.addMany(s(32,64),6,0,6),d.add(127,6,0,6),d.addMany(s(64,127),6,0,0),d.addMany(s(32,48),3,9,5),d.addMany(s(32,48),5,9,5),d.addMany(s(48,64),5,0,6),d.addMany(s(64,127),5,7,0),d.addMany(s(32,48),4,9,5),d.addMany(s(32,48),1,9,2),d.addMany(s(32,48),2,9,2),d.addMany(s(48,127),2,10,0),d.addMany(s(48,80),1,10,0),d.addMany(s(81,88),1,10,0),d.addMany([89,90,92],1,10,0),d.addMany(s(96,127),1,10,0),d.add(80,1,11,9),d.addMany(m,9,0,9),d.add(127,9,0,9),d.addMany(s(28,32),9,0,9),d.addMany(s(32,48),9,9,12),d.addMany(s(48,60),9,8,10),d.addMany([60,61,62,63],9,9,10),d.addMany(m,11,0,11),d.addMany(s(32,128),11,0,11),d.addMany(s(28,32),11,0,11),d.addMany(m,10,0,10),d.add(127,10,0,10),d.addMany(s(28,32),10,0,10),d.addMany(s(48,60),10,8,10),d.addMany([60,61,62,63],10,0,11),d.addMany(s(32,48),10,9,12),d.addMany(m,12,0,12),d.add(127,12,0,12),d.addMany(s(28,32),12,0,12),d.addMany(s(32,48),12,9,12),d.addMany(s(48,64),12,0,11),d.addMany(s(64,127),12,12,13),d.addMany(s(64,127),10,12,13),d.addMany(s(64,127),9,12,13),d.addMany(m,13,13,13),d.addMany(a,13,13,13),d.add(127,13,0,13),d.addMany([27,156,24,26],13,14,0),d.add(w,0,2,0),d.add(w,8,5,8),d.add(w,6,0,6),d.add(w,11,0,11),d.add(w,13,13,13),d}();class S extends h.Disposable{constructor(c=n.VT500_TRANSITION_TABLE){super(),this._transitions=c,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new p.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(s,a,m)=>{},this._executeHandlerFb=s=>{},this._csiHandlerFb=(s,a)=>{},this._escHandlerFb=s=>{},this._errorHandlerFb=s=>s,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,h.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new u.OscParser),this._dcsParser=this.register(new _.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(c,s=[64,126]){let a=0;if(c.prefix){if(c.prefix.length>1)throw new Error("only one byte as prefix supported");if(a=c.prefix.charCodeAt(0),a&&60>a||a>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(c.intermediates){if(c.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let E=0;E<c.intermediates.length;++E){const C=c.intermediates.charCodeAt(E);if(32>C||C>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");a<<=8,a|=C}}if(c.final.length!==1)throw new Error("final must be a single byte");const m=c.final.charCodeAt(0);if(s[0]>m||m>s[1])throw new Error("final must be in range ".concat(s[0]," .. ").concat(s[1]));return a<<=8,a|=m,a}identToString(c){const s=[];for(;c;)s.push(String.fromCharCode(255&c)),c>>=8;return s.reverse().join("")}setPrintHandler(c){this._printHandler=c}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(c,s){const a=this._identifier(c,[48,126]);this._escHandlers[a]===void 0&&(this._escHandlers[a]=[]);const m=this._escHandlers[a];return m.push(s),{dispose:()=>{const E=m.indexOf(s);E!==-1&&m.splice(E,1)}}}clearEscHandler(c){this._escHandlers[this._identifier(c,[48,126])]&&delete this._escHandlers[this._identifier(c,[48,126])]}setEscHandlerFallback(c){this._escHandlerFb=c}setExecuteHandler(c,s){this._executeHandlers[c.charCodeAt(0)]=s}clearExecuteHandler(c){this._executeHandlers[c.charCodeAt(0)]&&delete this._executeHandlers[c.charCodeAt(0)]}setExecuteHandlerFallback(c){this._executeHandlerFb=c}registerCsiHandler(c,s){const a=this._identifier(c);this._csiHandlers[a]===void 0&&(this._csiHandlers[a]=[]);const m=this._csiHandlers[a];return m.push(s),{dispose:()=>{const E=m.indexOf(s);E!==-1&&m.splice(E,1)}}}clearCsiHandler(c){this._csiHandlers[this._identifier(c)]&&delete this._csiHandlers[this._identifier(c)]}setCsiHandlerFallback(c){this._csiHandlerFb=c}registerDcsHandler(c,s){return this._dcsParser.registerHandler(this._identifier(c),s)}clearDcsHandler(c){this._dcsParser.clearHandler(this._identifier(c))}setDcsHandlerFallback(c){this._dcsParser.setHandlerFallback(c)}registerOscHandler(c,s){return this._oscParser.registerHandler(c,s)}clearOscHandler(c){this._oscParser.clearHandler(c)}setOscHandlerFallback(c){this._oscParser.setHandlerFallback(c)}setErrorHandler(c){this._errorHandler=c}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(c,s,a,m,E){this._parseStack.state=c,this._parseStack.handlers=s,this._parseStack.handlerPos=a,this._parseStack.transition=m,this._parseStack.chunkPos=E}parse(c,s,a){let m,E=0,C=0,k=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,k=this._parseStack.chunkPos+1;else{if(a===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const y=this._parseStack.handlers;let x=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(a===!1&&x>-1){for(;x>=0&&(m=y[x](this._params),m!==!0);x--)if(m instanceof Promise)return this._parseStack.handlerPos=x,m}this._parseStack.handlers=[];break;case 4:if(a===!1&&x>-1){for(;x>=0&&(m=y[x](),m!==!0);x--)if(m instanceof Promise)return this._parseStack.handlerPos=x,m}this._parseStack.handlers=[];break;case 6:if(E=c[this._parseStack.chunkPos],m=this._dcsParser.unhook(E!==24&&E!==26,a),m)return m;E===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(E=c[this._parseStack.chunkPos],m=this._oscParser.end(E!==24&&E!==26,a),m)return m;E===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,k=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let y=k;y<s;++y){switch(E=c[y],C=this._transitions.table[this.currentState<<8|(E<160?E:w)],C>>4){case 2:for(let R=y+1;;++R){if(R>=s||(E=c[R])<32||E>126&&E<w){this._printHandler(c,y,R),y=R-1;break}if(++R>=s||(E=c[R])<32||E>126&&E<w){this._printHandler(c,y,R),y=R-1;break}if(++R>=s||(E=c[R])<32||E>126&&E<w){this._printHandler(c,y,R),y=R-1;break}if(++R>=s||(E=c[R])<32||E>126&&E<w){this._printHandler(c,y,R),y=R-1;break}}break;case 3:this._executeHandlers[E]?this._executeHandlers[E]():this._executeHandlerFb(E),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:y,code:E,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const x=this._csiHandlers[this._collect<<8|E];let P=x?x.length-1:-1;for(;P>=0&&(m=x[P](this._params),m!==!0);P--)if(m instanceof Promise)return this._preserveStack(3,x,P,C,y),m;P<0&&this._csiHandlerFb(this._collect<<8|E,this._params),this.precedingJoinState=0;break;case 8:do switch(E){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(E-48)}while(++y<s&&(E=c[y])>47&&E<60);y--;break;case 9:this._collect<<=8,this._collect|=E;break;case 10:const M=this._escHandlers[this._collect<<8|E];let O=M?M.length-1:-1;for(;O>=0&&(m=M[O](),m!==!0);O--)if(m instanceof Promise)return this._preserveStack(4,M,O,C,y),m;O<0&&this._escHandlerFb(this._collect<<8|E),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|E,this._params);break;case 13:for(let R=y+1;;++R)if(R>=s||(E=c[R])===24||E===26||E===27||E>127&&E<w){this._dcsParser.put(c,y,R),y=R-1;break}break;case 14:if(m=this._dcsParser.unhook(E!==24&&E!==26),m)return this._preserveStack(6,[],0,C,y),m;E===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let R=y+1;;R++)if(R>=s||(E=c[R])<32||E>127&&E<w){this._oscParser.put(c,y,R),y=R-1;break}break;case 6:if(m=this._oscParser.end(E!==24&&E!==26),m)return this._preserveStack(5,[],0,C,y),m;E===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&C}}}n.EscapeSequenceParser=S},6242:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OscHandler=n.OscParser=void 0;const h=l(5770),p=l(482),u=[];n.OscParser=class{constructor(){this._state=0,this._active=u,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(_,g){this._handlers[_]===void 0&&(this._handlers[_]=[]);const w=this._handlers[_];return w.push(g),{dispose:()=>{const S=w.indexOf(g);S!==-1&&w.splice(S,1)}}}clearHandler(_){this._handlers[_]&&delete this._handlers[_]}setHandlerFallback(_){this._handlerFb=_}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=u}reset(){if(this._state===2)for(let _=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;_>=0;--_)this._active[_].end(!1);this._stack.paused=!1,this._active=u,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||u,this._active.length)for(let _=this._active.length-1;_>=0;_--)this._active[_].start();else this._handlerFb(this._id,"START")}_put(_,g,w){if(this._active.length)for(let S=this._active.length-1;S>=0;S--)this._active[S].put(_,g,w);else this._handlerFb(this._id,"PUT",(0,p.utf32ToString)(_,g,w))}start(){this.reset(),this._state=1}put(_,g,w){if(this._state!==3){if(this._state===1)for(;g<w;){const S=_[g++];if(S===59){this._state=2,this._start();break}if(S<48||57<S)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+S-48}this._state===2&&w-g>0&&this._put(_,g,w)}}end(_,g=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let w=!1,S=this._active.length-1,d=!1;if(this._stack.paused&&(S=this._stack.loopPosition-1,w=g,d=this._stack.fallThrough,this._stack.paused=!1),!d&&w===!1){for(;S>=0&&(w=this._active[S].end(_),w!==!0);S--)if(w instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=S,this._stack.fallThrough=!1,w;S--}for(;S>=0;S--)if(w=this._active[S].end(!1),w instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=S,this._stack.fallThrough=!0,w}else this._handlerFb(this._id,"END",_);this._active=u,this._id=-1,this._state=0}}},n.OscHandler=class{constructor(_){this._handler=_,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(_,g,w){this._hitLimit||(this._data+=(0,p.utf32ToString)(_,g,w),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(_){let g=!1;if(this._hitLimit)g=!1;else if(_&&(g=this._handler(this._data),g instanceof Promise))return g.then(w=>(this._data="",this._hitLimit=!1,w));return this._data="",this._hitLimit=!1,g}}},8742:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Params=void 0;const l=2147483647;class h{static fromArray(u){const _=new h;if(!u.length)return _;for(let g=Array.isArray(u[0])?1:0;g<u.length;++g){const w=u[g];if(Array.isArray(w))for(let S=0;S<w.length;++S)_.addSubParam(w[S]);else _.addParam(w)}return _}constructor(u=32,_=32){if(this.maxLength=u,this.maxSubParamsLength=_,_>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(u),this.length=0,this._subParams=new Int32Array(_),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(u),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const u=new h(this.maxLength,this.maxSubParamsLength);return u.params.set(this.params),u.length=this.length,u._subParams.set(this._subParams),u._subParamsLength=this._subParamsLength,u._subParamsIdx.set(this._subParamsIdx),u._rejectDigits=this._rejectDigits,u._rejectSubDigits=this._rejectSubDigits,u._digitIsSub=this._digitIsSub,u}toArray(){const u=[];for(let _=0;_<this.length;++_){u.push(this.params[_]);const g=this._subParamsIdx[_]>>8,w=255&this._subParamsIdx[_];w-g>0&&u.push(Array.prototype.slice.call(this._subParams,g,w))}return u}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(u){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=u>l?l:u}}addSubParam(u){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=u>l?l:u,this._subParamsIdx[this.length-1]++}}hasSubParams(u){return(255&this._subParamsIdx[u])-(this._subParamsIdx[u]>>8)>0}getSubParams(u){const _=this._subParamsIdx[u]>>8,g=255&this._subParamsIdx[u];return g-_>0?this._subParams.subarray(_,g):null}getSubParamsAll(){const u={};for(let _=0;_<this.length;++_){const g=this._subParamsIdx[_]>>8,w=255&this._subParamsIdx[_];w-g>0&&(u[_]=this._subParams.slice(g,w))}return u}addDigit(u){let _;if(this._rejectDigits||!(_=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const g=this._digitIsSub?this._subParams:this.params,w=g[_-1];g[_-1]=~w?Math.min(10*w+u,l):u}}n.Params=h},5741:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.AddonManager=void 0,n.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let l=this._addons.length-1;l>=0;l--)this._addons[l].instance.dispose()}loadAddon(l,h){const p={instance:h,dispose:h.dispose,isDisposed:!1};this._addons.push(p),h.dispose=()=>this._wrappedAddonDispose(p),h.activate(l)}_wrappedAddonDispose(l){if(l.isDisposed)return;let h=-1;for(let p=0;p<this._addons.length;p++)if(this._addons[p]===l){h=p;break}if(h===-1)throw new Error("Could not dispose an addon that has not been loaded");l.isDisposed=!0,l.dispose.apply(l.instance),this._addons.splice(h,1)}}},8771:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferApiView=void 0;const h=l(3785),p=l(511);n.BufferApiView=class{constructor(u,_){this._buffer=u,this.type=_}init(u){return this._buffer=u,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(u){const _=this._buffer.lines.get(u);if(_)return new h.BufferLineApiView(_)}getNullCell(){return new p.CellData}}},3785:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferLineApiView=void 0;const h=l(511);n.BufferLineApiView=class{constructor(p){this._line=p}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(p,u){if(!(p<0||p>=this._line.length))return u?(this._line.loadCell(p,u),u):this._line.loadCell(p,new h.CellData)}translateToString(p,u,_){return this._line.translateToString(p,u,_)}}},8285:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BufferNamespaceApi=void 0;const h=l(8771),p=l(8460),u=l(844);class _ extends u.Disposable{constructor(w){super(),this._core=w,this._onBufferChange=this.register(new p.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new h.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new h.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}n.BufferNamespaceApi=_},7975:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ParserApi=void 0,n.ParserApi=class{constructor(l){this._core=l}registerCsiHandler(l,h){return this._core.registerCsiHandler(l,p=>h(p.toArray()))}addCsiHandler(l,h){return this.registerCsiHandler(l,h)}registerDcsHandler(l,h){return this._core.registerDcsHandler(l,(p,u)=>h(p,u.toArray()))}addDcsHandler(l,h){return this.registerDcsHandler(l,h)}registerEscHandler(l,h){return this._core.registerEscHandler(l,h)}addEscHandler(l,h){return this.registerEscHandler(l,h)}registerOscHandler(l,h){return this._core.registerOscHandler(l,h)}addOscHandler(l,h){return this.registerOscHandler(l,h)}}},7090:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeApi=void 0,n.UnicodeApi=class{constructor(l){this._core=l}register(l){this._core.unicodeService.register(l)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(l){this._core.unicodeService.activeVersion=l}}},744:function(v,n,l){var h=this&&this.__decorate||function(d,c,s,a){var m,E=arguments.length,C=E<3?c:a===null?a=Object.getOwnPropertyDescriptor(c,s):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(d,c,s,a);else for(var k=d.length-1;k>=0;k--)(m=d[k])&&(C=(E<3?m(C):E>3?m(c,s,C):m(c,s))||C);return E>3&&C&&Object.defineProperty(c,s,C),C},p=this&&this.__param||function(d,c){return function(s,a){c(s,a,d)}};Object.defineProperty(n,"__esModule",{value:!0}),n.BufferService=n.MINIMUM_ROWS=n.MINIMUM_COLS=void 0;const u=l(8460),_=l(844),g=l(5295),w=l(2585);n.MINIMUM_COLS=2,n.MINIMUM_ROWS=1;let S=n.BufferService=class extends _.Disposable{get buffer(){return this.buffers.active}constructor(d){super(),this.isUserScrolling=!1,this._onResize=this.register(new u.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new u.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(d.rawOptions.cols||0,n.MINIMUM_COLS),this.rows=Math.max(d.rawOptions.rows||0,n.MINIMUM_ROWS),this.buffers=this.register(new g.BufferSet(d,this))}resize(d,c){this.cols=d,this.rows=c,this.buffers.resize(d,c),this._onResize.fire({cols:d,rows:c})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(d,c=!1){const s=this.buffer;let a;a=this._cachedBlankLine,a&&a.length===this.cols&&a.getFg(0)===d.fg&&a.getBg(0)===d.bg||(a=s.getBlankLine(d,c),this._cachedBlankLine=a),a.isWrapped=c;const m=s.ybase+s.scrollTop,E=s.ybase+s.scrollBottom;if(s.scrollTop===0){const C=s.lines.isFull;E===s.lines.length-1?C?s.lines.recycle().copyFrom(a):s.lines.push(a.clone()):s.lines.splice(E+1,0,a.clone()),C?this.isUserScrolling&&(s.ydisp=Math.max(s.ydisp-1,0)):(s.ybase++,this.isUserScrolling||s.ydisp++)}else{const C=E-m+1;s.lines.shiftElements(m+1,C-1,-1),s.lines.set(E,a.clone())}this.isUserScrolling||(s.ydisp=s.ybase),this._onScroll.fire(s.ydisp)}scrollLines(d,c,s){const a=this.buffer;if(d<0){if(a.ydisp===0)return;this.isUserScrolling=!0}else d+a.ydisp>=a.ybase&&(this.isUserScrolling=!1);const m=a.ydisp;a.ydisp=Math.max(Math.min(a.ydisp+d,a.ybase),0),m!==a.ydisp&&(c||this._onScroll.fire(a.ydisp))}};n.BufferService=S=h([p(0,w.IOptionsService)],S)},7994:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CharsetService=void 0,n.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(l){this.glevel=l,this.charset=this._charsets[l]}setgCharset(l,h){this._charsets[l]=h,this.glevel===l&&(this.charset=h)}}},1753:function(v,n,l){var h=this&&this.__decorate||function(a,m,E,C){var k,y=arguments.length,x=y<3?m:C===null?C=Object.getOwnPropertyDescriptor(m,E):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(a,m,E,C);else for(var P=a.length-1;P>=0;P--)(k=a[P])&&(x=(y<3?k(x):y>3?k(m,E,x):k(m,E))||x);return y>3&&x&&Object.defineProperty(m,E,x),x},p=this&&this.__param||function(a,m){return function(E,C){m(E,C,a)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreMouseService=void 0;const u=l(2585),_=l(8460),g=l(844),w={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:a=>a.button!==4&&a.action===1&&(a.ctrl=!1,a.alt=!1,a.shift=!1,!0)},VT200:{events:19,restrict:a=>a.action!==32},DRAG:{events:23,restrict:a=>a.action!==32||a.button!==3},ANY:{events:31,restrict:a=>!0}};function S(a,m){let E=(a.ctrl?16:0)|(a.shift?4:0)|(a.alt?8:0);return a.button===4?(E|=64,E|=a.action):(E|=3&a.button,4&a.button&&(E|=64),8&a.button&&(E|=128),a.action===32?E|=32:a.action!==0||m||(E|=3)),E}const d=String.fromCharCode,c={DEFAULT:a=>{const m=[S(a,!1)+32,a.col+32,a.row+32];return m[0]>255||m[1]>255||m[2]>255?"":"\x1B[M".concat(d(m[0])).concat(d(m[1])).concat(d(m[2]))},SGR:a=>{const m=a.action===0&&a.button!==4?"m":"M";return"\x1B[<".concat(S(a,!0),";").concat(a.col,";").concat(a.row).concat(m)},SGR_PIXELS:a=>{const m=a.action===0&&a.button!==4?"m":"M";return"\x1B[<".concat(S(a,!0),";").concat(a.x,";").concat(a.y).concat(m)}};let s=n.CoreMouseService=class extends g.Disposable{constructor(a,m){super(),this._bufferService=a,this._coreService=m,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new _.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const E of Object.keys(w))this.addProtocol(E,w[E]);for(const E of Object.keys(c))this.addEncoding(E,c[E]);this.reset()}addProtocol(a,m){this._protocols[a]=m}addEncoding(a,m){this._encodings[a]=m}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(a){if(!this._protocols[a])throw new Error('unknown protocol "'.concat(a,'"'));this._activeProtocol=a,this._onProtocolChange.fire(this._protocols[a].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(a){if(!this._encodings[a])throw new Error('unknown encoding "'.concat(a,'"'));this._activeEncoding=a}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(a){if(a.col<0||a.col>=this._bufferService.cols||a.row<0||a.row>=this._bufferService.rows||a.button===4&&a.action===32||a.button===3&&a.action!==32||a.button!==4&&(a.action===2||a.action===3)||(a.col++,a.row++,a.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,a,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(a))return!1;const m=this._encodings[this._activeEncoding](a);return m&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(m):this._coreService.triggerDataEvent(m,!0)),this._lastEvent=a,!0}explainEvents(a){return{down:!!(1&a),up:!!(2&a),drag:!!(4&a),move:!!(8&a),wheel:!!(16&a)}}_equalEvents(a,m,E){if(E){if(a.x!==m.x||a.y!==m.y)return!1}else if(a.col!==m.col||a.row!==m.row)return!1;return a.button===m.button&&a.action===m.action&&a.ctrl===m.ctrl&&a.alt===m.alt&&a.shift===m.shift}};n.CoreMouseService=s=h([p(0,u.IBufferService),p(1,u.ICoreService)],s)},6975:function(v,n,l){var h=this&&this.__decorate||function(s,a,m,E){var C,k=arguments.length,y=k<3?a:E===null?E=Object.getOwnPropertyDescriptor(a,m):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(s,a,m,E);else for(var x=s.length-1;x>=0;x--)(C=s[x])&&(y=(k<3?C(y):k>3?C(a,m,y):C(a,m))||y);return k>3&&y&&Object.defineProperty(a,m,y),y},p=this&&this.__param||function(s,a){return function(m,E){a(m,E,s)}};Object.defineProperty(n,"__esModule",{value:!0}),n.CoreService=void 0;const u=l(1439),_=l(8460),g=l(844),w=l(2585),S=Object.freeze({insertMode:!1}),d=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let c=n.CoreService=class extends g.Disposable{constructor(s,a,m){super(),this._bufferService=s,this._logService=a,this._optionsService=m,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new _.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new _.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new _.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new _.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,u.clone)(S),this.decPrivateModes=(0,u.clone)(d)}reset(){this.modes=(0,u.clone)(S),this.decPrivateModes=(0,u.clone)(d)}triggerDataEvent(s,a=!1){if(this._optionsService.rawOptions.disableStdin)return;const m=this._bufferService.buffer;a&&this._optionsService.rawOptions.scrollOnUserInput&&m.ybase!==m.ydisp&&this._onRequestScrollToBottom.fire(),a&&this._onUserInput.fire(),this._logService.debug('sending data "'.concat(s,'"'),()=>s.split("").map(E=>E.charCodeAt(0))),this._onData.fire(s)}triggerBinaryEvent(s){this._optionsService.rawOptions.disableStdin||(this._logService.debug('sending binary "'.concat(s,'"'),()=>s.split("").map(a=>a.charCodeAt(0))),this._onBinary.fire(s))}};n.CoreService=c=h([p(0,w.IBufferService),p(1,w.ILogService),p(2,w.IOptionsService)],c)},9074:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.DecorationService=void 0;const h=l(8055),p=l(8460),u=l(844),_=l(6106);let g=0,w=0;class S extends u.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new _.SortedList(s=>s==null?void 0:s.marker.line),this._onDecorationRegistered=this.register(new p.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new p.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,u.toDisposable)(()=>this.reset()))}registerDecoration(s){if(s.marker.isDisposed)return;const a=new d(s);if(a){const m=a.marker.onDispose(()=>a.dispose());a.onDispose(()=>{a&&(this._decorations.delete(a)&&this._onDecorationRemoved.fire(a),m.dispose())}),this._decorations.insert(a),this._onDecorationRegistered.fire(a)}return a}reset(){for(const s of this._decorations.values())s.dispose();this._decorations.clear()}*getDecorationsAtCell(s,a,m){var k,y,x;let E=0,C=0;for(const P of this._decorations.getKeyIterator(a))E=(k=P.options.x)!=null?k:0,C=E+((y=P.options.width)!=null?y:1),s>=E&&s<C&&(!m||((x=P.options.layer)!=null?x:"bottom")===m)&&(yield P)}forEachDecorationAtCell(s,a,m,E){this._decorations.forEachByKey(a,C=>{var k,y,x;g=(k=C.options.x)!=null?k:0,w=g+((y=C.options.width)!=null?y:1),s>=g&&s<w&&(!m||((x=C.options.layer)!=null?x:"bottom")===m)&&E(C)})}}n.DecorationService=S;class d extends u.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=h.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=h.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(s){super(),this.options=s,this.onRenderEmitter=this.register(new p.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new p.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=s.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.InstantiationService=n.ServiceCollection=void 0;const h=l(2585),p=l(8343);class u{constructor(...g){this._entries=new Map;for(const[w,S]of g)this.set(w,S)}set(g,w){const S=this._entries.get(g);return this._entries.set(g,w),S}forEach(g){for(const[w,S]of this._entries.entries())g(w,S)}has(g){return this._entries.has(g)}get(g){return this._entries.get(g)}}n.ServiceCollection=u,n.InstantiationService=class{constructor(){this._services=new u,this._services.set(h.IInstantiationService,this)}setService(_,g){this._services.set(_,g)}getService(_){return this._services.get(_)}createInstance(_,...g){const w=(0,p.getServiceDependencies)(_).sort((c,s)=>c.index-s.index),S=[];for(const c of w){const s=this._services.get(c.id);if(!s)throw new Error("[createInstance] ".concat(_.name," depends on UNKNOWN service ").concat(c.id,"."));S.push(s)}const d=w.length>0?w[0].index:g.length;if(g.length!==d)throw new Error("[createInstance] First service dependency of ".concat(_.name," at position ").concat(d+1," conflicts with ").concat(g.length," static arguments"));return new _(...g,...S)}}},7866:function(v,n,l){var h=this&&this.__decorate||function(d,c,s,a){var m,E=arguments.length,C=E<3?c:a===null?a=Object.getOwnPropertyDescriptor(c,s):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(d,c,s,a);else for(var k=d.length-1;k>=0;k--)(m=d[k])&&(C=(E<3?m(C):E>3?m(c,s,C):m(c,s))||C);return E>3&&C&&Object.defineProperty(c,s,C),C},p=this&&this.__param||function(d,c){return function(s,a){c(s,a,d)}};Object.defineProperty(n,"__esModule",{value:!0}),n.traceCall=n.setTraceLogger=n.LogService=void 0;const u=l(844),_=l(2585),g={trace:_.LogLevelEnum.TRACE,debug:_.LogLevelEnum.DEBUG,info:_.LogLevelEnum.INFO,warn:_.LogLevelEnum.WARN,error:_.LogLevelEnum.ERROR,off:_.LogLevelEnum.OFF};let w,S=n.LogService=class extends u.Disposable{get logLevel(){return this._logLevel}constructor(d){super(),this._optionsService=d,this._logLevel=_.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),w=this}_updateLogLevel(){this._logLevel=g[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(d){for(let c=0;c<d.length;c++)typeof d[c]=="function"&&(d[c]=d[c]())}_log(d,c,s){this._evalLazyOptionalParams(s),d.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+c,...s)}trace(d,...c){var s,a;this._logLevel<=_.LogLevelEnum.TRACE&&this._log((a=(s=this._optionsService.options.logger)==null?void 0:s.trace.bind(this._optionsService.options.logger))!=null?a:console.log,d,c)}debug(d,...c){var s,a;this._logLevel<=_.LogLevelEnum.DEBUG&&this._log((a=(s=this._optionsService.options.logger)==null?void 0:s.debug.bind(this._optionsService.options.logger))!=null?a:console.log,d,c)}info(d,...c){var s,a;this._logLevel<=_.LogLevelEnum.INFO&&this._log((a=(s=this._optionsService.options.logger)==null?void 0:s.info.bind(this._optionsService.options.logger))!=null?a:console.info,d,c)}warn(d,...c){var s,a;this._logLevel<=_.LogLevelEnum.WARN&&this._log((a=(s=this._optionsService.options.logger)==null?void 0:s.warn.bind(this._optionsService.options.logger))!=null?a:console.warn,d,c)}error(d,...c){var s,a;this._logLevel<=_.LogLevelEnum.ERROR&&this._log((a=(s=this._optionsService.options.logger)==null?void 0:s.error.bind(this._optionsService.options.logger))!=null?a:console.error,d,c)}};n.LogService=S=h([p(0,_.IOptionsService)],S),n.setTraceLogger=function(d){w=d},n.traceCall=function(d,c,s){if(typeof s.value!="function")throw new Error("not supported");const a=s.value;s.value=function(...m){if(w.logLevel!==_.LogLevelEnum.TRACE)return a.apply(this,m);w.trace("GlyphRenderer#".concat(a.name,"(").concat(m.map(C=>JSON.stringify(C)).join(", "),")"));const E=a.apply(this,m);return w.trace("GlyphRenderer#".concat(a.name," return"),E),E}}},7302:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OptionsService=n.DEFAULT_OPTIONS=void 0;const h=l(8460),p=l(844),u=l(6114);n.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:u.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const _=["normal","bold","100","200","300","400","500","600","700","800","900"];class g extends p.Disposable{constructor(S){super(),this._onOptionChange=this.register(new h.EventEmitter),this.onOptionChange=this._onOptionChange.event;const d={...n.DEFAULT_OPTIONS};for(const c in S)if(c in d)try{const s=S[c];d[c]=this._sanitizeAndValidateOption(c,s)}catch(s){console.error(s)}this.rawOptions=d,this.options={...d},this._setupOptions(),this.register((0,p.toDisposable)(()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null}))}onSpecificOptionChange(S,d){return this.onOptionChange(c=>{c===S&&d(this.rawOptions[S])})}onMultipleOptionChange(S,d){return this.onOptionChange(c=>{S.indexOf(c)!==-1&&d()})}_setupOptions(){const S=c=>{if(!(c in n.DEFAULT_OPTIONS))throw new Error('No option with key "'.concat(c,'"'));return this.rawOptions[c]},d=(c,s)=>{if(!(c in n.DEFAULT_OPTIONS))throw new Error('No option with key "'.concat(c,'"'));s=this._sanitizeAndValidateOption(c,s),this.rawOptions[c]!==s&&(this.rawOptions[c]=s,this._onOptionChange.fire(c))};for(const c in this.rawOptions){const s={get:S.bind(this,c),set:d.bind(this,c)};Object.defineProperty(this.options,c,s)}}_sanitizeAndValidateOption(S,d){switch(S){case"cursorStyle":if(d||(d=n.DEFAULT_OPTIONS[S]),!function(c){return c==="block"||c==="underline"||c==="bar"}(d))throw new Error('"'.concat(d,'" is not a valid value for ').concat(S));break;case"wordSeparator":d||(d=n.DEFAULT_OPTIONS[S]);break;case"fontWeight":case"fontWeightBold":if(typeof d=="number"&&1<=d&&d<=1e3)break;d=_.includes(d)?d:n.DEFAULT_OPTIONS[S];break;case"cursorWidth":d=Math.floor(d);case"lineHeight":case"tabStopWidth":if(d<1)throw new Error("".concat(S," cannot be less than 1, value: ").concat(d));break;case"minimumContrastRatio":d=Math.max(1,Math.min(21,Math.round(10*d)/10));break;case"scrollback":if((d=Math.min(d,4294967295))<0)throw new Error("".concat(S," cannot be less than 0, value: ").concat(d));break;case"fastScrollSensitivity":case"scrollSensitivity":if(d<=0)throw new Error("".concat(S," cannot be less than or equal to 0, value: ").concat(d));break;case"rows":case"cols":if(!d&&d!==0)throw new Error("".concat(S," must be numeric, value: ").concat(d));break;case"windowsPty":d=d!=null?d:{}}return d}}n.OptionsService=g},2660:function(v,n,l){var h=this&&this.__decorate||function(g,w,S,d){var c,s=arguments.length,a=s<3?w:d===null?d=Object.getOwnPropertyDescriptor(w,S):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(g,w,S,d);else for(var m=g.length-1;m>=0;m--)(c=g[m])&&(a=(s<3?c(a):s>3?c(w,S,a):c(w,S))||a);return s>3&&a&&Object.defineProperty(w,S,a),a},p=this&&this.__param||function(g,w){return function(S,d){w(S,d,g)}};Object.defineProperty(n,"__esModule",{value:!0}),n.OscLinkService=void 0;const u=l(2585);let _=n.OscLinkService=class{constructor(g){this._bufferService=g,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(g){const w=this._bufferService.buffer;if(g.id===void 0){const m=w.addMarker(w.ybase+w.y),E={data:g,id:this._nextId++,lines:[m]};return m.onDispose(()=>this._removeMarkerFromLink(E,m)),this._dataByLinkId.set(E.id,E),E.id}const S=g,d=this._getEntryIdKey(S),c=this._entriesWithId.get(d);if(c)return this.addLineToLink(c.id,w.ybase+w.y),c.id;const s=w.addMarker(w.ybase+w.y),a={id:this._nextId++,key:this._getEntryIdKey(S),data:S,lines:[s]};return s.onDispose(()=>this._removeMarkerFromLink(a,s)),this._entriesWithId.set(a.key,a),this._dataByLinkId.set(a.id,a),a.id}addLineToLink(g,w){const S=this._dataByLinkId.get(g);if(S&&S.lines.every(d=>d.line!==w)){const d=this._bufferService.buffer.addMarker(w);S.lines.push(d),d.onDispose(()=>this._removeMarkerFromLink(S,d))}}getLinkData(g){var w;return(w=this._dataByLinkId.get(g))==null?void 0:w.data}_getEntryIdKey(g){return"".concat(g.id,";;").concat(g.uri)}_removeMarkerFromLink(g,w){const S=g.lines.indexOf(w);S!==-1&&(g.lines.splice(S,1),g.lines.length===0&&(g.data.id!==void 0&&this._entriesWithId.delete(g.key),this._dataByLinkId.delete(g.id)))}};n.OscLinkService=_=h([p(0,u.IBufferService)],_)},8343:(v,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createDecorator=n.getServiceDependencies=n.serviceRegistry=void 0;const l="di$target",h="di$dependencies";n.serviceRegistry=new Map,n.getServiceDependencies=function(p){return p[h]||[]},n.createDecorator=function(p){if(n.serviceRegistry.has(p))return n.serviceRegistry.get(p);const u=function(_,g,w){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(S,d,c){d[l]===d?d[h].push({id:S,index:c}):(d[h]=[{id:S,index:c}],d[l]=d)})(u,_,w)};return u.toString=()=>p,n.serviceRegistry.set(p,u),u}},2585:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.IDecorationService=n.IUnicodeService=n.IOscLinkService=n.IOptionsService=n.ILogService=n.LogLevelEnum=n.IInstantiationService=n.ICharsetService=n.ICoreService=n.ICoreMouseService=n.IBufferService=void 0;const h=l(8343);var p;n.IBufferService=(0,h.createDecorator)("BufferService"),n.ICoreMouseService=(0,h.createDecorator)("CoreMouseService"),n.ICoreService=(0,h.createDecorator)("CoreService"),n.ICharsetService=(0,h.createDecorator)("CharsetService"),n.IInstantiationService=(0,h.createDecorator)("InstantiationService"),function(u){u[u.TRACE=0]="TRACE",u[u.DEBUG=1]="DEBUG",u[u.INFO=2]="INFO",u[u.WARN=3]="WARN",u[u.ERROR=4]="ERROR",u[u.OFF=5]="OFF"}(p||(n.LogLevelEnum=p={})),n.ILogService=(0,h.createDecorator)("LogService"),n.IOptionsService=(0,h.createDecorator)("OptionsService"),n.IOscLinkService=(0,h.createDecorator)("OscLinkService"),n.IUnicodeService=(0,h.createDecorator)("UnicodeService"),n.IDecorationService=(0,h.createDecorator)("DecorationService")},1480:(v,n,l)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.UnicodeService=void 0;const h=l(8460),p=l(225);class u{static extractShouldJoin(g){return(1&g)!=0}static extractWidth(g){return g>>1&3}static extractCharKind(g){return g>>3}static createPropertyValue(g,w,S=!1){return(16777215&g)<<3|(3&w)<<1|(S?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new h.EventEmitter,this.onChange=this._onChange.event;const g=new p.UnicodeV6;this.register(g),this._active=g.version,this._activeProvider=g}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(g){if(!this._providers[g])throw new Error('unknown Unicode version "'.concat(g,'"'));this._active=g,this._activeProvider=this._providers[g],this._onChange.fire(g)}register(g){this._providers[g.version]=g}wcwidth(g){return this._activeProvider.wcwidth(g)}getStringCellWidth(g){let w=0,S=0;const d=g.length;for(let c=0;c<d;++c){let s=g.charCodeAt(c);if(55296<=s&&s<=56319){if(++c>=d)return w+this.wcwidth(s);const E=g.charCodeAt(c);56320<=E&&E<=57343?s=1024*(s-55296)+E-56320+65536:w+=this.wcwidth(E)}const a=this.charProperties(s,S);let m=u.extractWidth(a);u.extractShouldJoin(a)&&(m-=u.extractWidth(S)),w+=m,S=a}return w}charProperties(g,w){return this._activeProvider.charProperties(g,w)}}n.UnicodeService=u}},i={};function o(v){var n=i[v];if(n!==void 0)return n.exports;var l=i[v]={exports:{}};return r[v].call(l.exports,l,l.exports,o),l.exports}var f={};return(()=>{var v=f;Object.defineProperty(v,"__esModule",{value:!0}),v.Terminal=void 0;const n=o(9042),l=o(3236),h=o(844),p=o(5741),u=o(8285),_=o(7975),g=o(7090),w=["cols","rows"];class S extends h.Disposable{constructor(c){super(),this._core=this.register(new l.Terminal(c)),this._addonManager=this.register(new p.AddonManager),this._publicOptions={...this._core.options};const s=m=>this._core.options[m],a=(m,E)=>{this._checkReadonlyOptions(m),this._core.options[m]=E};for(const m in this._core.options){const E={get:s.bind(this,m),set:a.bind(this,m)};Object.defineProperty(this._publicOptions,m,E)}}_checkReadonlyOptions(c){if(w.includes(c))throw new Error('Option "'.concat(c,'" can only be set in the constructor'))}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new _.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new g.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new u.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const c=this._core.coreService.decPrivateModes;let s="none";switch(this._core.coreMouseService.activeProtocol){case"X10":s="x10";break;case"VT200":s="vt200";break;case"DRAG":s="drag";break;case"ANY":s="any"}return{applicationCursorKeysMode:c.applicationCursorKeys,applicationKeypadMode:c.applicationKeypad,bracketedPasteMode:c.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:s,originMode:c.origin,reverseWraparoundMode:c.reverseWraparound,sendFocusMode:c.sendFocus,wraparoundMode:c.wraparound}}get options(){return this._publicOptions}set options(c){for(const s in c)this._publicOptions[s]=c[s]}blur(){this._core.blur()}focus(){this._core.focus()}input(c,s=!0){this._core.input(c,s)}resize(c,s){this._verifyIntegers(c,s),this._core.resize(c,s)}open(c){this._core.open(c)}attachCustomKeyEventHandler(c){this._core.attachCustomKeyEventHandler(c)}attachCustomWheelEventHandler(c){this._core.attachCustomWheelEventHandler(c)}registerLinkProvider(c){return this._core.registerLinkProvider(c)}registerCharacterJoiner(c){return this._checkProposedApi(),this._core.registerCharacterJoiner(c)}deregisterCharacterJoiner(c){this._checkProposedApi(),this._core.deregisterCharacterJoiner(c)}registerMarker(c=0){return this._verifyIntegers(c),this._core.registerMarker(c)}registerDecoration(c){var s,a,m;return this._checkProposedApi(),this._verifyPositiveIntegers((s=c.x)!=null?s:0,(a=c.width)!=null?a:0,(m=c.height)!=null?m:0),this._core.registerDecoration(c)}hasSelection(){return this._core.hasSelection()}select(c,s,a){this._verifyIntegers(c,s,a),this._core.select(c,s,a)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(c,s){this._verifyIntegers(c,s),this._core.selectLines(c,s)}dispose(){super.dispose()}scrollLines(c){this._verifyIntegers(c),this._core.scrollLines(c)}scrollPages(c){this._verifyIntegers(c),this._core.scrollPages(c)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(c){this._verifyIntegers(c),this._core.scrollToLine(c)}clear(){this._core.clear()}write(c,s){this._core.write(c,s)}writeln(c,s){this._core.write(c),this._core.write("\r\n",s)}paste(c){this._core.paste(c)}refresh(c,s){this._verifyIntegers(c,s),this._core.refresh(c,s)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(c){this._addonManager.loadAddon(this,c)}static get strings(){return n}_verifyIntegers(...c){for(const s of c)if(s===1/0||isNaN(s)||s%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...c){for(const s of c)if(s&&(s===1/0||isNaN(s)||s%1!=0||s<0))throw new Error("This API only accepts positive integers")}}v.Terminal=S})(),f})())})(fd);var sm=fd.exports,om=sm,Eo=re;document.head.innerHTML+='<style>/**\n * Copyright (c) 2014 The xterm.js authors. All rights reserved.\n * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\n * https://github.com/chjj/term.js\n * @license MIT\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the "Software"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n * Originally forked from (with the author\'s permission):\n *   Fabrice Bellard\'s javascript vt100 for jslinux:\n *   http://bellard.org/jslinux/\n *   Copyright (c) 2011 Fabrice Bellard\n *   The original design remains. The terminal itself\n *   has been extended to include xterm CSI codes, among\n *   other features.\n */\n\n/**\n *  Default styles for xterm.js\n */\n\n.xterm {\n    cursor: text;\n    position: relative;\n    user-select: none;\n    -ms-user-select: none;\n    -webkit-user-select: none;\n}\n\n.xterm.focus,\n.xterm:focus {\n    outline: none;\n}\n\n.xterm .xterm-helpers {\n    position: absolute;\n    top: 0;\n    /**\n     * The z-index of the helpers must be higher than the canvases in order for\n     * IMEs to appear on top.\n     */\n    z-index: 5;\n}\n\n.xterm .xterm-helper-textarea {\n    padding: 0;\n    border: 0;\n    margin: 0;\n    /* Move textarea out of the screen to the far left, so that the cursor is not visible */\n    position: absolute;\n    opacity: 0;\n    left: -9999em;\n    top: 0;\n    width: 0;\n    height: 0;\n    z-index: -5;\n    /** Prevent wrapping so the IME appears against the textarea at the correct position */\n    white-space: nowrap;\n    overflow: hidden;\n    resize: none;\n}\n\n.xterm .composition-view {\n    /* TODO: Composition position got messed up somewhere */\n    background: #000;\n    color: #FFF;\n    display: none;\n    position: absolute;\n    white-space: nowrap;\n    z-index: 1;\n}\n\n.xterm .composition-view.active {\n    display: block;\n}\n\n.xterm .xterm-viewport {\n    /* On OS X this is required in order for the scroll bar to appear fully opaque */\n    background-color: #000;\n    overflow-y: scroll;\n    cursor: default;\n    position: absolute;\n    right: 0;\n    left: 0;\n    top: 0;\n    bottom: 0;\n}\n\n.xterm .xterm-screen {\n    position: relative;\n}\n\n.xterm .xterm-screen canvas {\n    position: absolute;\n    left: 0;\n    top: 0;\n}\n\n.xterm .xterm-scroll-area {\n    visibility: hidden;\n}\n\n.xterm-char-measure-element {\n    display: inline-block;\n    visibility: hidden;\n    position: absolute;\n    top: 0;\n    left: -9999em;\n    line-height: normal;\n}\n\n.xterm.enable-mouse-events {\n    /* When mouse events are enabled (eg. tmux), revert to the standard pointer cursor */\n    cursor: default;\n}\n\n.xterm.xterm-cursor-pointer,\n.xterm .xterm-cursor-pointer {\n    cursor: pointer;\n}\n\n.xterm.column-select.focus {\n    /* Column selection mode */\n    cursor: crosshair;\n}\n\n.xterm .xterm-accessibility:not(.debug),\n.xterm .xterm-message {\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    z-index: 10;\n    color: transparent;\n    pointer-events: none;\n}\n\n.xterm .xterm-accessibility-tree:not(.debug) *::selection {\n  color: transparent;\n}\n\n.xterm .xterm-accessibility-tree {\n  user-select: text;\n  white-space: pre;\n}\n\n.xterm .live-region {\n    position: absolute;\n    left: -9999px;\n    width: 1px;\n    height: 1px;\n    overflow: hidden;\n}\n\n.xterm-dim {\n    /* Dim should not apply to background, so the opacity of the foreground color is applied\n     * explicitly in the generated class and reset to 1 here */\n    opacity: 1 !important;\n}\n\n.xterm-underline-1 { text-decoration: underline; }\n.xterm-underline-2 { text-decoration: double underline; }\n.xterm-underline-3 { text-decoration: wavy underline; }\n.xterm-underline-4 { text-decoration: dotted underline; }\n.xterm-underline-5 { text-decoration: dashed underline; }\n\n.xterm-overline {\n    text-decoration: overline;\n}\n\n.xterm-overline.xterm-underline-1 { text-decoration: overline underline; }\n.xterm-overline.xterm-underline-2 { text-decoration: overline double underline; }\n.xterm-overline.xterm-underline-3 { text-decoration: overline wavy underline; }\n.xterm-overline.xterm-underline-4 { text-decoration: overline dotted underline; }\n.xterm-overline.xterm-underline-5 { text-decoration: overline dashed underline; }\n\n.xterm-strikethrough {\n    text-decoration: line-through;\n}\n\n.xterm-screen .xterm-decoration-container .xterm-decoration {\n	z-index: 6;\n	position: absolute;\n}\n\n.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer {\n	z-index: 7;\n}\n\n.xterm-decoration-overview-ruler {\n    z-index: 8;\n    position: absolute;\n    top: 0;\n    right: 0;\n    pointer-events: none;\n}\n\n.xterm-decoration-top {\n    z-index: 2;\n    position: relative;\n}\n</style>';function am({options:e,addons:t,listeners:r}={}){const i=Eo.useRef(null),[o,f]=Eo.useState(null);return Eo.useEffect(()=>{const v=new om.Terminal({fontFamily:"operator mono,SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace",fontSize:14,theme:{background:"#101420"},cursorStyle:"underline",cursorBlink:!1,...e});return t&&t.forEach(n=>{v.loadAddon(n)}),r&&(r.onBinary&&v.onBinary(r.onBinary),r.onCursorMove&&v.onCursorMove(r.onCursorMove),r.onLineFeed&&v.onLineFeed(r.onLineFeed),r.onScroll&&v.onScroll(r.onScroll),r.onSelectionChange&&v.onSelectionChange(r.onSelectionChange),r.onRender&&v.onRender(r.onRender),r.onResize&&v.onResize(r.onResize),r.onTitleChange&&v.onTitleChange(r.onTitleChange),r.onKey&&v.onKey(r.onKey),r.onData&&v.onData(r.onData),r.customKeyEventHandler&&v.attachCustomKeyEventHandler(r.customKeyEventHandler)),i.current&&(v.open(i.current),v.focus()),f(v),()=>{v.dispose(),f(null)}},[i,e,t,r,r==null?void 0:r.onBinary,r==null?void 0:r.onCursorMove,r==null?void 0:r.onData,r==null?void 0:r.onKey,r==null?void 0:r.onLineFeed,r==null?void 0:r.onScroll,r==null?void 0:r.onSelectionChange,r==null?void 0:r.onRender,r==null?void 0:r.onResize,r==null?void 0:r.onTitleChange,r==null?void 0:r.customKeyEventHandler]),{ref:i,instance:o}}var lm=am;const cm=$f("/")({component:hm});let ko=!1,We="";const gi=[],Si=[];let Et=0;function um(e){let t="";for(let r=0;r<e.length;r++){const i=e.charCodeAt(r).toString(16);t+=i.length===2?i:"0"+i}return t.toUpperCase()}const br=new nm.FitAddon;function hm(){const{instance:e,ref:t}=lm(),[r,i]=re.useState(!1),[o,f]=re.useState(!1),[v,n]=re.useState(null),[l,h]=re.useState(""),[p,u]=re.useState(!1),[_,g]=re.useState(!1);re.useEffect(()=>{e&&!r&&(e.options.scrollback=2e4,e.options.fontSize=12,e.options.cursorBlink=!0,e.options.theme={background:"black"},e.loadAddon(br),br.fit(),J.keypair.get("showLogs",y=>{f(y.value==="1")}),e.writeln("**********************************************"),e.writeln("*  __  __  ____  _  _  ____  __  __    __    *"),e.writeln("* (  \\/  )(_  _)( \\( )(_  _)(  \\/  )  /__\\   *"),e.writeln("*  )    (  _)(_  )  (  _)(_  )    (  /(__)\\  *"),e.writeln("* (_/\\/\\_)(____)(_)\\_)(____)(_/\\/\\_)(__)(__) *"),e.writeln("*                                            * "),e.writeln("**********************************************"),e.writeln("Welcome to Minima. For assistance type help. Then press enter."),i(!0))},[e,r]),re.useEffect(()=>{if(o&&e){const y=x=>{e.write("\x1B[2K\r"),e.writeln(x.detail.message),e.write(We)};return window.addEventListener("minima-log",y),()=>{window.removeEventListener("minima-log",y)}}},[o,e]),re.useEffect(()=>{const y=()=>{br.fit(),setTimeout(()=>{br.fit()},250)};return window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}},[]);const w=re.useCallback(async y=>{try{ko=!0;const x=await J.executeRaw(y.trim()),P=JSON.stringify(x,null,2);h(P),gi.push(y),gi.push(P),Si.push(y),Et=0,e==null||e.write("\x1B[2K\r"),e==null||e.writeln(y),P.split("\n").forEach(M=>M.split("\\n").forEach(O=>e==null?void 0:e.writeln(O)))}finally{ko=!1}},[e]);re.useEffect(()=>{e&&(e.onRender(()=>{u((e==null?void 0:e.buffer.active.viewportY)!==0),g((e==null?void 0:e.buffer.active.viewportY)!==(e==null?void 0:e.buffer.active.baseY))}),e.attachCustomKeyEventHandler(y=>!(y.ctrlKey&&y.key==="v")),e.onData(y=>{if(br.fit(),!ko&&!((y==="\r"||y==="\n")&&We.trim().length===0)){if(y===""){const x=e.buffer.active.cursorX;if(x===0)return;if(x>0){e.write("\x1B[D\x1B[P"),We=We.slice(0,x-1)+We.slice(x);return}}if(y!=="	"){if(y==="\x1B[A"){const x=Si[Si.length-(Et+1)];return x?(Et=Et+1,We=x,e.write("\x1B[2K\r"),e.write(x)):void 0}if(y==="\x1B[B"){const x=Si[Si.length-(Et-1)];return x?(Et=Et-1,We=x,e.write("\x1B[2K\r"),e.write(x)):(Et=0,We="",e.write("\x1B[2K\r"))}if(y==="\r")w(We).then(()=>{We="",e.write("\x1B[2K\r")}).catch(()=>{We="",e.write("\x1B[2K\r")});else{if(e.write(y),y==="\x1B[D"||y==="\x1B[C")return;We+=y}}}}))},[e,w]);const S=y=>{y.stopPropagation(),J.keypair.set("showLogs",o?"":"1",()=>{}),f(!o)},d=y=>{y.stopPropagation();const x=new Date,P=x.toISOString().split("T")[0].replace(/-/g,"_"),M=x.toISOString().split("T")[1].split(".")[0].replace(/:/g,"_");if(window.navigator.userAgent.includes("Minima Browser"))return Android.blobDownload("minima_".concat(P,"_").concat(M,".txt"),um(gi.join("\n")));const O=new Blob([gi.join("\n")],{type:"text/plain"}),R=URL.createObjectURL(O),F=document.createElement("a");F.href=R,F.download="minima_".concat(P,"_").concat(M,".txt"),F.click()},c=y=>{y.stopPropagation(),navigator.clipboard.writeText(l),n("Last command copied to clipboard"),setTimeout(()=>{n(null)},3e3)},s=y=>{y.stopPropagation(),gi.length=0,Et=0,We="",h(""),e==null||e.clear(),e==null||e.writeln("**********************************************"),e==null||e.writeln("*  __  __  ____  _  _  ____  __  __    __    *"),e==null||e.writeln("* (  \\/  )(_  _)( \\( )(_  _)(  \\/  )  /__\\   *"),e==null||e.writeln("*  )    (  _)(_  )  (  _)(_  )    (  /(__)\\  *"),e==null||e.writeln("* (_/\\/\\_)(____)(_)\\_)(____)(_/\\/\\_)(__)(__) *"),e==null||e.writeln("*                                            * "),e==null||e.writeln("**********************************************"),e==null||e.writeln("Welcome to Minima. For assistance type help. Then press enter."),n("Terminal cleared"),setTimeout(()=>{n(null)},3e3)},a=()=>{window.navigator.userAgent.includes("Minima Browser")&&window.Android.showTitleBar()},m=y=>{y.stopPropagation(),e==null||e.refresh(0,e.rows-1)},E=y=>{y.stopPropagation(),br.fit()},C=()=>{e==null||e.scrollToTop()},k=()=>{e==null||e.scrollToBottom()};return G.jsxs("div",{children:[G.jsxs("div",{className:"hidden absolute top-2 right-6 z-[1000]",children:[G.jsx("button",{className:"bg-white/10 rounded px-2 py-1 text-xs font-bold",onClick:E,children:"Fit"}),G.jsx("button",{className:"bg-white/10 rounded px-2 py-1 text-xs font-bold",onClick:m,children:"Refresh"})]}),G.jsxs("div",{className:"fixed z-[1000] bottom-6 right-10 text-green-500 bg-[#091d0f] rounded text-sm pl-2 pr-2.5 py-1 flex items-center gap-2 ".concat(v?"opacity-100":"opacity-0 pointer-events-none"," transition-opacity duration-300"),children:[G.jsxs("svg",{className:"w-3 h-3",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[G.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),G.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),v]}),G.jsxs("div",{id:"toolbar",onClick:a,className:"fixed z-[1000] top-0 w-full h-full max-h-[64px] bg-black border-b border-b-2 border-white/10 backdrop-blur-sm bg-opacity-50 flex justify-center px-4",children:[G.jsxs("div",{className:"h-full flex items-center gap-4",children:[G.jsxs("svg",{width:"24",height:"20",viewBox:"0 0 24 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[G.jsx("path",{d:"M2.43948 19.6217L0 17.1822L7.18219 9.99997L0 2.81778L2.43948 0.378296L12.0619 9.99997L2.43948 19.6217Z",fill:"#FF512F"}),G.jsx("path",{d:"M24 16.1719H12.401V19.6217H24V16.1719Z",fill:"#F6F6FF"})]}),G.jsx("div",{className:"mt-0.5 font-bold text-white",children:"Terminal"})]}),G.jsx("div",{className:"grow flex justify-end text-white select-none",children:G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsxs("div",{className:"relative group",children:[G.jsx("button",{onClick:c,type:"button",disabled:!l,className:"disabled:opacity-50 disabled:cursor-not-allowed enabled:active:scale-95 transition-all flex items-center gap-2 border border-white/20 rounded px-3 py-2 uppercase text-xs font-bold",children:G.jsx("img",{src:"./clipboard_3d.png",alt:"Logs",className:"w-4 h-4"})}),G.jsx("div",{className:"absolute border border-white/20 mt-2 w-max top-[100%] pt-1 left-[50%] translate-x-[-50%] bg-black text-white text-xs px-3 py-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Copy to clipboard"})]}),G.jsxs("div",{className:"relative group",children:[G.jsx("button",{onClick:d,type:"button",className:"active:scale-95 transition-all flex items-center gap-2 border border-white/20 rounded px-3 py-2 uppercase text-xs font-bold",children:G.jsx("img",{src:"./page_with_curl_3d.png",alt:"Logs",className:"w-4 h-4"})}),G.jsx("div",{className:"absolute border border-white/20 mt-2 w-max top-[100%] pt-1 left-[50%] translate-x-[-50%] bg-black text-white text-xs px-3 py-2 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Download logs"})]}),G.jsxs("div",{className:"relative group",children:[G.jsx("button",{onClick:s,type:"button",className:"disabled:opacity-50 disabled:cursor-not-allowed enabled:active:scale-95 transition-all flex items-center gap-2 border border-white/20 rounded px-3 py-2 uppercase text-xs font-bold",children:G.jsx("img",{src:"./wastebasket_3d.png",alt:"Logs",className:"w-4 h-4"})}),G.jsx("div",{className:"absolute border border-white/20 mt-2 w-max top-[100%] pt-1 left-[50%] translate-x-[-50%] bg-black text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Clear"})]}),G.jsxs("label",{htmlFor:"showLogs",className:"select-none cursor-pointer flex items-center gap-2 border border-white/20 rounded px-3 py-2 uppercase text-xs font-bold",children:[G.jsx("input",{id:"showLogs",type:"checkbox",checked:o,readOnly:!0,onClick:S}),"Logs"]})]})})]}),G.jsxs("div",{className:"fixed bottom-7 right-10 z-[100] flex gap-4",children:[G.jsx("button",{disabled:!p,onClick:C,className:"cursor-pointer active:scale-[90%] transition-all duration-100 bg-white rounded-full w-8 h-8 text-xs font-bold text-white flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:G.jsx("svg",{className:"text-black w-5 h-5 -mt-0.5",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:G.jsx("polyline",{points:"18 15 12 9 6 15"})})}),G.jsx("button",{disabled:!_,onClick:k,className:"cursor-pointer active:scale-[90%] transition-all duration-100 bg-white rounded-full w-8 h-8 text-xs font-bold text-white flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:G.jsx("svg",{className:"text-black w-5 h-5 -mb-0.5",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:G.jsx("polyline",{points:"6 9 12 15 18 9"})})})]}),G.jsx("div",{className:"fixed pt-[64px] w-screen h-screen bg-black",children:G.jsx("div",{className:"grow flex w-full h-full p-4",children:G.jsx("div",{ref:t,className:"w-full h-full"})})})]})}const dm=cm.update({id:"/",path:"/",getParentRoute:()=>hd}),fm={IndexRoute:dm},_m=hd._addFileChildren(fm)._addFileTypes(),pm=Qc({initialEntries:["/"]}),mm=Pf({routeTree:_m,history:pm});Ca.createRoot(document.getElementById("root")).render(G.jsx(Md.StrictMode,{children:G.jsx(im,{children:G.jsx(tm,{router:mm})})}));export{vm as __vite_legacy_guard};
